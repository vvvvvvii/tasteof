(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f87fbae8"],{"0618":function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var c=a("7a23"),o={class:"flex-fill"},n={class:"bg-secondary d-lg-none"},i={class:"container pt-8 pb-4"},r={class:"searchBox-body"},l=Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-light w-100","data-bs-toggle":"modal","data-bs-target":"#filterArticlePadModal"}," 篩選 ",-1),s={class:"modal fade",id:"filterArticlePadModal",tabindex:"-1","aria-labelledby":"filterArticlePadModalLabel","aria-hidden":"true"},d={class:"modal-dialog"},b={class:"modal-content"},p=Object(c["createStaticVNode"])('<div class="modal-header bg-wave py-2 mb-3 position-relative"><h5 class="modal-title fw-bold h4" id="filterArticlePadModalLabel"> 篩出你的心有所屬 </h5><button type="button" class="bg-transparent border-0 p-2 text-secondary h3" data-bs-dismiss="modal" aria-label="Close"><i class="bi bi-x-lg"></i></button><div class="cable-car"></div></div>',1),g={class:"modal-body p-6"},u={class:"d-flex flex-wrap btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},h={class:"d-flex flex-wrap btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},j={class:"bg-wave"},O={class:"container pt-lg-7"},f={class:"row py-lg-8 py-6"},m={class:"col-lg-4 mb-lg-0"},k={class:"searchBox d-lg-block d-none"},v=Object(c["createVNode"])("div",{class:"searchBox-header"},null,-1),V={class:"searchBox-body"},N=Object(c["createVNode"])("h4",{class:"mb-6 h3"},"地區",-1),y={class:"d-flex flex-wrap btn-group pb-3 mb-5\n                border-bottom border-gray position-relative",role:"group","aria-label":"Basic checkbox toggle button group"},w=Object(c["createVNode"])("div",{class:"cable-car"},null,-1),B=Object(c["createVNode"])("h4",{class:"pt-3 mb-6 h3"},"類型",-1),_={class:"d-flex flex-wrap btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},x={class:"col-lg-8"},C=Object(c["createVNode"])("h2",{class:"mb-6"},"你想要的玩樂靈感都在這",-1),A={class:"mb-8"},T={class:"card-body"},D={class:"d-flex justify-content-between"},M={class:"card-title mb-2"},S={class:"h5 text-gray-dark"},P={class:"h5 text-gray-dark mb-5"},L={key:0},F=Object(c["createVNode"])("p",{class:"text-end"},[Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary d-md-inline-block d-none"}," 閱讀更多 ")],-1),E=Object(c["createVNode"])("div",{class:"to-top-btn-text"},[Object(c["createVNode"])("p",null,"回到"),Object(c["createVNode"])("p",null,"上方")],-1);function U(e,t,a,U,J,R){var $=Object(c["resolveComponent"])("router-link"),I=Object(c["resolveComponent"])("pagination"),Y=Object(c["resolveComponent"])("alert");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",r,[l,Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",b,[p,Object(c["createVNode"])("div",g,[Object(c["createVNode"])("div",u,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(J.tagCategory.cities,(function(e,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"me-2 mb-2",key:a},[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"checkbox",id:e,autocomplete:"off",class:"btn-check",value:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return J.searchArticleTag=e})},null,8,["id","value"]),[[c["vModelCheckbox"],J.searchArticleTag]]),Object(c["createVNode"])("label",{for:e,class:"btn btn-outline-secondary rounded-2 h4"},"# "+Object(c["toDisplayString"])(e),9,["for"])])})),128))]),Object(c["createVNode"])("div",h,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(J.tagCategory.type,(function(e,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"me-2 mb-2",key:a},[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"checkbox",id:e,autocomplete:"off",class:"btn-check",value:e,"onUpdate:modelValue":t[2]||(t[2]=function(e){return J.searchArticleTag=e})},null,8,["id","value"]),[[c["vModelCheckbox"],J.searchArticleTag]]),Object(c["createVNode"])("label",{for:e,class:"btn btn-outline-secondary rounded-2 h4"},"# "+Object(c["toDisplayString"])(e),9,["for"])])})),128))])])])])])])])]),Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",k,[v,Object(c["createVNode"])("div",V,[N,Object(c["createVNode"])("div",y,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(J.tagCategory.cities,(function(e,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:a,class:"me-2 mb-2"},[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"checkbox",id:e,autocomplete:"off",class:"btn-check",value:e,"onUpdate:modelValue":t[3]||(t[3]=function(e){return J.searchArticleTag=e})},null,8,["id","value"]),[[c["vModelCheckbox"],J.searchArticleTag]]),Object(c["createVNode"])("label",{for:e,class:"btn btn-outline-secondary rounded-2"},"# "+Object(c["toDisplayString"])(e),9,["for"])])})),128)),w]),B,Object(c["createVNode"])("div",_,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(J.tagCategory.type,(function(e,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:a,class:"me-2 mb-2"},[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"checkbox",id:e,autocomplete:"off",class:"btn-check",value:e,"onUpdate:modelValue":t[4]||(t[4]=function(e){return J.searchArticleTag=e})},null,8,["id","value"]),[[c["vModelCheckbox"],J.searchArticleTag]]),Object(c["createVNode"])("label",{for:e,class:"btn btn-outline-secondary rounded-2"},"# "+Object(c["toDisplayString"])(e),9,["for"])])})),128))])])])]),Object(c["createVNode"])("div",x,[C,Object(c["createVNode"])("ul",A,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(R.filterArticle,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:"mb-3",key:e.id},[Object(c["createVNode"])($,{to:"/article/".concat(e.id),class:"card card-row"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{class:"card-row-img ",src:e.image,alt:e.title},null,8,["src","alt"]),Object(c["createVNode"])("div",T,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("div",D,[Object(c["createVNode"])("h5",M,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("p",S,Object(c["toDisplayString"])(e.create_at),1)]),Object(c["createVNode"])("p",P,["旅味精選"!==e.author?(Object(c["openBlock"])(),Object(c["createBlock"])("span",L,"網紅好評推薦 ｜ ")):Object(c["createCommentVNode"])("",!0),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.author),1)]),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.description),1)]),F])]})),_:2},1032,["to"])])})),128))]),R.filterArticle.length>10?(Object(c["openBlock"])(),Object(c["createBlock"])(I,{key:0,page:J.pagination,onEmitPagination:R.getData},null,8,["page","onEmitPagination"])):Object(c["createCommentVNode"])("",!0)])]),J.btnShow?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,class:"to-top-btn",onClick:t[5]||(t[5]=function(){return R.scrollToTop&&R.scrollToTop.apply(R,arguments)})},[E])):Object(c["createCommentVNode"])("",!0),J.showAlert?(Object(c["openBlock"])(),Object(c["createBlock"])(Y,{key:1,"alert-msg":J.alertMsg},null,8,["alert-msg"])):Object(c["createCommentVNode"])("",!0)])])])}var J=a("5530"),R=(a("99af"),a("159b"),a("ac1f"),a("5319"),a("1276"),a("4de4"),a("a02d")),$=a("8ae4"),I={name:"Product",data:function(){return{articles:[],tagCategory:{cities:["基隆","台北","新北","桃園","新竹","苗栗","台中","彰化","南投","雲林","嘉義","台南","高雄","屏東","宜蘭","花蓮","台東","離島"],type:["親子","浪漫","冒險","自然","烹飪","美食","知性文化","水上活動"]},searchArticleTag:[],pagination:{page_start:0,page_end:10,per_page:10,has_pre:!0,has_next:!0},btnShow:!0,showAlert:!1,alertMsg:""}},components:{alert:R["a"],pagination:$["a"]},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/articles/?page=").concat(t)).then((function(a){a.data.success?(e.articles=a.data.articles,e.articles.forEach((function(a,c){if("number"===typeof a.create_at){var o=new Date(1e3*a.create_at).toISOString().split("T")[0].replace(/-/g," / ");e.articles[c].create_at=o,e.pagination.totalResult=e.articles.length,1===t?e.pagination.has_pre=!1:t===e.pagination.total_pages?e.pagination.has_next=!1:(e.pagination.has_pre=!0,e.pagination.has_next=!0),e.pagination.total_pages=Math.ceil(e.pagination.totalResult/e.pagination.per_page),e.pagination.current_page=t,e.pagination.current_page>e.pagination.total_pages&&(e.pagination.current_page=e.pagination.total_pages);var n=e.pagination.current_page,i=e.pagination.per_page;e.pagination.page_start=n*i-i+1,e.pagination.page_end=n*i}}))):(e.customAlert(a.data.message),window.setTimeout(e.closeCustomAlert,5e3))})).catch((function(t){e.customAlert(t.response),window.setTimeout(e.closeCustomAlert,5e3)}))},customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},changePage:function(e){this.pagination=Object(J["a"])({},e)},scrollToTop:function(){window.scrollTo(0,0)}},computed:{filterArticle:function(){var e=this;return this.searchArticleTag.length>0?this.articles.filter((function(t){return t.tagCheck.filter((function(t){return-1!==e.searchArticleTag.indexOf(t)})).length>0})):this.articles}},mounted:function(){var e=this;this.getData(),this.listener=function(){e.btnShow=window.scrollY>0},window.addEventListener("scroll",this.listener)},unmounted:function(){window.removeEventListener("scroll",this.listener)},watch:{filterArticle:function(){this.pagination.current_page=1,this.pagination.page_start=0,this.pagination.page_end=10}}};I.render=U;t["default"]=I},"8ae4":function(e,t,a){"use strict";var c=a("7a23"),o={"aria-label":"Page navigation"},n={class:"pagination justify-content-center"},i={class:"page-link",href:"#"};function r(e,t,a,r,l,s){return Object(c["openBlock"])(),Object(c["createBlock"])("nav",o,[Object(c["createVNode"])("ul",n,[Object(c["createVNode"])("li",{class:["page-item",{disabled:!l.pagination.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return s.emitChangePage(l.pagination.current_page-1)}),["prevent"]))},"上一頁")],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.pagipages,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",{active:l.pagination.current_page===e}],key:e,onClick:Object(c["withModifiers"])((function(t){return s.emitChangePage(e)}),["prevent"])},[Object(c["createVNode"])("a",i,Object(c["toDisplayString"])(e),1)],10,["onClick"])})),128)),Object(c["createVNode"])("li",{class:["page-item",{disabled:!l.pagination.has_next}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return s.emitChangePage(l.pagination.current_page+1)}),["prevent"]))},"下一頁")],2)])])}var l=a("5530"),s={props:["page","filterProduct"],data:function(){return{pagination:Object(l["a"])({},this.page)}},methods:{emitChangePage:function(e){e>0&&e<=this.pagipages&&(this.pagination.current_page=e,this.pagination.page_start=this.pagination.per_page*e-this.pagination.per_page+1,this.pagination.page_end=this.pagination.per_page*e,1===e?this.pagination.has_pre=!1:e===this.pagination.total_pages?this.pagination.has_next=!1:(this.pagination.has_pre=!0,this.pagination.has_next=!0)),this.$emit("emit-pagination",this.pagination)}},computed:{pagipages:function(){return Math.ceil(this.filterProduct.length/this.page.per_page)}}};s.render=r;t["a"]=s},a02d:function(e,t,a){"use strict";var c=a("7a23"),o={class:"alert alert-primary alert-dismissible fade show",role:"alert"};function n(e,t,a,n,i,r){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,Object(c["toDisplayString"])(a.alertMsg),1)}var i={props:["alertMsg"]};i.render=n;t["a"]=i}}]);
//# sourceMappingURL=chunk-f87fbae8.a7351452.js.map