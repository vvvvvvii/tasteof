(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b4508be"],{a02d:function(t,e,c){"use strict";var o=c("7a23"),r={class:"alert alert-primary alert-dismissible fade show",role:"alert"};function n(t,e,c,n,a,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,Object(o["toDisplayString"])(c.alertMsg),1)}var a={props:["alertMsg"]};a.render=n;e["a"]=a},f19d:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r={class:"pt-7 flex-fill"},n={class:"container"},a={class:"col-lg-8"},i={class:"d-flex justify-content-between mb-lg-6 mb-md-4 mb-2"},s={class:"mb-2"},l={class:"text-gray-dark"},d={class:"mb-4"},u={class:"mb-8"},b={class:"bg-wave pt-6 pb-8",id:"moreActivitiesSection"},p={class:"container"},m=Object(o["createVNode"])("h3",{class:"text-primary mb-5"},"更多相似活動",-1),h={class:"row"},f={class:"card-img-outer"},j={class:"card-body"},O={class:"card-title ellipsis ellipsis-one-line"},w={class:"h3-md h5 text-end"},g=Object(o["createVNode"])("div",{class:"to-top-btn-text"},[Object(o["createVNode"])("p",null,"回到"),Object(o["createVNode"])("p",null,"上方")],-1);function v(t,e,c,v,k,V){var N=Object(o["resolveComponent"])("SwiperSlide"),S=Object(o["resolveComponent"])("Swiper"),B=Object(o["resolveComponent"])("router-link"),y=Object(o["resolveComponent"])("alert");return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",{class:["row justify-content-center pt-8",{"pb-8":0!==k.randomProducts.length}]},[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",null,[Object(o["createVNode"])("h2",s,Object(o["toDisplayString"])(k.article.title),1),Object(o["createVNode"])("p",l,"文："+Object(o["toDisplayString"])(k.article.author),1)]),Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(k.article.create_at),1)]),Object(o["createVNode"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.tagCheck,(function(t,e){return Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:e,class:["text-secondary",{"ms-2":0!==e}]},"#"+Object(o["toDisplayString"])(t),3)})),128))]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])(S,{centeredSlides:!0,loop:!0,navigation:!0,thumbs:{swiper:k.thumbsSwiper},class:"gallery-top rounded-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.imagesUrl,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:t.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("img",{src:t,class:"swiper-img rounded-2"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["thumbs"]),Object(o["createVNode"])(S,{onSwiper:V.setThumbsSwiper,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,class:"gallery-thumbs rounded-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.imagesUrl,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:t.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("img",{src:t,class:"swiper-img"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])]),Object(o["createVNode"])("div",{innerHTML:k.article.content,class:"ckeditor-content"},null,8,["innerHTML"])])],2)]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",p,[m,Object(o["createVNode"])("div",h,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.randomProducts,(function(t,e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-4",key:e},[Object(o["createVNode"])(B,{to:"/product/".concat(t.id),title:"查看更多",class:"card overflow-hidden"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("img",{src:t.imageUrl,alt:t.title,class:"card-img"},null,8,["src","alt"])]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])("h4",O,Object(o["toDisplayString"])(t.title),1),Object(o["createVNode"])("p",w,"NT "+Object(o["toDisplayString"])(V.addComma(t.lowestPrice))+" 起",1)])]})),_:2},1032,["to"])])})),128))])])]),k.btnShow?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"to-top-btn",onClick:e[1]||(e[1]=function(){return V.scrollToTop&&V.scrollToTop.apply(V,arguments)})},[g])):Object(o["createCommentVNode"])("",!0),k.showAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:1,"alert-msg":k.alertMsg},null,8,["alert-msg"])):Object(o["createCommentVNode"])("",!0)])}var k=c("3835"),V=(c("99af"),c("ac1f"),c("5319"),c("1276"),c("159b"),c("d81d"),c("4e82"),c("7db0"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("25f0"),c("a15b"),c("a02d")),N={data:function(){return{article:[],content:[],totalProducts:[],randomProducts:[],showAlert:!1,alertMsg:"",btnShow:!0,thumbsSwiper:null}},props:["id"],components:{alert:V["a"]},methods:{getArticleData:function(){var t=this,e=this.id;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/article/").concat(e)).then((function(e){e.data.success?(t.article=e.data.article,t.article.create_at=new Date(1e3*t.article.create_at).toISOString().split("T")[0].replace(/-/g," / "),t.getTotalProducts()):(t.customAlert(e.data.message),window.setTimeout(t.closeCustomAlert,5e3))})).catch((function(e){t.customAlert(e.response),window.setTimeout(t.closeCustomAlert,5e3)}))},getTotalProducts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/products/all")).then((function(e){e.data.success?(t.totalProducts=e.data.products,t.totalProducts.forEach((function(e,c){var o=e.packageOptions.map((function(t){return t.price}));o=o.sort((function(t,e){return t-e}));var r=o,n=Object(k["a"])(r,1),a=n[0];t.totalProducts[c].lowestPrice=a,e.packageOptions.forEach((function(e){e.price===a&&(t.totalProducts[c].lowestPriceUnit=e.unit)}))})),t.getRandomProducts()):(t.customAlert(e.data.message),window.setTimeout(t.closeCustomAlert,5e3))})).catch((function(e){t.customAlert(e.response),window.setTimeout(t.closeCustomAlert,5e3)}))},getRandomProducts:function(){var t,e=this,c=this.article.tagCheck;c.find((function(t){return"基隆"===t||"台北"===t||"新北"===t||"桃園"===t||"新竹"===t||"苗栗"===t}))?t="雙北":c.find((function(t){return"台中"===t||"彰化"===t||"南投"===t||"雲林"===t}))?t="中彰投":c.find((function(t){return"嘉義"===t||"台南"===t}))?t="嘉南":c.find((function(t){return"高雄"===t||"屏東"===t}))?t="高屏":c.find((function(t){return"宜蘭"===t||"花蓮"===t||"台東"===t||"離島"===t}))&&(t="花東");var o=[];this.totalProducts.forEach((function(e){e.tagCheck.forEach((function(c){c===t&&o.push(e)}))}));for(var r=new Set([]),n=o.length<3?o.length:3,a=0;r.size<n;a+1){var i=o.length,s=Math.floor(Math.random(i)*i);r.add(s)}r.forEach((function(t){e.randomProducts.push(o[t])}))},setThumbsSwiper:function(t){this.thumbsSwiper=t,console.log(this.thumbsSwiper)},customAlert:function(t){this.alertMsg=t,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},scrollToTop:function(){window.scrollTo(0,0)}},computed:{addComma:function(){return function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"".concat(e.join(","))}}},mounted:function(){var t=this;this.getArticleData(),this.listener=function(){t.btnShow=window.scrollY>0},window.addEventListener("scroll",this.listener)},unmounted:function(){window.removeEventListener("scroll",this.listener)},watch:{id:function(){this.getData()}}};N.render=v;e["default"]=N}}]);
//# sourceMappingURL=chunk-4b4508be.c4c2dbe5.js.map