(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e825af0"],{"07ac":function(e,t,c){var o=c("23e7"),a=c("6f53").values;o({target:"Object",stat:!0},{values:function(e){return a(e)}})},1799:function(e,t,c){"use strict";var o=c("7a23"),a={"aria-label":"Page navigation"},r={class:"pagination justify-content-center"},l={class:"page-link",href:"#"};function n(e,t,c,n,i,d){return Object(o["openBlock"])(),Object(o["createBlock"])("nav",a,[Object(o["createVNode"])("ul",r,[Object(o["createVNode"])("li",{class:["page-item",{disabled:!i.pagination.has_pre}]},[Object(o["createVNode"])("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return d.emitChangePage(i.pagination.current_page-1)}),["prevent"]))},"Previous")],2),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(d.pagipages,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:["page-item",{active:i.pagination.current_page===e}],key:e,onClick:Object(o["withModifiers"])((function(t){return d.emitChangePage(e)}),["prevent"])},[Object(o["createVNode"])("a",l,Object(o["toDisplayString"])(e),1)],10,["onClick"])})),128)),Object(o["createVNode"])("li",{class:["page-item",{disabled:!i.pagination.has_next}]},[Object(o["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(e){return d.emitChangePage(i.pagination.current_page+1)}),["prevent"]))},"Next")],2)])])}var i=c("5530"),d={props:["page","filterProduct"],data:function(){return{pagination:Object(i["a"])({},this.page)}},methods:{emitChangePage:function(e){e>0&&e<=this.pagipages&&(this.pagination.current_page=e,this.pagination.page_start=this.pagination.per_page*e-this.pagination.per_page+1,this.pagination.page_end=this.pagination.per_page*e,1===e?this.pagination.has_pre=!1:e===this.pagination.total_pages?this.pagination.has_next=!1:(this.pagination.has_pre=!0,this.pagination.has_next=!0)),this.$emit("emit-pagination",this.pagination)}},computed:{pagipages:function(){return Math.ceil(this.filterProduct.length/this.page.per_page)}}};d.render=n;t["a"]=d},"4bec":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var o=c("7a23"),a={class:"bg-light"},r={class:"container p-4"},l={class:"d-flex justify-content-between"},n=Object(o["createVNode"])("label",{for:"searchProduct"},[Object(o["createVNode"])("i",{class:"bi bi-search"})],-1),i={class:"mb-4"},d={key:0},s={key:0},u={key:1},b={key:1},p={key:0},m={key:1},O={class:"row g-0 align-items-center"},j=Object(o["createVNode"])("div",{class:"col-1"},[Object(o["createVNode"])("p",{class:"fw-bold"},"主力商品：")],-1),h={class:"col-11"},g={key:0},f={class:"d-flex flex-wrap"},V={type:"button",class:"tag-sm tag-warning"},k=Object(o["createVNode"])("i",{class:"bi bi-x"},null,-1),N={class:"container py-4"},v={class:"table mb-6"},y=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{width:"100"}),Object(o["createVNode"])("th",null,"產品名稱"),Object(o["createVNode"])("th",{width:"150"},"原價"),Object(o["createVNode"])("th",{width:"150"},"售價"),Object(o["createVNode"])("th",{width:"120"})])],-1),P={width:"100"},w={class:"pe-4"},x={width:"150"},B={width:"150"},C={width:"120"},M={class:"ms-2"};function A(e,t,c,A,D,U){var _=Object(o["resolveComponent"])("alert"),T=Object(o["resolveComponent"])("pagination"),I=Object(o["resolveComponent"])("product-edit-modal"),L=Object(o["resolveComponent"])("product-delete-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("div",null,[n,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"search",id:"searchProduct",class:"ms-2 rounded-3 px-3",placeholder:"搜尋產品","onUpdate:modelValue":t[1]||(t[1]=function(e){return D.searchProduct=e})},null,512),[[o["vModelText"],D.searchProduct]])]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-inline-flex me-2",onClick:t[2]||(t[2]=function(e){return U.openModal(e,"addProduct")})}," 新增產品 ")]),Object(o["createVNode"])("div",i,[""===D.searchProduct?(Object(o["openBlock"])(),Object(o["createBlock"])("small",d,[0==D.totalProducts.length?(Object(o["openBlock"])(),Object(o["createBlock"])("p",s,"目前尚無產品")):(Object(o["openBlock"])(),Object(o["createBlock"])("p",u,"目前有 "+Object(o["toDisplayString"])(D.totalProducts.length)+" 項產品",1))])):(Object(o["openBlock"])(),Object(o["createBlock"])("small",b,[0==U.filterProduct.length?(Object(o["openBlock"])(),Object(o["createBlock"])("p",p,"目前尚無產品")):(Object(o["openBlock"])(),Object(o["createBlock"])("p",m,"目前有 "+Object(o["toDisplayString"])(U.filterProduct.length)+" 項產品",1))]))]),Object(o["createVNode"])("div",O,[j,Object(o["createVNode"])("div",h,[0==D.mainProduct.length?(Object(o["openBlock"])(),Object(o["createBlock"])("p",g,"請新增主力商品")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("ul",f,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(D.mainProduct,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:t,class:"ms-1 mb-1",title:"刪除此項主力商品",onClick:function(t){return U.deleteMainProduct(e)}},[Object(o["createVNode"])("button",V,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title)+" ",1),k])],8,["onClick"])})),128))])])])])]),Object(o["createVNode"])("div",N,[Object(o["createVNode"])("table",v,[y,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(U.filterProduct,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id,"data-bs-toggle":"collapse",href:"#collapseProduct-"+t,"aria-expanded":"false","aria-controls":"collapseProduct-"+t,class:"light-primary-hover",title:"點擊看詳細內容"},[Object(o["createVNode"])("td",P,[Object(o["createVNode"])("span",{class:["badge rounded-pill",{"bg-danger":"城市導覽"===e.category,"bg-warning":"體驗票券"===e.category,"bg-success":"包車服務"===e.category}]},Object(o["toDisplayString"])(e.category),3)]),Object(o["createVNode"])("td",w,[Object(o["createVNode"])("p",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title)+" ",1),Object(o["createVNode"])("i",{class:["bi align-bottom d-inline",{"text-success":e.is_enabled,"bi-check-circle-fill":e.is_enabled,"text-gray":!e.is_enabled,"bi-dash-circle":!e.is_enabled}]},null,2),Object(o["createVNode"])("i",{class:["bi align-bottom d-inline ms-1",{"text-warning":e.is_mainProduct,"bi-star-fill":e.is_mainProduct}]},null,2)]),Object(o["createVNode"])("small",{class:"collapse",id:"collapseProduct-"+t},Object(o["toDisplayString"])(e.description),9,["id"])]),Object(o["createVNode"])("td",x,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.origin_price)+" / ",1),Object(o["createVNode"])("small",null,Object(o["toDisplayString"])(e.unit),1)]),Object(o["createVNode"])("td",B,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.price)+" / ",1),Object(o["createVNode"])("small",null,Object(o["toDisplayString"])(e.unit),1)]),Object(o["createVNode"])("td",C,[Object(o["createVNode"])("a",null,[Object(o["createVNode"])("span",{class:"material-icons",onClick:function(t){return U.openModal(e,"editProduct")}}," mode_edit ",8,["onClick"])]),Object(o["createVNode"])("a",M,[Object(o["createVNode"])("span",{class:"material-icons",onClick:function(t){return U.openModal(e,"deleteProduct")},"data-bs-toggle":"modal","data-bs-target":"#deleteModal"}," delete ",8,["onClick"])])])],8,["href","aria-controls"])})),128))])]),D.showAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(_,{key:0,"alert-msg":D.alertMsg},null,8,["alert-msg"])):Object(o["createCommentVNode"])("",!0),D.pagination.total_pages>1?(Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:1,page:D.pagination,onEmitPagination:U.getData},null,8,["page","onEmitPagination"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(I,{"modal-title":D.modalTitle,temp:D.temp,"tag-category":D.tagCategory,onEmitProductModal:U.addNewProduct,ref:"productModal"},null,8,["modal-title","temp","tag-category","onEmitProductModal"]),Object(o["createVNode"])(L,{temp:D.temp,onEmitDeleteModal:U.deleteProduct},null,8,["temp","onEmitDeleteModal"])])],64)}var D=c("5530"),U=(c("99af"),c("07ac"),c("159b"),c("4de4"),c("a434"),c("ac1f"),c("466d"),c("98ab")),_=c("1799"),T=c("7b17"),I={id:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-xl"},S={class:"modal-content product-modal-bg"},E={class:"modal-body"},$=Object(o["createVNode"])("div",{class:"text-end"},[Object(o["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-secondary h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(o["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),F={class:"container-fluid"},R={class:"row"},J={class:"col-4"},H={class:"bg-light p-3 rounded-2"},q={class:"mb-2"},z=Object(o["createVNode"])("label",{for:"imgUrl",class:"form-label"},"產品封面圖片",-1),G=Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary mb-2","data-bs-toggle":"collapse",href:"#collapseAddImgs","aria-expanded":"false","aria-controls":"collapseAddImgs"}," 新增其他圖片 ",-1),K={class:"collapse",id:"collapseAddImgs"},Q={class:"d-flex mb-2"},W=Object(o["createVNode"])("span",{class:"material-icons"}," add_task ",-1),X={class:"row g-1 mb-4"},Y={class:"col-4 mb-2"},Z=Object(o["createVNode"])("span",{class:"modal-delete-btn material-icons"}," delete ",-1),ee={key:1,class:"modal-img-default"},te=Object(o["createVNode"])("span",{class:"modal-delete-btn material-icons"}," delete ",-1),ce={key:1,class:"modal-img-default"},oe=Object(o["createVNode"])("h5",{class:"h4 mb-2"},"選擇標籤",-1),ae={class:"row"},re={class:"col-8"},le={class:"mb-4"},ne={class:"mb-2"},ie=Object(o["createVNode"])("label",{for:"productTitle",class:"form-label"},"標題",-1),de={class:"row"},se={class:"col-6 mb-2"},ue=Object(o["createVNode"])("label",{for:"productCategory",class:"form-label"},"分類",-1),be=Object(o["createVNode"])("option",{selected:"",disabled:"",value:""},"請選擇產品分類",-1),pe=Object(o["createVNode"])("option",null,"城市導覽",-1),me=Object(o["createVNode"])("option",null,"體驗票券",-1),Oe=Object(o["createVNode"])("option",null,"包車服務",-1),je={class:"col-6 mb-2"},he=Object(o["createVNode"])("label",{for:"productDurationDay",class:"form-label"},"行程長度",-1),ge={class:"d-flex"},fe=Object(o["createTextVNode"])("天 "),Ve=Object(o["createTextVNode"])("小時 "),ke=Object(o["createTextVNode"])("分 "),Ne={class:"mb-4"},ve=Object(o["createVNode"])("label",{for:"productDescription",class:"form-label"},"產品描述",-1),ye={class:"mb-2"},Pe={class:"d-flex justify-content-between mb-4"},we=Object(o["createVNode"])("label",{class:"form-label"},"行程所含地點",-1),xe={class:"row"},Be={class:"input-group"},Ce=Object(o["createVNode"])("i",{class:"bi bi-trash-fill"},null,-1),Me={class:"mb-2"},Ae=Object(o["createVNode"])("label",{for:"productAgeRestriction",class:"form-label"},"年齡限制",-1),De={class:"mb-6"},Ue=Object(o["createVNode"])("label",{for:"productPolicy",class:"form-label"},"適用規定",-1),_e={class:"mb-2"},Te={class:"row"},Ie={class:"col-4 mb-2"},Le={class:"col-4 mb-2"},Se={class:"col-4 mb-2"},Ee={class:"col-6 mb-2"},$e={class:"col-6 mb-4"},Fe={class:"mb-6"},Re={class:"d-flex justify-content-between mb-4"},Je=Object(o["createVNode"])("label",{class:"form-label"},"方案內含",-1),He={class:"row"},qe={class:"input-group"},ze=Object(o["createVNode"])("i",{class:"bi bi-trash-fill"},null,-1),Ge={class:"form-check"},Ke=Object(o["createVNode"])("label",{class:"form-check-label",for:"productEnabled"},"產品是否啟用",-1),Qe={class:"form-check"},We=Object(o["createVNode"])("label",{class:"form-check-label",for:"mainProduct"},"是否為主打商品",-1),Xe={class:"d-flex justify-content-center"},Ye=Object(o["createVNode"])("div",{class:"spinner-border spinner-border-sm text-dark d-none",role:"status"},[Object(o["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),Ze={class:"ms-1"},et=Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-dark w-25 d-block ms-3","data-bs-dismiss":"modal"}," 取消 ",-1);function tt(e,t,c,a,r,l){var n=Object(o["resolveComponent"])("alert");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",I,[Object(o["createVNode"])("div",L,[Object(o["createVNode"])("div",S,[Object(o["createVNode"])("div",E,[$,Object(o["createVNode"])("div",F,[Object(o["createVNode"])("div",R,[Object(o["createVNode"])("div",J,[Object(o["createVNode"])("div",H,[Object(o["createVNode"])("div",q,[z,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"imgUrl",class:"form-control",placeholder:"請輸入圖片網址","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tempProduct.imageUrl=e})},null,512),[[o["vModelText"],r.tempProduct.imageUrl]])]),G,Object(o["createVNode"])("div",K,[Object(o["createVNode"])("div",Q,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片網址","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tempProduct.otherImageUrl=e})},null,512),[[o["vModelText"],r.tempProduct.otherImageUrl]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-dark-primary rounded-pill ms-2",onClick:t[3]||(t[3]=function(){return l.addImgs&&l.addImgs.apply(l,arguments)})},[W])])]),Object(o["createVNode"])("ul",X,[Object(o["createVNode"])("li",Y,[r.tempProduct.imageUrl?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,class:"modal-img-outer",type:"button",onClick:t[4]||(t[4]=function(e){return l.deleteImgs(e,"mainImg")})},[Object(o["createVNode"])("img",{src:r.tempProduct.imageUrl,alt:"主圖片",class:"modal-img"},null,8,["src"]),Z])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",ee))]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.tempProduct.imagesUrl,(function(e,c){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:"col-4 mb-2",key:e},[e?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,class:"modal-img-outer",type:"button",onClick:t[5]||(t[5]=function(e){return l.deleteImgs(e,"subImg")}),"data-img":c},[Object(o["createVNode"])("img",{src:e,alt:"副圖片",class:"modal-img"},null,8,["src"]),te],8,["data-img"])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",ce))])})),128))]),oe,Object(o["createVNode"])("div",ae,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(c.tagCategory,(function(e,c){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:c,class:"col-4"},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",id:"tagCheck-".concat(c),"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.tempProduct.tagCheck=e}),value:e},null,8,["id","value"]),[[o["vModelCheckbox"],r.tempProduct.tagCheck]]),Object(o["createVNode"])("label",{for:"tagCheck-".concat(c),class:"ms-1"},Object(o["toDisplayString"])(e),9,["for"])])})),128))])])]),Object(o["createVNode"])("div",re,[Object(o["createVNode"])("form",le,[Object(o["createVNode"])("div",ne,[ie,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productTitle",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.tempProduct.title=e})},null,512),[[o["vModelText"],r.tempProduct.title]])]),Object(o["createVNode"])("div",de,[Object(o["createVNode"])("div",se,[ue,Object(o["withDirectives"])(Object(o["createVNode"])("select",{id:"productCategory",class:"form-select","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.tempProduct.category=e})},[be,pe,me,Oe],512),[[o["vModelSelect"],r.tempProduct.category]])]),Object(o["createVNode"])("div",je,[he,Object(o["createVNode"])("div",ge,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",id:"productDurationDay",class:"form-control",min:"0",max:"","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.tempProduct.duration.day=e})},null,512),[[o["vModelText"],r.tempProduct.duration.day,void 0,{number:!0}]]),fe,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",id:"productDurationHours",class:"form-control",min:"0",max:"23","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.tempProduct.duration.hours=e})},null,512),[[o["vModelText"],r.tempProduct.duration.hours,void 0,{number:!0}]]),Ve,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",id:"productDurationMin",class:"form-control",min:"0",max:"59","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.tempProduct.duration.min=e})},null,512),[[o["vModelText"],r.tempProduct.duration.min,void 0,{number:!0}]]),ke])])]),Object(o["createVNode"])("div",Ne,[ve,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{name:"productDescription",id:"productDescription",class:"form-control",cols:"30",rows:"3","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.tempProduct.description=e})},null,512),[[o["vModelText"],r.tempProduct.description]])]),Object(o["createVNode"])("div",ye,[Object(o["createVNode"])("div",Pe,[we,Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-block w-25",onClick:t[13]||(t[13]=function(){return l.addNewAttraction&&l.addNewAttraction.apply(l,arguments)})}," 加新地點 ")]),Object(o["createVNode"])("div",xe,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.tempProduct.attractionArr,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:t,class:"col-3 mb-2"},[Object(o["createVNode"])("div",Be,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return r.tempProduct.attractionArr[t]=e}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],r.tempProduct.attractionArr[t],void 0,{trim:!0}]]),Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",onClick:function(e){return l.deleteAttraction(t)}},[Ce],8,["onClick"])])])})),128))])]),Object(o["createVNode"])("div",Me,[Ae,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productAgeRestriction",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=function(e){return r.tempProduct.ageRestriction=e})},null,512),[[o["vModelText"],r.tempProduct.ageRestriction,void 0,{trim:!0}]])]),Object(o["createVNode"])("div",De,[Ue,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{name:"productPolicy",id:"productPolicy",class:"form-control",cols:"50",rows:"3","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.tempProduct.policy=e})},null,512),[[o["vModelText"],r.tempProduct.policy]])]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary d-block w-50 mb-6 mx-auto",onClick:t[16]||(t[16]=function(){return l.addPackageOption&&l.addPackageOption.apply(l,arguments)})}," 新增方案 "),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.tempProduct.packageOptions,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:t},[Object(o["createVNode"])("div",_e,[Object(o["createVNode"])("label",{for:"productPackageOptions-".concat(t),class:"form-label"},Object(o["toDisplayString"])("方案 ".concat(t+1," 名稱")),9,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productPackageOptions-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.optionName=t}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.optionName,void 0,{trim:!0}]])]),Object(o["createVNode"])("div",Te,[Object(o["createVNode"])("div",Ie,[Object(o["createVNode"])("label",{for:"productOriginalPrice-".concat(t),class:"form-label"},"原價",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",id:"productOriginalPrice-".concat(t),class:"form-control",min:"0","onUpdate:modelValue":function(t){return e.origin_price=t}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.origin_price,void 0,{number:!0}]])]),Object(o["createVNode"])("div",Le,[Object(o["createVNode"])("label",{for:"productPrice-".concat(t),class:"form-label"},"售價",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",id:"productPrice-".concat(t),class:"form-control",min:"0","onUpdate:modelValue":function(t){return e.price=t}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.price,void 0,{number:!0}]])]),Object(o["createVNode"])("div",Se,[Object(o["createVNode"])("label",{for:"productUnit-".concat(t),class:"form-label"},"計費單位",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productUnit-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.unit=t},placeholder:"每人"},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.unit]])]),Object(o["createVNode"])("div",Ee,[Object(o["createVNode"])("label",{for:"productMeetingPoint-".concat(t),class:"form-label"},"集合地點",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productMeetingPoint-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.meetingPoint=t}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.meetingPoint,void 0,{trim:!0}]])]),Object(o["createVNode"])("div",$e,[Object(o["createVNode"])("label",{for:"productMeetingTime-".concat(t),class:"form-label"},"集合時間",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"productMeetingTime-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.meetingTime=t}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],e.meetingTime,void 0,{trim:!0}]])])]),Object(o["createVNode"])("div",Fe,[Object(o["createVNode"])("div",Re,[Je,Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-block w-25",onClick:function(e){return l.addNewContent(t)}}," 加新內容 ",8,["onClick"])]),Object(o["createVNode"])("div",He,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.contentArr,(function(c,a){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:a,class:"col-6 mb-2"},[Object(o["createVNode"])("div",qe,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":function(t){return e.contentArr[a]=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.contentArr[a]]]),Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",onClick:function(e){return l.deleteContent(t,a)}},[ze],8,["onClick"])])])})),128))])])])})),128)),Object(o["createVNode"])("div",Ge,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"productEnabled","onUpdate:modelValue":t[17]||(t[17]=function(e){return r.tempProduct.is_enabled=e})},null,512),[[o["vModelCheckbox"],r.tempProduct.is_enabled]]),Ke]),Object(o["createVNode"])("div",Qe,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"mainProduct","onUpdate:modelValue":t[18]||(t[18]=function(e){return r.tempProduct.is_mainProduct=e})},null,512),[[o["vModelCheckbox"],r.tempProduct.is_mainProduct]]),We])]),Object(o["createVNode"])("div",Xe,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary w-25 d-flex justify-content-center align-items-center",ref:"productAdminBtn",onClick:t[19]||(t[19]=function(t){return e.$emit("emit-product-modal",c.modalTitle,r.tempProduct)})},[Ye,Object(o["createVNode"])("p",Ze,Object(o["toDisplayString"])(c.modalTitle),1)],512),et])])])])])])])]),r.showAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(n,{key:0,"alert-msg":r.alertMsg},null,8,["alert-msg"])):Object(o["createCommentVNode"])("",!0)],64)}c("caad"),c("2532"),c("b64b");var ct={props:["modalTitle","temp","tagCategory"],data:function(){return{tempProduct:Object(D["a"])(Object(D["a"])({},this.temp),{},{tagCheck:[]}),showAlert:!1,alertMsg:""}},components:{alert:U["a"]},methods:{customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},addImgs:function(){this.tempProduct.imagesUrl.length<5?(this.tempProduct.imagesUrl.push(this.tempProduct.otherImageUrl),this.tempProduct.otherImageUrl=""):this.customAlert("最多只可上傳六張照片")},deleteImgs:function(e,t){if("mainImg"===t)this.tempProduct.imageUrl="";else if("subImg"===t){var c=e.currentTarget.dataset.img;this.tempProduct.imagesUrl.splice(c,1)}},addNewAttraction:function(){!1===Object.keys(this.tempProduct).includes("attractionArr")?(this.tempProduct.attractionArr=[],this.tempProduct.attractionArr[0]={}):this.tempProduct.attractionArr[this.tempProduct.attractionArr.length]={}},deleteAttraction:function(e){this.tempProduct.attractionArr.splice(e,1)},addNewContent:function(e){!1===Object.keys(this.tempProduct.packageOptions[e]).includes("contentArr")?(this.tempProduct.packageOptions[e].contentArr=[],this.tempProduct.packageOptions[e].contentArr[0]=""):this.tempProduct.packageOptions[e].contentArr[this.tempProduct.packageOptions[e].contentArr.length]=""},deleteContent:function(e,t){this.tempProduct.packageOptions[e].contentArr.splice(t,1)},addPackageOption:function(){!1===Object.keys(this.tempProduct).includes("packageOptions")?(this.tempProduct.packageOptions=[],this.tempProduct.packageOptions[0]={}):this.tempProduct.packageOptions[this.tempProduct.packageOptions.length]={}}},watch:{temp:function(){this.tempProduct=Object(D["a"])({},this.temp),!1===Object.keys(this.tempProduct).includes("tagCheck")&&(this.tempProduct.tagCheck=[]),!1===Object.keys(this.tempProduct).includes("duration")&&(this.tempProduct.duration={day:0,hours:0,min:0})}},created:function(){this.tempProduct=Object(D["a"])(Object(D["a"])({},this.temp),{},{tagCheck:[]})}};ct.render=tt;var ot=ct,at=c("ec05"),rt={data:function(){return{temp:{title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",duration:{},is_enabled:!0,is_mainProduct:!1,imageUrl:"",otherImageUrl:"",imagesUrl:[],packageOptions:[],tagCheck:[]},tagCategory:["雙北","中彰投","嘉南","高屏","花東","親子","浪漫","冒險","自然","烹飪","美食","知性文化","水上活動","獨家代理"],products:[],totalProducts:[],mainProduct:[],pagination:{},modalTitle:"",productModal:{},deleteModal:{},searchProduct:"",showAlert:!1,alertMsg:""}},components:{alert:U["a"],pagination:_["a"],productEditModal:ot,productDeleteModal:at["a"]},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/products/?page=").concat(t)).then((function(t){if(t.data.success){var c=t.data;e.products=c.products,e.pagination=t.data.pagination}else e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)})),this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/products/all")).then((function(t){t.data.success?(e.totalProducts=Object.values(t.data.products),e.totalProducts.forEach((function(t){t.is_mainProduct&&e.mainProduct.push(t)}))):e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},openModal:function(e,t){switch(t){case"addProduct":this.clearModal(),this.modalTitle="新增",this.productModal.show();break;case"editProduct":this.modalTitle="完成編輯",this.temp=Object(D["a"])({},e),this.temp.is_enabled=1===this.temp.is_enabled,!1===Object.prototype.hasOwnProperty.call(this.temp,"imagesUrl")?this.temp.imagesUrl=[]:this.temp.imagesUrl=this.temp.imagesUrl.filter((function(e){return""!==e})),this.productModal.show();break;case"deleteProduct":this.temp=Object(D["a"])({},e);break;default:break}},clearModal:function(){this.temp={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:!0,imageUrl:"",otherImageUrl:"",imagesUrl:[]}},addNewProduct:function(e,t){var c=this,o=this.$refs.productModal.$refs.productAdminBtn;o.classList.add("disabled"),o.children[0].classList.remove("d-none");var a={};if(a.data=Object(D["a"])({},t),a.data.is_enabled=a.data.is_enabled?1:0,a.data.tagCheck.indexOf("體驗票券")>-1?a.data.tagCheck.splice(a.data.tagCheck.indexOf("體驗票券"),1):a.data.tagCheck.indexOf("城市導覽")>-1?a.data.tagCheck.splice(a.data.tagCheck.indexOf("城市導覽"),1):a.data.tagCheck.indexOf("包車服務")>-1&&a.data.tagCheck.splice(a.data.tagCheck.indexOf("包車服務"),1),a.data.tagCheck.push(a.data.category),delete a.data.otherImageUrl,"新增"===e)this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product"),a).then((function(e){e.data.success?(c.customAlert("新增完成"),c.getData(),o.classList.remove("disabled"),o.children[0].classList.add("d-none"),c.productModal.hide(),window.setTimeout(c.closeCustomAlert,5e3)):(c.customAlert(e.data.message),o.classList.remove("disabled"),o.children[0].classList.add("d-none"))})).catch((function(e){c.customAlert(e.response),o.classList.remove("disabled"),o.children[0].classList.add("d-none")}));else if("完成編輯"===e){var r=t.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(r),a).then((function(e){e.data.success?(c.customAlert("編輯成功"),c.getData(),o.classList.remove("disabled"),o.children[0].classList.add("d-none"),c.productModal.hide(),window.setTimeout(c.closeCustomAlert,5e3)):(c.customAlert(e.data.message),o.classList.remove("disabled"),o.children[0].classList.add("d-none"))})).catch((function(e){c.customAlert(e.response),o.classList.remove("disabled"),o.children[0].classList.add("d-none")}))}},deleteProduct:function(){var e=this,t=this.temp.id;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(t)).then((function(t){t.data.success?(e.customAlert("刪除成功"),e.getData(),e.clearModal(),e.deleteModal.hide(),window.setTimeout(e.closeCustomAlert,5e3)):e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},deleteMainProduct:function(e){var t=this,c={};c.data=Object(D["a"])({},e),c.data.is_mainProduct=!1;var o=c.data.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(o),c).then((function(e){e.data.success?t.customAlert("刪除成功"):t.customAlert(e.data.message)})).catch((function(e){t.customAlert(e.response)}))}},computed:{filterProduct:function(){var e=this;return""!==this.searchProduct?this.totalProducts.filter((function(t){return t.title.match(e.searchProduct)})):this.products}},created:function(){this.getData()},mounted:function(){this.productModal=new T["a"](document.getElementById("productModal"),{keyboard:!1}),this.deleteModal=new T["a"](document.getElementById("deleteModal"),{keyboard:!1})}};rt.render=A;t["default"]=rt},"98ab":function(e,t,c){"use strict";var o=c("7a23"),a={class:"alert alert-primary alert-dismissible fade show",role:"alert"};function r(e,t,c,r,l,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,Object(o["toDisplayString"])(c.alertMsg),1)}var l={props:["alertMsg"]};l.render=r;t["a"]=l},ec05:function(e,t,c){"use strict";var o=c("7a23"),a={id:"deleteModal",ref:"deleteModal",class:"modal fade",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},r={class:"modal-dialog"},l={class:"modal-content delete-modal-bg"},n={class:"modal-body"},i=Object(o["createVNode"])("div",{class:"text-end"},[Object(o["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-secondary h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(o["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),d={class:"delete-modal-inner-bg mb-4"},s={key:0,class:"text-center"},u={class:"h3 mb-2"},b=Object(o["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),p={key:1,class:"text-center"},m={class:"h3 mb-2"},O=Object(o["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),j={key:2,class:"text-center"},h={class:"h3 mb-2"},g=Object(o["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),f={key:3,class:"text-center"},V={class:"h3 mb-2"},k=Object(o["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),N={class:"d-flex justify-content-center"},v=Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary w-25 d-block ms-3","data-bs-dismiss":"modal"}," 取消 ",-1);function y(e,t,c,y,P,w){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("div",n,[i,Object(o["createVNode"])("div",d,[P.tempItem.hasOwnProperty("is_mainProduct")?(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])("p",u,Object(o["toDisplayString"])(P.tempItem.title),1),b])):P.tempItem.hasOwnProperty("code")?(Object(o["openBlock"])(),Object(o["createBlock"])("div",p,[Object(o["createVNode"])("p",m,"優惠券代碼："+Object(o["toDisplayString"])(P.tempItem.code),1),O])):P.tempItem.hasOwnProperty("user")?(Object(o["openBlock"])(),Object(o["createBlock"])("div",j,[Object(o["createVNode"])("p",h,"訂單編號："+Object(o["toDisplayString"])(P.tempItem.id),1),g])):P.tempItem.hasOwnProperty("author")?(Object(o["openBlock"])(),Object(o["createBlock"])("div",f,[Object(o["createVNode"])("p",V,Object(o["toDisplayString"])(P.tempItem.title),1),k])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",N,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary w-25 d-block",onClick:t[1]||(t[1]=function(t){return e.$emit("emit-delete-modal")})}," 確認刪除 "),v])])])])],512)}var P=c("5530"),w={props:["temp"],data:function(){return{tempItem:Object(P["a"])({},this.temp)}},watch:{temp:function(){this.tempItem=Object(P["a"])({},this.temp)}},created:function(){this.tempItem=Object(P["a"])({},this.temp)}};w.render=y;t["a"]=w}}]);
//# sourceMappingURL=chunk-1e825af0.3adeb203.js.map