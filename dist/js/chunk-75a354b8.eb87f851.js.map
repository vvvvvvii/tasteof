{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/ArticleList.vue","webpack:///./src/views/ArticleList.vue?5183","webpack:///./src/components/Alert.vue","webpack:///./src/components/Alert.vue?d299"],"names":["aria-label","class","href","page","has_pre","tabindex","aria-disabled","changePage","current_page","total_pages","item","key","has_next","props","methods","console","log","this","$emit","render","role","type","tagCategory","cities","id","autocomplete","value","searchArticleTag","for","filterArticle","to","src","image","alt","title","create_at","author","description","pagination","getData","showAlert","alert-msg","alertMsg","name","data","articles","components","alert","currentPage","$http","get","then","res","success","forEach","index","time","Date","toISOString","split","replace","customAlert","message","catch","err","response","msg","closeCustomAlert","computed","length","filter","i","tagCheck","val","indexOf","created"],"mappings":"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","file":"js/chunk-75a354b8.eb87f851.js","sourcesContent":["<template>\n  <nav aria-label=\"Page navigation\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" :class=\"{ disabled: !page.has_pre }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          tabindex=\"-1\"\n          aria-disabled=\"true\"\n          @click.prevent=\"changePage(page.current_page - 1)\"\n          >Previous</a\n        >\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"item in page.total_pages\"\n        :key=\"item\"\n        :class=\"{ active: page.current_page === item }\"\n        @click.prevent=\"changePage(item)\"\n      >\n        <a class=\"page-link\" href=\"#\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: !page.has_next }\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page.current_page + 1)\">Next</a>\n      </li>\n    </ul>\n  </nav>\n</template>\n<script>\nexport default {\n  props: ['page'],\n  methods: {\n    changePage(page) {\n      console.log(page);\n      this.$emit('emit-pagination', page);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=17410b04\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"bg-light\">\n    <div class=\"container\">\n      <div class=\"row py-8\">\n        <div class=\"col-4\">\n          <div class=\"searchBox\">\n            <div class=\"searchBox-header\">\n              <h3 class=\"fw-bold\">篩選</h3>\n            </div>\n            <div class=\"searchBox-body\">\n              <h4 class=\"mb-6 h3\">地區</h4>\n              <div\n                class=\"d-flex flex-wrap btn-group pb-3 mb-5 border-bottom border-gray\"\n                role=\"group\"\n                aria-label=\"Basic checkbox toggle button group\"\n              >\n                <div v-for=\"(item, key) in tagCategory.cities\" :key=\"key\" class=\"me-2 mb-2\">\n                  <input\n                    type=\"checkbox\"\n                    :id=\"item\"\n                    autocomplete=\"off\"\n                    class=\"btn-check\"\n                    :value=\"item\"\n                    v-model=\"searchArticleTag\"\n                  />\n                  <label :for=\"item\" class=\"btn btn-outline-secondary rounded-3\"\n                    ># {{ item }}\n                  </label>\n                </div>\n              </div>\n              <h4 class=\"mb-6 h3\">類型</h4>\n              <div\n                class=\"d-flex flex-wrap btn-group\"\n                role=\"group\"\n                aria-label=\"Basic checkbox toggle button group\"\n              >\n                <div v-for=\"(item, key) in tagCategory.type\" :key=\"key\" class=\"me-2 mb-2\">\n                  <input\n                    type=\"checkbox\"\n                    :id=\"item\"\n                    autocomplete=\"off\"\n                    class=\"btn-check\"\n                    :value=\"item\"\n                    v-model=\"searchArticleTag\"\n                  />\n                  <label :for=\"item\" class=\"btn btn-outline-secondary rounded-3\"\n                    ># {{ item }}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-8\">\n          <ul class=\"mb-8\">\n            <li class=\"mb-3\" v-for=\"item in filterArticle\" :key=\"item.id\">\n              <router-link :to=\"`/article/${item.id}`\" class=\"card card-row\">\n                <img class=\"card-row-img\" :src=\"item.image\" :alt=\"item.title\" />\n                <div class=\"card-body\">\n                  <div>\n                    <div class=\"d-flex justify-content-between\">\n                      <h5 class=\"card-title mb-2\">{{ item.title }}</h5>\n                      <p class=\"h5 text-gray-dark\">{{ item.create_at }}</p>\n                    </div>\n                    <p class=\"h5 text-gray-dark mb-5\">\n                      <span v-if=\"item.author !== '旅味精選'\">網紅好評推薦 ｜ </span>\n                      {{ item.author }}\n                    </p>\n                    <p>{{ item.description }}</p>\n                  </div>\n                  <p class=\"text-end\">\n                    <button type=\"button\" class=\"btn btn-primary\">閱讀更多</button>\n                  </p>\n                </div>\n              </router-link>\n            </li>\n          </ul>\n          <!--pagination-->\n          <pagination\n            :page=\"pagination\"\n            @emit-pagination=\"getData\"\n            v-if=\"pagination.total_pages > 1\"\n          ></pagination>\n        </div>\n      </div>\n      <!--alert-->\n      <alert v-if=\"showAlert\" :alert-msg=\"alertMsg\"></alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport alert from '@/components/Alert.vue';\nimport pagination from '@/components/Pagination.vue';\n\nexport default {\n  name: 'Product',\n  data() {\n    return {\n      articles: [],\n      tagCategory: {\n        cities: [\n          '基隆',\n          '台北',\n          '新北',\n          '桃園',\n          '新竹',\n          '苗栗',\n          '台中',\n          '彰化',\n          '南投',\n          '雲林',\n          '嘉義',\n          '台南',\n          '高雄',\n          '屏東',\n          '宜蘭',\n          '花蓮',\n          '台東',\n          '離島',\n        ],\n        type: ['親子', '浪漫', '冒險', '自然', '烹飪', '美食', '知性文化', '水上活動'],\n      },\n      searchArticleTag: [],\n      pagination: {},\n    };\n  },\n  components: { alert, pagination },\n  methods: {\n    getData(currentPage = 1) {\n      //   若未傳入則預設為第一頁\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/articles/?page=${currentPage}`,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.articles = res.data.articles;\n            this.articles.forEach((item, index) => {\n              if (typeof item.create_at === 'number') {\n                // 避免已經轉成亦閱讀的日期後，因編輯重跑 getData() ，無法重複轉換而錯誤\n                const time = new Date(item.create_at * 1000)\n                  .toISOString()\n                  .split('T')[0]\n                  .replace(/-/g, ' / ');\n                this.articles[index].create_at = time;\n              }\n            });\n            this.pagination = res.data.pagination;\n          } else {\n            this.customAlert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n        });\n    },\n    customAlert(msg) {\n      this.alertMsg = msg;\n      this.showAlert = true; // 秀出 alert\n    },\n    closeCustomAlert() {\n      this.showAlert = false;\n    },\n  },\n  computed: {\n    filterArticle() {\n      if (this.searchArticleTag.length > 0) {\n        return this.articles.filter(\n          (i) => i.tagCheck.filter((val) => this.searchArticleTag.indexOf(val) !== -1).length > 0,\n        );\n      }\n      return this.articles;\n    },\n  },\n  created() {\n    this.getData();\n  },\n};\n</script>\n","import { render } from \"./ArticleList.vue?vue&type=template&id=3b2a6550\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n    {{ alertMsg }}\n  </div>\n</template>\n<script>\nexport default {\n  props: ['alertMsg'],\n};\n</script>\n","import { render } from \"./Alert.vue?vue&type=template&id=75396c34\"\nimport script from \"./Alert.vue?vue&type=script&lang=js\"\nexport * from \"./Alert.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}