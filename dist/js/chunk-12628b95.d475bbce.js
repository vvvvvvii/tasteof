(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12628b95"],{"676a":function(e,t,c){"use strict";c.r(t);var o=c("7a23"),a={class:"py-4"},r={class:"container-fluid"},s={class:"row"},n=Object(o["createVNode"])("div",{class:"col-8"},[Object(o["createVNode"])("img",{src:"img/3d-flame-146.png",alt:"login-img",class:"customer-modal-img primary-customer-modal-img"})],-1),l={class:"col-4 position-relative"},i={class:"customer-modal-inner primary-customer-modal-inner"},d={class:"mb-3"},u=Object(o["createVNode"])("label",{for:"loginInputEmail",class:"form-label"},"帳號",-1),m={class:"mb-3"},b=Object(o["createVNode"])("label",{for:"loginInputPassword",class:"form-label"},"密碼",-1),p={class:"mb-5 form-check"},h=Object(o["createVNode"])("label",{class:"form-check-label small",for:"loginCheck"},[Object(o["createTextVNode"])(" 我遵守 "),Object(o["createVNode"])("a",{href:"#"},"客戶條款")],-1),g={class:"d-grid gap-2 mx-auto text-center"},j=Object(o["createVNode"])("div",{class:"spinner-border spinner-border-sm text-light d-none",role:"status"},[Object(o["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),O=Object(o["createVNode"])("p",{class:"ms-1"},"登入",-1),f=Object(o["createVNode"])("a",{href:"#"},"忘記密碼？",-1),N=Object(o["createVNode"])("p",null,[Object(o["createTextVNode"])(" 還沒有帳號？ "),Object(o["createVNode"])("a",{href:"#"},"註冊")],-1),w=Object(o["createVNode"])("div",{class:"customer-modal-inner-shadow primary-customer-modal-inner-shadow"},null,-1);function v(e,t,c,v,k,V){var x=Object(o["resolveComponent"])("alert");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",s,[n,Object(o["createVNode"])("div",l,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("form",null,[Object(o["createVNode"])("div",d,[u,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"email",class:"form-control",id:"loginInputEmail","onUpdate:modelValue":t[1]||(t[1]=function(e){return k.userName=e}),"aria-describedby":"emailHelp",placeholder:"example@gmail.com"},null,512),[[o["vModelText"],k.userName,void 0,{trim:!0}]])]),Object(o["createVNode"])("div",m,[b,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"password",class:"form-control",id:"loginInputPassword","onUpdate:modelValue":t[2]||(t[2]=function(e){return k.password=e})},null,512),[[o["vModelText"],k.password,void 0,{trim:!0}]])]),Object(o["createVNode"])("div",p,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"loginCheck","onUpdate:modelValue":t[3]||(t[3]=function(e){return k.check=e})},null,512),[[o["vModelCheckbox"],k.check]]),h]),Object(o["createVNode"])("div",g,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-dark mb-1 d-flex justify-content-center align-items-center",ref:"loginBtn",onClick:t[4]||(t[4]=function(){return V.checkLogin&&V.checkLogin.apply(V,arguments)}),disabled:""===k.userName||""===k.password||!1===k.check},[j,O],8,["disabled"]),f,N])])]),w])])])]),k.showAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(x,{key:0,"alert-msg":k.alertMsg},null,8,["alert-msg"])):Object(o["createCommentVNode"])("",!0)],64)}c("99af"),c("fb6a"),c("ac1f"),c("1276");var k=c("98ab"),V={data:function(){return{userName:"",password:"",check:!1,showAlert:!1,alertMsg:""}},components:{alert:k["a"]},methods:{customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},checkLogin:function(){var e=this,t=this.$refs.loginBtn;t.classList.add("disabled"),t.children[0].classList.remove("d-none"),this.$http.post("".concat("https://vue3-course-api.hexschool.io","/admin/signin"),{username:this.userName,password:this.password}).then((function(c){if(c.data.success){e.customAlert("登入成功，請稍候"),window.setTimeout(e.closeCustomAlert,5e3);var o=c.data,a=o.token,r=o.expired,s=new Date,n=new Date(r),l=["日","一","二","三","四","五","六"],i="".concat(s.getFullYear()," 年 ").concat(s.getMonth()+1," 月 ").concat(s.getDate()," 日 星期").concat(l[s.getDay()]," ").concat(s.getHours(),":").concat("00".concat(s.getMinutes()).slice(-2)),d="".concat(n.getFullYear()," 年 ").concat(n.getMonth()+1," 月 ").concat(n.getDate()," 日 星期").concat(l[n.getDay()]," ").concat(n.getHours(),":").concat("00".concat(n.getMinutes()).slice(-2));return document.cookie="hexToken=".concat(a,";expires=").concat(new Date(r),";path=/"),document.cookie="hexLoginName=".concat(e.userName.split("@",1),";expires=").concat(new Date(r),";path=/"),document.cookie="hexTokenStart=".concat(i,";expires=").concat(new Date(r),";path=/"),document.cookie="hexTokenExpired=".concat(d,";expires=").concat(new Date(r),";path=/"),t.classList.remove("disabled"),t.children[0].classList.add("d-none"),void e.$router.push("/admin/product")}e.customAlert("登入失敗，請確認帳密是否正確"),window.setTimeout(e.closeCustomAlert,5e3)})).catch((function(t){e.customAlert(t.response)}))}}};V.render=v;t["default"]=V},"98ab":function(e,t,c){"use strict";var o=c("7a23"),a={class:"alert alert-primary alert-dismissible fade show",role:"alert"};function r(e,t,c,r,s,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,Object(o["toDisplayString"])(c.alertMsg),1)}var s={props:["alertMsg"]};s.render=r;t["a"]=s}}]);
//# sourceMappingURL=chunk-12628b95.d475bbce.js.map