(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1261d189"],{"3ad6":function(t,e,c){"use strict";c.r(e);var r=c("7a23"),a={class:"container"},o={class:"row justify-content-center py-8"},n={class:"col-lg-8"},i={class:"d-flex justify-content-between mb-6"},s={class:"mb-2"},l={class:"text-gray-dark"},d={class:"mb-4"},u={class:"bg-light pt-6 pb-8",id:"moreActivitiesSection"},b={class:"container"},p=Object(r["createVNode"])("h3",{class:"text-primary mb-5"},"更多相似活動",-1),O={class:"row"},j={class:"card-img-outer"},h={class:"card-body"},f={class:"card-title ellipsis"},m={class:"h3 text-end"},g={class:"h4"};function v(t,e,c,v,k,w){var N=Object(r["resolveComponent"])("SwiperSlide"),V=Object(r["resolveComponent"])("Swiper"),y=Object(r["resolveComponent"])("router-link"),B=Object(r["resolveComponent"])("alert");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("div",o,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("h2",s,Object(r["toDisplayString"])(k.article.title),1),Object(r["createVNode"])("p",l,"文："+Object(r["toDisplayString"])(k.article.author),1)]),Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(k.article.create_at),1)]),Object(r["createVNode"])("div",d,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(k.article.tagCheck,(function(t,e){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:e,class:["btn btn-outline-secondary rounded-3",{"ms-2":0!==e}]},"#"+Object(r["toDisplayString"])(t),3)})),128))]),Object(r["createVNode"])(V,{autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,"slides-per-view":3,spaceBetween:200,class:"mySwiper article-main-img mb-6"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(k.article.imagesUrl,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:t.id},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:t,class:"swiper-img object-fit-cover"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])("div",{innerHTML:k.article.content,class:"ckeditor-content"},null,8,["innerHTML"])])])]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("div",b,[p,Object(r["createVNode"])("div",O,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(k.randomProducts,(function(t,e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-4",key:e},[Object(r["createVNode"])(y,{to:"/product/".concat(t.id),title:"查看更多",class:"card overflow-hidden"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",j,[Object(r["createVNode"])("img",{src:t.imageUrl,alt:t.title,class:"card-img"},null,8,["src","alt"])]),Object(r["createVNode"])("div",h,[Object(r["createVNode"])("h4",f,Object(r["toDisplayString"])(t.title),1),Object(r["createVNode"])("p",m,[Object(r["createTextVNode"])(" NT "+Object(r["toDisplayString"])(t.lowestPrice)+" 起 ",1),Object(r["createVNode"])("span",g," / "+Object(r["toDisplayString"])(t.lowestPriceUnit),1)])])]})),_:2},1032,["to"])])})),128))])])]),k.showAlert?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:0,"alert-msg":k.alertMsg},null,8,["alert-msg"])):Object(r["createCommentVNode"])("",!0)])}var k=c("3835"),w=(c("99af"),c("ac1f"),c("5319"),c("1276"),c("159b"),c("d81d"),c("4e82"),c("7db0"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("98ab")),N={data:function(){return{article:[],content:[],totalProducts:[],randomProducts:[],showAlert:!1,alertMsg:""}},props:["id"],components:{alert:w["a"]},methods:{getArticleData:function(){var t=this,e=this.id;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/article/").concat(e)).then((function(e){e.data.success?(t.article=e.data.article,t.article.create_at=new Date(1e3*t.article.create_at).toISOString().split("T")[0].replace(/-/g," / "),t.getTotalProducts()):t.customAlert(e.data.message)})).catch((function(e){t.customAlert(e.response)}))},getTotalProducts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/products/all")).then((function(e){e.data.success?(t.totalProducts=e.data.products,t.totalProducts.forEach((function(e,c){var r=e.packageOptions.map((function(t){return t.price}));r=r.sort((function(t,e){return t-e}));var a=r,o=Object(k["a"])(a,1),n=o[0];t.totalProducts[c].lowestPrice=n,e.packageOptions.forEach((function(e){e.price===n&&(t.totalProducts[c].lowestPriceUnit=e.unit)}))})),t.getRandomProducts()):t.customAlert(e.data.message)})).catch((function(e){t.customAlert(e.response)}))},getRandomProducts:function(){var t,e=this,c=this.article.tagCheck;c.find((function(t){return"基隆"===t||"台北"===t||"新北"===t||"桃園"===t||"新竹"===t||"苗栗"===t}))?t="雙北":c.find((function(t){return"台中"===t||"彰化"===t||"南投"===t||"雲林"===t}))?t="中彰投":c.find((function(t){return"嘉義"===t||"台南"===t}))?t="嘉南":c.find((function(t){return"高雄"===t||"屏東"===t}))?t="高屏":c.find((function(t){return"宜蘭"===t||"花蓮"===t||"台東"===t||"離島"===t}))&&(t="花東");var r=[];this.totalProducts.forEach((function(e){e.tagCheck.forEach((function(c){c===t&&r.push(e)}))}));for(var a=new Set([]),o=r.length<3?r.length:3,n=0;a.size<o;n+1){var i=r.length,s=Math.floor(Math.random(i)*i);a.add(s)}a.forEach((function(t){e.randomProducts.push(r[t])}))},setThumbsSwiper:function(t){this.thumbsSwiper=t},customAlert:function(t){this.alertMsg=t,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1}},created:function(){this.getArticleData()},watch:{"$route.params.id":{handler:function(){this.$router.go()}}}};N.render=v;e["default"]=N},"98ab":function(t,e,c){"use strict";var r=c("7a23"),a={class:"alert alert-primary alert-dismissible fade show",role:"alert"};function o(t,e,c,o,n,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,Object(r["toDisplayString"])(c.alertMsg),1)}var n={props:["alertMsg"]};n.render=o;e["a"]=n}}]);
//# sourceMappingURL=chunk-1261d189.68114ab0.js.map