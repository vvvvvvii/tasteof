{"version":3,"sources":["webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?c8fc","webpack:///./node_modules/mitt/dist/mitt.mjs","webpack:///./src/assets/js/emitter.js"],"names":["class","type","data-bs-toggle","data-bs-target","id","tabindex","aria-labelledby","aria-hidden","for","role","moreInfo","productInfo","lowestPrice","href","goAnchor","toRules","toMoreActivities","autoplay","loop","slides-per-view","spaceBetween","imagesUrl","item","key","src","centeredSlides","navigation","thumbs","thumbsSwiper","setThumbsSwiper","slidesPerView","freeMode","watchSlidesVisibility","watchSlidesProgress","title","attractionArr","index","description","ageRestriction","duration","day","hours","min","changeTktNum","tktNum","adult","child","ref","config","startDate","packageOptions","optionName","length","imageUrl","alt","meetingTime","contentArr","content","price","unit","addCart","disabled","policy","randomProducts","to","lowestPriceUnit","showAlert","alert-msg","alertMsg","data","altFormat","dateFormat","minDate","totalProducts","props","components","alert","flatPickr","methods","getData","seed","this","$http","get","then","res","success","product","filter","e","optionPrice","map","sort","x","y","getTotalProducts","customAlert","message","catch","err","response","products","forEach","packageOptionsPrice","i","getRandomProducts","tagCheck","console","log","area","find","filterArr","push","arrSet","Set","maxSize","size","num","Math","floor","random","add","selector","anchor","$el","querySelector","document","body","scrollTop","offsetTop","documentElement","swiper","addCartBtn","$refs","classList","children","remove","product_id","qty","qtyDetail","start_date","post","window","setTimeout","closeCustomAlert","emitter","emit","tktType","calcType","msg","mounted","watch","handler","$router","go","render","all","n","Map","on","t","set","off","splice","indexOf","slice","mitt"],"mappings":"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","file":"js/chunk-3f912f22.d1f17f2c.js","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <div class=\"row py-8\">\n        <div class=\"col-lg-4\">\n          <div class=\"d-flex justify-content-between mb-6 px-2\">\n            <p class=\"h3\">立即預購</p>\n            <p class=\"text-end\">\n              <span class=\"h3\">NT {{ moreInfo.productInfo.lowestPrice }} </span>\n              起\n            </p>\n          </div>\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item\">\n              <a\n                href=\"#\"\n                class=\"list-group-link\"\n                @click.prevent=\"goAnchor('#packageOptionsSection')\"\n                >選擇方案</a\n              >\n            </li>\n            <li class=\"list-group-item\" @click.prevent=\"toRules\">\n              <a href=\"#\" class=\"list-group-link\" @click.prevent=\"goAnchor('#ruleSection')\"\n                >相關規定</a\n              >\n            </li>\n            <li class=\"list-group-item\" @click.prevent=\"toMoreActivities\">\n              <a\n                href=\"#\"\n                class=\"list-group-link\"\n                @click.prevent=\"goAnchor('#moreActivitiesSection')\"\n                >更多相似活動</a\n              >\n            </li>\n          </ul>\n        </div>\n        <div class=\"col-lg-8\">\n          <Swiper\n            :autoplay=\"{\n              delay: 5000,\n              disableOnInteraction: false,\n            }\"\n            :loop=\"true\"\n            :slides-per-view=\"3\"\n            :spaceBetween=\"200\"\n            class=\"mySwiper\"\n          >\n            <button\n              type=\"button\"\n              class=\"btn extend-img-btn\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#productPageImgModal\"\n            >\n              <i class=\"bi bi-arrows-fullscreen\"></i>\n            </button>\n            <SwiperSlide v-for=\"item in moreInfo.productInfo.imagesUrl\" :key=\"item.id\">\n              <img :src=\"item\" class=\"swiper-img opacity-50\" />\n            </SwiperSlide>\n          </Swiper>\n          <!-- Modal -->\n          <div\n            class=\"modal fade p-0\"\n            id=\"productPageImgModal\"\n            tabindex=\"-1\"\n            aria-labelledby=\"exampleModalLabel\"\n            aria-hidden=\"true\"\n          >\n            <div class=\"modal-dialog modal-xl\">\n              <div class=\"modal-content rounded-0\">\n                <div class=\"modal-body p-0\">\n                  <Swiper\n                    :autoplay=\"{\n                      delay: 5000,\n                      disableOnInteraction: false,\n                    }\"\n                    :loop=\"true\"\n                    :centeredSlides=\"true\"\n                    :navigation=\"true\"\n                    :thumbs=\"{ swiper: thumbsSwiper }\"\n                    class=\"gallery-top\"\n                  >\n                    <SwiperSlide v-for=\"item in moreInfo.productInfo.imagesUrl\" :key=\"item.id\">\n                      <img :src=\"item\" class=\"swiper-img\" />\n                    </SwiperSlide>\n                  </Swiper>\n                  <swiper\n                    @swiper=\"setThumbsSwiper\"\n                    :loop=\"true\"\n                    :slidesPerView=\"4\"\n                    :spaceBetween=\"10\"\n                    :freeMode=\"true\"\n                    :watchSlidesVisibility=\"true\"\n                    :watchSlidesProgress=\"true\"\n                    class=\"gallery-thumbs\"\n                  >\n                    <SwiperSlide v-for=\"item in moreInfo.productInfo.imagesUrl\" :key=\"item.id\">\n                      <img :src=\"item\" class=\"swiper-img\" />\n                    </SwiperSlide>\n                    <!-- </swiper>\n\n                  <Swiper\n                    :autoplay=\"{\n                      delay: 5000,\n                      disableOnInteraction: false,\n                    }\"\n                    :loop=\"true\"\n                    class=\"mySwiper\"\n                  >\n                    <SwiperSlide v-for=\"item in moreInfo.productInfo.imagesUrl\" :key=\"item.id\">\n                      <img :src=\"item\" class=\"swiper-img\" />\n                    </SwiperSlide> -->\n                  </swiper>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"px-6 pt-6 pb-3\">\n            <h2 class=\"text-primary text-center fw-bold mb-6\">{{ moreInfo.productInfo.title }}</h2>\n            <div class=\"d-flex justify-content-center mb-6\">\n              <div\n                v-for=\"(item, index) in moreInfo.productInfo.attractionArr\"\n                :key=\"index\"\n                class=\"d-flex flex-column align-items-center h3 attraction-line\"\n                :class=\"{\n                  'ms-5': index !== 0,\n                }\"\n              >\n                <i class=\"bi bi-record-circle mb-1\"></i>\n                <p>{{ item }}</p>\n              </div>\n            </div>\n            <p>{{ moreInfo.productInfo.description }}</p>\n          </div>\n          <div class=\"bg-light d-flex justify-content-center py-3\">\n            <p>\n              <i class=\"bi bi-people-fill\"></i>\n              <span class=\"ms-2\">{{ moreInfo.productInfo.ageRestriction }}</span>\n            </p>\n            <p class=\"ms-6\" v-if=\"moreInfo.productInfo.duration\">\n              <i class=\"bi bi-clock\"></i>\n              <span class=\"ms-2\" v-if=\"moreInfo.productInfo.duration.day > 0\"\n                >{{ moreInfo.productInfo.duration.day }} 天</span\n              >\n              <span class=\"ms-2\" v-if=\"moreInfo.productInfo.duration.hours > 0\"\n                >{{ moreInfo.productInfo.duration.hours }} 小時</span\n              >\n              <span class=\"ms-2\" v-if=\"moreInfo.productInfo.duration.min > 0\"\n                >{{ moreInfo.productInfo.duration.min }} 分</span\n              >\n            </p>\n          </div>\n          <div class=\"px-6 pt-6 pb-8\">\n            <div class=\"d-flex justify-content-between mb-3\" id=\"packageOptionsSection\">\n              <h3 class=\"text-primary\">選擇方案</h3>\n              <div class=\"d-flex h5\">\n                <div class=\"d-flex flex-column align-items-center\">\n                  <label for=\"tktAdultNum\" class=\"mb-1\">成人（ 12+ ）</label>\n                  <div class=\"d-flex align-items-center\">\n                    <button\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"changeTktNum('adult', 'minus')\"\n                    >\n                      <i class=\"bi bi-dash-lg\"></i>\n                    </button>\n                    <p class=\"p-1\">\n                      {{ moreInfo.tktNum.adult }}\n                    </p>\n                    <button\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"changeTktNum('adult', 'plus')\"\n                    >\n                      <i class=\"bi bi-plus-lg\"></i>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"d-flex flex-column align-items-center ms-2\">\n                  <label for=\"tktChildNum\" class=\"mb-1\">孩童（ 6~12 ）</label>\n                  <div class=\"d-flex align-items-center\">\n                    <button\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"changeTktNum('child', 'minus')\"\n                    >\n                      <i class=\"bi bi-dash-lg\"></i>\n                    </button>\n                    <p class=\"p-1\">\n                      {{ moreInfo.tktNum.child }}\n                    </p>\n                    <button\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"changeTktNum('child', 'plus')\"\n                    >\n                      <i class=\"bi bi-plus-lg\"></i>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"d-flex flex-column align-items-center ms-2\">\n                  <label for=\"startDate\" class=\"mb-2 text-center\">選擇日期</label>\n                  <flat-pickr\n                    id=\"startDate\"\n                    ref=\"startDate\"\n                    :config=\"config\"\n                    v-model=\"moreInfo.startDate\"\n                    class=\"py-1 text-center\"\n                  ></flat-pickr>\n                </div>\n              </div>\n            </div>\n            <ul class=\"mb-5\">\n              <li\n                v-for=\"(item, index) in moreInfo.productInfo.packageOptions\"\n                :key=\"item.optionName\"\n                class=\"card card-row bg-light\"\n                :class=\"{ 'mb-3': index !== moreInfo.productInfo.packageOptions.length - 1 }\"\n              >\n                <img\n                  class=\"card-row-img\"\n                  :src=\"moreInfo.productInfo.imageUrl\"\n                  :alt=\"item.optionName\"\n                />\n                <div class=\"card-body flex-row\">\n                  <div>\n                    <h3 class=\"card-title mb-3\">\n                      {{ item.optionName }}\n                      <span class=\"h4 ms-2\">集合時間： {{ item.meetingTime }}</span>\n                    </h3>\n                    <template v-for=\"(content, key) in item.contentArr\" :key=\"key\">\n                      <p v-if=\"key < 4\">\n                        <i class=\"bi bi-check2\"></i>\n                        {{ content }}\n                      </p>\n                    </template>\n                    <a\n                      type=\"button\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target=\"#exampleModal\"\n                      v-if=\"item.contentArr.length > 4\"\n                      class=\"text-secondary\"\n                    >\n                      <i class=\"bi bi-question-diamond-fill\"></i>\n                      查看更多方案包含細項\n                    </a>\n                    <!-- Modal -->\n                    <div\n                      class=\"modal fade\"\n                      id=\"exampleModal\"\n                      tabindex=\"-1\"\n                      aria-labelledby=\"exampleModalLabel\"\n                      aria-hidden=\"true\"\n                    >\n                      <div class=\"modal-dialog\">\n                        <div class=\"modal-content\">\n                          <div class=\"modal-body\">\n                            <h3 class=\"pb-3 mb-3 border-bottom border-gray\">\n                              {{ item.optionName }}\n                            </h3>\n                            <p v-for=\"(content, key) in item.contentArr\" :key=\"key\">\n                              <i class=\"bi bi-check2\"></i>\n                              {{ content }}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"d-flex flex-column justify-content-end align-items-end\">\n                    <p class=\"mb-2\">\n                      <span class=\"h3\">NT {{ item.price }}</span>\n                      / {{ item.unit }}\n                    </p>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-primary d-flex justify-content-center align-items-center\"\n                      ref=\"addCartBtn\"\n                      @click=\"addCart(item.optionName)\"\n                      :disabled=\"moreInfo.startDate === '' || moreInfo.tktNum.adult < 1\"\n                    >\n                      <div class=\"spinner-border spinner-border-sm text-dark d-none\" role=\"status\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                      </div>\n                      <p class=\"ms-1\" v-if=\"moreInfo.startDate === ''\">填寫上方日期</p>\n                      <p class=\"ms-1\" v-else>現在預訂</p>\n                    </button>\n                  </div>\n                </div>\n              </li>\n            </ul>\n            <div id=\"ruleSection\">\n              <h3 class=\"text-primary mb-5\">相關規定</h3>\n              <p>{{ moreInfo.productInfo.policy }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"bg-light pt-6 pb-8\" id=\"moreActivitiesSection\">\n      <div class=\"container\">\n        <h3 class=\"text-primary mb-5\">更多相似活動</h3>\n        <div class=\"row\">\n          <div class=\"col-4\" v-for=\"(item, key) in randomProducts\" :key=\"key\">\n            <router-link :to=\"`/product/${item.id}`\" title=\"查看更多\" class=\"card overflow-hidden\">\n              <div class=\"card-img-outer\">\n                <img :src=\"item.imageUrl\" :alt=\"item.title\" class=\"card-img\" />\n              </div>\n              <div class=\"card-body\">\n                <h4 class=\"card-title ellipsis\">{{ item.title }}</h4>\n                <p class=\"h3 text-end\">\n                  NT {{ item.lowestPrice }} 起\n                  <span class=\"h4\"> / {{ item.lowestPriceUnit }}</span>\n                </p>\n              </div>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--alert-->\n    <alert v-if=\"showAlert\" :alert-msg=\"alertMsg\"></alert>\n  </div>\n</template>\n<script>\nimport alert from '@/components/Alert.vue';\nimport flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport emitter from '../assets/js/emitter';\n\nexport default {\n  data() {\n    return {\n      config: {\n        altFormat: 'F j, Y',\n        dateFormat: 'Y-m-d',\n        minDate: 'today',\n      },\n      moreInfo: {\n        productInfo: {},\n        startDate: '',\n        tktNum: {\n          adult: 1,\n          child: 0,\n        },\n      },\n      totalProducts: [],\n      randomProducts: [],\n      showAlert: false,\n      alertMsg: '',\n    };\n  },\n  props: ['id'],\n  components: {\n    alert,\n    flatPickr,\n  },\n  methods: {\n    getData() {\n      const seed = this.id;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${seed}`)\n        .then((res) => {\n          if (res.data.success) {\n            this.moreInfo.productInfo = res.data.product;\n            // 如果 imagesUrl 裡有空字串，把它刪掉再顯示，避免圖片顯示錯誤\n            this.moreInfo.productInfo.imagesUrl = this.moreInfo.productInfo.imagesUrl.filter(\n              (e) => e !== '',\n            );\n            let optionPrice = this.moreInfo.productInfo.packageOptions.map((item) => item.price);\n            optionPrice = optionPrice.sort((x, y) => x - y);\n            [this.moreInfo.productInfo.lowestPrice] = optionPrice;\n            this.getTotalProducts();\n          } else {\n            this.customAlert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n        });\n    },\n    getTotalProducts() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          if (res.data.success) {\n            this.totalProducts = res.data.products;\n            this.totalProducts.forEach((item, index) => {\n              // 個別取出每個產品\n              let packageOptionsPrice = item.packageOptions.map((i) => i.price); // 取出該產品的所有方案中的價格\n              packageOptionsPrice = packageOptionsPrice.sort((x, y) => x - y); // 價格小排到大\n              // this.products[index].lowestPrice = packageOptionsPrice[0];\n              const [lowestPrice] = packageOptionsPrice; // 該產品最低價格為陣列第一個數\n              this.totalProducts[index].lowestPrice = lowestPrice;\n              // 找到該價格對應的單位\n              item.packageOptions.forEach((i) => {\n                if (i.price === lowestPrice) {\n                  this.totalProducts[index].lowestPriceUnit = i.unit;\n                }\n              });\n            });\n            this.getRandomProducts();\n          } else {\n            this.customAlert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n        });\n    },\n    getRandomProducts() {\n      const { tagCheck } = this.moreInfo.productInfo;\n      console.log(tagCheck);\n      const area = tagCheck.find(\n        (e) => e === '雙北' || e === '中彰投' || e === '嘉南' || e === '高屏' || e === '花東',\n      );\n      const filterArr = [];\n      this.totalProducts.forEach((item) => {\n        item.tagCheck.forEach((i) => {\n          if (i === area && item.title !== this.moreInfo.productInfo.title) {\n            // 不可包含此分頁產品本身\n            filterArr.push(item);\n          }\n        });\n      });\n      const arrSet = new Set([]);\n      const maxSize = filterArr.length < 3 ? filterArr.length : 3; // 該品項項目少於三項時，顯示該品項數量即可\n      for (let index = 0; arrSet.size < maxSize; index + 1) {\n        const { length } = filterArr;\n        const num = Math.floor(Math.random(length) * length); // 隨機取得商品\n        arrSet.add(num);\n      }\n      arrSet.forEach((i) => {\n        this.randomProducts.push(filterArr[i]); // 取得未重複的商品放進 randomProducts 陣列中\n      });\n    },\n    goAnchor(selector) {\n      const anchor = this.$el.querySelector(selector);\n      document.body.scrollTop = anchor.offsetTop; // chrome\n      document.documentElement.scrollTop = anchor.offsetTop; // firefox\n    },\n    setThumbsSwiper(swiper) {\n      this.thumbsSwiper = swiper;\n    },\n    addCart(optionName) {\n      const { addCartBtn } = this.$refs;\n      addCartBtn.classList.add('disabled');\n      addCartBtn.children[0].classList.remove('d-none');\n      const data = {\n        data: {\n          product_id: this.moreInfo.productInfo.id,\n          qty: this.moreInfo.tktNum.adult + this.moreInfo.tktNum.child,\n          qtyDetail: this.moreInfo.tktNum,\n          start_date: this.moreInfo.startDate,\n          optionName,\n        },\n      };\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, data)\n        .then((res) => {\n          if (res.data.success) {\n            this.customAlert('已加入購物車');\n            window.setTimeout(this.closeCustomAlert, 5000);\n            this.moreInfo.startDate = '';\n            this.moreInfo.tktNum.adult = 1;\n            this.moreInfo.tktNum.child = 0;\n            addCartBtn.classList.remove('disabled');\n            addCartBtn.children[0].classList.add('d-none');\n            emitter.emit('update-cart');\n          } else {\n            console.log(res.data);\n            this.customAlert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err.data);\n          this.customAlert(err.response);\n        });\n    },\n    changeTktNum(tktType, calcType) {\n      if (tktType === 'adult') {\n        if (calcType === 'plus') {\n          this.moreInfo.tktNum.adult += 1;\n        } else if (calcType === 'minus' && this.moreInfo.tktNum.adult >= 2) {\n          this.moreInfo.tktNum.adult -= 1;\n        }\n      } else if (tktType === 'child') {\n        if (calcType === 'plus') {\n          this.moreInfo.tktNum.child += 1;\n        } else if (calcType === 'minus' && this.moreInfo.tktNum.child >= 1) {\n          this.moreInfo.tktNum.child -= 1;\n        }\n      }\n    },\n    customAlert(msg) {\n      this.alertMsg = msg;\n      this.showAlert = true; // 秀出 alert\n    },\n    closeCustomAlert() {\n      this.showAlert = false;\n    },\n  },\n  mounted() {\n    this.getData();\n  },\n  watch: {\n    '$route.params.id': {\n      handler() {\n        this.$router.go(); // 加這句不然按更多相似活動時，網址有變內容卻要手動重新整理才會變新商品\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./Product.vue?vue&type=template&id=77736d08\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\n\nexport default emitter;\n"],"sourceRoot":""}