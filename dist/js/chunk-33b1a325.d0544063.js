(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33b1a325"],{"07ac":function(e,t,c){var a=c("23e7"),o=c("6f53").values;a({target:"Object",stat:!0},{values:function(e){return o(e)}})},"212e":function(e,t,c){"use strict";var a=c("7a23"),o={id:"deleteModal",ref:"deleteModal",class:"modal fade",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered"},l={class:"modal-content delete-modal-bg"},n={class:"modal-body"},i=Object(a["createVNode"])("div",{class:"text-end"},[Object(a["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-secondary h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(a["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),d={class:"delete-modal-inner-bg mb-4"},s={key:0,class:"text-center"},u={class:"h3 mb-2"},m=Object(a["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),b={key:1,class:"text-center"},p={class:"h3 mb-2"},O=Object(a["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),j={key:2,class:"text-center"},f={class:"h3 mb-2"},h=Object(a["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),g={key:3,class:"text-center"},V={class:"h3 mb-2"},k=Object(a["createVNode"])("p",null,"一經刪除及無法復原，是否確認刪除？",-1),N={class:"d-flex justify-content-center"},v=Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary w-25 d-block ms-3","data-bs-dismiss":"modal"}," 取消 ",-1);function P(e,t,c,P,y,x){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("div",n,[i,Object(a["createVNode"])("div",d,[y.tempItem.hasOwnProperty("is_mainProduct")?(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])("p",u,Object(a["toDisplayString"])(y.tempItem.title),1),m])):y.tempItem.hasOwnProperty("code")?(Object(a["openBlock"])(),Object(a["createBlock"])("div",b,[Object(a["createVNode"])("p",p,"優惠券代碼："+Object(a["toDisplayString"])(y.tempItem.code),1),O])):y.tempItem.hasOwnProperty("user")?(Object(a["openBlock"])(),Object(a["createBlock"])("div",j,[Object(a["createVNode"])("p",f,"訂單編號："+Object(a["toDisplayString"])(y.tempItem.id),1),h])):y.tempItem.hasOwnProperty("author")?(Object(a["openBlock"])(),Object(a["createBlock"])("div",g,[Object(a["createVNode"])("p",V,Object(a["toDisplayString"])(y.tempItem.title),1),k])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",N,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-primary w-25 d-block",onClick:t[1]||(t[1]=function(t){return e.$emit("emit-delete-modal")})}," 確認刪除 "),v])])])])],512)}var y=c("5530"),x={props:["temp"],emits:["emit-delete-modal"],data:function(){return{tempItem:{}}},watch:{temp:function(){this.tempItem=Object(y["a"])({},this.temp)}},created:function(){this.tempItem=Object(y["a"])({},this.temp)}};x.render=P;t["a"]=x},3183:function(e,t,c){"use strict";var a=c("7a23"),o={"aria-label":"Page navigation"},r={class:"pagination justify-content-center"},l={class:"page-link",href:"#"};function n(e,t,c,n,i,d){return Object(a["openBlock"])(),Object(a["createBlock"])("nav",o,[Object(a["createVNode"])("ul",r,[Object(a["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_pre}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true",onClick:t[1]||(t[1]=Object(a["withModifiers"])((function(e){return d.changePage(c.page.current_page-1)}),["prevent"]))},"上一頁")],2),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.page.total_pages,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",{active:c.page.current_page===e}],key:e,onClick:Object(a["withModifiers"])((function(t){return d.changePage(e)}),["prevent"])},[Object(a["createVNode"])("a",l,Object(a["toDisplayString"])(e),1)],10,["onClick"])})),128)),Object(a["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_next}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(a["withModifiers"])((function(e){return d.changePage(c.page.current_page+1)}),["prevent"]))},"下一頁")],2)])])}var i=c("5530"),d={props:["page"],emits:["emit-pagination"],data:function(){return{pagination:Object(i["a"])({},this.page)}},methods:{changePage:function(e){this.$emit("emit-pagination",e)}}};d.render=n;t["a"]=d},"408a":function(e,t,c){var a=c("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},a02d:function(e,t,c){"use strict";var a=c("7a23"),o={class:"alert alert-primary fade show",role:"alert"},r=Object(a["createVNode"])("i",{class:"bi bi-exclamation-triangle-fill me-2 text-primary"},null,-1);function l(e,t,c,l,n,i){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[r,Object(a["createTextVNode"])(Object(a["toDisplayString"])(c.alertMsg),1)])}var n={props:["alertMsg"]};n.render=l;t["a"]=n},a9f7:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var a=c("7a23"),o={class:"bg-light"},r={class:"container p-4"},l={class:"d-flex justify-content-between"},n=Object(a["createVNode"])("label",{for:"searchProduct"},[Object(a["createVNode"])("i",{class:"bi bi-search"})],-1),i={class:"mb-4"},d={key:0},s={key:0},u={key:1},m={key:1},b={key:0},p={key:1},O={class:"row g-0 align-items-center"},j=Object(a["createVNode"])("div",{class:"col-1"},[Object(a["createVNode"])("p",{class:"fw-bold"},"主力商品：")],-1),f={class:"col-11"},h={key:0},g={class:"d-flex flex-wrap"},V={type:"button",class:"tag-sm tag-warning"},k=Object(a["createVNode"])("i",{class:"bi bi-x"},null,-1),N={class:"container py-4"},v={class:"table mb-6"},P=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",{width:"100"}),Object(a["createVNode"])("th",null,"產品名稱"),Object(a["createVNode"])("th",{width:"200"},"原價"),Object(a["createVNode"])("th",{width:"200"},"售價"),Object(a["createVNode"])("th",{width:"120"})])],-1),y={width:"100"},x={class:"pe-4"},w={width:"200"},C={width:"200"},B={width:"120"};function U(e,t,c,U,M,A){var D=Object(a["resolveComponent"])("Alert"),T=Object(a["resolveComponent"])("Pagination"),_=Object(a["resolveComponent"])("Product-edit-modal"),L=Object(a["resolveComponent"])("Comment-edit-modal"),I=Object(a["resolveComponent"])("Product-delete-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("div",o,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("div",null,[n,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"search",id:"searchProduct",class:"ms-2 rounded-3 px-3 border border-primary",placeholder:"搜尋產品","onUpdate:modelValue":t[1]||(t[1]=function(e){return M.searchProduct=e})},null,512),[[a["vModelText"],M.searchProduct]])]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-inline-flex me-2",onClick:t[2]||(t[2]=function(e){return A.openModal(e,"addProduct")})}," 新增產品 ")]),Object(a["createVNode"])("div",i,[""===M.searchProduct?(Object(a["openBlock"])(),Object(a["createBlock"])("small",d,[0==M.totalProducts.length?(Object(a["openBlock"])(),Object(a["createBlock"])("p",s,"目前尚無產品")):(Object(a["openBlock"])(),Object(a["createBlock"])("p",u,"目前有 "+Object(a["toDisplayString"])(M.totalProducts.length)+" 項產品",1))])):(Object(a["openBlock"])(),Object(a["createBlock"])("small",m,[0==A.filterProduct.length?(Object(a["openBlock"])(),Object(a["createBlock"])("p",b,"目前尚無產品")):(Object(a["openBlock"])(),Object(a["createBlock"])("p",p,"目前有 "+Object(a["toDisplayString"])(A.filterProduct.length)+" 項產品",1))]))]),Object(a["createVNode"])("div",O,[j,Object(a["createVNode"])("div",f,[0==M.mainProduct.length?(Object(a["openBlock"])(),Object(a["createBlock"])("p",h,"請新增主力商品")):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("ul",g,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(M.mainProduct,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{key:t,class:"ms-1 mb-1",title:"刪除此項主力商品",onClick:function(t){return A.deleteMainProduct(e)}},[Object(a["createVNode"])("button",V,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.title)+" ",1),k])],8,["onClick"])})),128))])])])])]),Object(a["createVNode"])("div",N,[Object(a["createVNode"])("table",v,[P,Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(A.filterProduct,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e.id,"data-bs-toggle":"collapse",href:"#collapseProduct-"+t,"aria-expanded":"false","aria-controls":"collapseProduct-"+t,class:"light-primary-hover",title:"點擊看詳細內容"},[Object(a["createVNode"])("td",y,[Object(a["createVNode"])("span",{class:["badge rounded-pill",{"bg-danger":"城市導覽"===e.category,"bg-warning":"體驗票券"===e.category,"bg-success":"包車服務"===e.category}]},Object(a["toDisplayString"])(e.category),3)]),Object(a["createVNode"])("td",x,[Object(a["createVNode"])("p",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.title)+" ",1),Object(a["createVNode"])("i",{class:["bi align-bottom d-inline",{"text-success":e.is_enabled,"bi-check-circle-fill":e.is_enabled,"text-gray":!e.is_enabled,"bi-dash-circle":!e.is_enabled}]},null,2),Object(a["createVNode"])("i",{class:["bi align-bottom d-inline ms-1",{"text-warning":e.is_mainProduct,"bi-star-fill":e.is_mainProduct}]},null,2)]),Object(a["createVNode"])("small",{class:"collapse",id:"collapseProduct-"+t},Object(a["toDisplayString"])(e.description),9,["id"])]),Object(a["createVNode"])("td",w,[Object(a["createTextVNode"])(" NT "+Object(a["toDisplayString"])(e.lowestOriginPrice)+" 起 / ",1),Object(a["createVNode"])("small",null,Object(a["toDisplayString"])(e.lowestOriginPriceUnit),1)]),Object(a["createVNode"])("td",C,[Object(a["createTextVNode"])(" NT "+Object(a["toDisplayString"])(e.lowestPrice)+" 起 / ",1),Object(a["createVNode"])("small",null,Object(a["toDisplayString"])(e.lowestPriceUnit),1)]),Object(a["createVNode"])("td",B,[Object(a["createVNode"])("i",{class:"bi bi-chat-text",onClick:function(t){return A.openModal(e,"editComment")},"data-bs-toggle":"modal","data-bs-target":"#commentModal"},null,8,["onClick"]),Object(a["createVNode"])("i",{class:"bi bi-pencil-square ms-2",onClick:function(t){return A.openModal(e,"editProduct")}},null,8,["onClick"]),Object(a["createVNode"])("i",{class:"bi bi-trash-fill ms-2",onClick:function(t){return A.openModal(e,"deleteProduct")},"data-bs-toggle":"modal","data-bs-target":"#deleteModal"},null,8,["onClick"])])],8,["href","aria-controls"])})),128))])]),M.showAlert?(Object(a["openBlock"])(),Object(a["createBlock"])(D,{key:0,"alert-msg":M.alertMsg},null,8,["alert-msg"])):Object(a["createCommentVNode"])("",!0),M.pagination.total_pages>1&&A.filterProduct.length>9?(Object(a["openBlock"])(),Object(a["createBlock"])(T,{key:1,page:M.pagination,onEmitPagination:A.getData},null,8,["page","onEmitPagination"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(_,{"modal-title":M.modalTitle,temp:M.temp,"tag-category":M.tagCategory,onEmitProductModal:A.addNewProduct,onEmitAlert:A.customAlert,ref:"productModal"},null,8,["modal-title","temp","tag-category","onEmitProductModal","onEmitAlert"]),Object(a["createVNode"])(L,{"modal-title":M.modalTitle,temp:M.temp,onEmitCommentModal:A.addNewComment,ref:"commentModal"},null,8,["modal-title","temp","onEmitCommentModal"]),Object(a["createVNode"])(I,{temp:M.temp,onEmitDeleteModal:A.deleteProduct},null,8,["temp","onEmitDeleteModal"])])],64)}var M=c("5530"),A=c("3835"),D=(c("99af"),c("159b"),c("d81d"),c("4e82"),c("07ac"),c("4de4"),c("a434"),c("a9e3"),c("b680"),c("ac1f"),c("466d"),c("4d63"),c("25f0"),c("a02d")),T=c("3183"),_=c("7b17"),L={id:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},I={class:"modal-dialog modal-dialog-centered modal-xl"},E={class:"modal-content product-modal-bg"},S={class:"modal-body"},F=Object(a["createVNode"])("div",{class:"text-end"},[Object(a["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-secondary h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(a["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),$={class:"container-fluid"},q={class:"row"},R={class:"col-4"},J={class:"bg-light p-3 rounded-2"},H={class:"mb-2"},z=Object(a["createVNode"])("label",{for:"imgUrl",class:"form-label"},"產品封面圖片",-1),G=Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary mb-2","data-bs-toggle":"collapse",href:"#collapseAddImgs","aria-expanded":"false","aria-controls":"collapseAddImgs"}," 新增其他圖片 ",-1),K={class:"collapse",id:"collapseAddImgs"},Q={class:"d-flex mb-2"},W=Object(a["createVNode"])("i",{class:"bi bi-upload"},null,-1),X={class:"row g-1 mb-4"},Y={class:"col-4 mb-2"},Z=Object(a["createVNode"])("i",{class:"bi bi-trash-fill modal-delete-btn"},null,-1),ee={key:1,class:"modal-img-default"},te=Object(a["createVNode"])("i",{class:"modal-delete-btn bi bi-trash-fill"},null,-1),ce={key:1,class:"modal-img-default"},ae=Object(a["createVNode"])("h5",{class:"h4 mb-2"},"選擇標籤",-1),oe={class:"row mb-4"},re={class:"form-check"},le=Object(a["createVNode"])("h5",{class:"h4 mb-2"},"額外語言",-1),ne={class:"row mb-4"},ie={class:"col-4"},de={class:"form-check"},se=Object(a["createVNode"])("label",{class:"form-check-label",for:"translateLanguageEng"},"英文翻譯",-1),ue={class:"col-4"},me={class:"form-check"},be=Object(a["createVNode"])("label",{class:"form-check-label",for:"translateLanguageJpy"},"日文翻譯",-1),pe=Object(a["createVNode"])("h5",{class:"h4 mb-2"},"接送選擇",-1),Oe={class:"row mb-4"},je={class:"col-6"},fe={class:"form-check"},he=Object(a["createVNode"])("label",{class:"form-check-label",for:"transferTimeEnable"},"可自選接送時間",-1),ge={class:"col-6"},Ve={class:"form-check"},ke=Object(a["createVNode"])("label",{class:"form-check-label",for:"transferPlaceEnable"},"可自選接送地點",-1),Ne={class:"col-6"},ve={class:"form-check"},Pe=Object(a["createVNode"])("label",{class:"form-check-label",for:"transferChildRestrict"},"有 4 歲孩童限制",-1),ye={class:"row"},xe={class:"col-4"},we={class:"form-check"},Ce=Object(a["createVNode"])("label",{class:"form-check-label",for:"productEnabled"},"啟用",-1),Be={class:"col-4"},Ue={class:"form-check"},Me=Object(a["createVNode"])("label",{class:"form-check-label",for:"mainProduct"},"主打商品",-1),Ae={class:"form-check"},De=Object(a["createVNode"])("label",{class:"form-check-label",for:"freeCxl"},"享三天前免費取消",-1),Te={class:"col-8"},_e={class:"row"},Le={class:"col-8"},Ie={class:"mb-2"},Ee=Object(a["createVNode"])("label",{for:"productTitle",class:"form-label"},"標題",-1),Se={class:"col-4"},Fe=Object(a["createVNode"])("label",{for:"totalBookingNum",class:"form-label"},"累積參加人數",-1),$e={class:"col-6 mb-2"},qe=Object(a["createVNode"])("label",{for:"productCategory",class:"form-label"},"分類",-1),Re=Object(a["createVNode"])("option",{selected:"",disabled:"",value:""},"請選擇產品分類",-1),Je=Object(a["createVNode"])("option",null,"城市導覽",-1),He=Object(a["createVNode"])("option",null,"體驗票券",-1),ze=Object(a["createVNode"])("option",null,"包車服務",-1),Ge={class:"col-6 mb-2"},Ke=Object(a["createVNode"])("label",{for:"productDurationDay",class:"form-label"},"行程長度",-1),Qe={class:"d-flex align-items-center"},We=Object(a["createVNode"])("span",{class:"ms-2 w-50"},"天",-1),Xe=Object(a["createVNode"])("span",{class:"ms-2 w-50"},"小時",-1),Ye=Object(a["createVNode"])("span",{class:"ms-2 w-50"},"分",-1),Ze={class:"mb-4"},et=Object(a["createVNode"])("label",{for:"productDescription",class:"form-label"},"產品描述",-1),tt={class:"mb-2"},ct={class:"d-flex justify-content-between mb-4"},at=Object(a["createVNode"])("label",{class:"form-label"},"行程所含地點",-1),ot={class:"row"},rt={class:"input-group"},lt=Object(a["createVNode"])("i",{class:"bi bi-trash-fill"},null,-1),nt={class:"mb-2"},it=Object(a["createVNode"])("label",{for:"productAgeRestriction",class:"form-label"},"年齡限制",-1),dt={class:"mb-2"},st=Object(a["createVNode"])("label",{for:"productPolicy",class:"form-label"},"適用規定",-1),ut={class:"row align-items-end"},mt={class:"col-8 mb-2"},bt={class:"col-4 mb-2 text-end"},pt={class:"row"},Ot={class:"col-4 mb-2"},jt={class:"col-4 mb-2"},ft={class:"col-4 mb-2"},ht={class:"col-6 mb-2"},gt={class:"col-6 mb-4"},Vt={class:"mb-6"},kt={class:"d-flex justify-content-between mb-4"},Nt=Object(a["createVNode"])("label",{class:"form-label"},"方案內含",-1),vt={class:"row"},Pt={class:"input-group"},yt=Object(a["createVNode"])("i",{class:"bi bi-trash-fill"},null,-1),xt={class:"d-flex justify-content-center"},wt={type:"submit",class:"btn btn-primary w-25 d-flex justify-content-center align-items-center",ref:"productAdminBtn"},Ct=Object(a["createVNode"])("div",{class:"spinner-border spinner-border-sm text-dark d-none",role:"status"},[Object(a["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),Bt={class:"ms-1"},Ut=Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-dark w-25 d-block ms-3","data-bs-dismiss":"modal"}," 取消 ",-1);function Mt(e,t,c,o,r,l){var n=Object(a["resolveComponent"])("Field"),i=Object(a["resolveComponent"])("ErrorMessage"),d=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])("div",L,[Object(a["createVNode"])("div",I,[Object(a["createVNode"])("div",E,[Object(a["createVNode"])("div",S,[F,Object(a["createVNode"])("div",$,[Object(a["createVNode"])("div",q,[Object(a["createVNode"])("div",R,[Object(a["createVNode"])("div",J,[Object(a["createVNode"])("div",H,[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(e){var c=e.errors;return[z,Object(a["createVNode"])(n,{type:"text",id:"imgUrl",name:"主圖",class:["form-control",{"is-invalid":c["主圖"]}],rules:"required",placeholder:"請輸入圖片網址",modelValue:r.tempProduct.imageUrl,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tempProduct.imageUrl=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"主圖",class:"invalid-feedback"})]})),_:1})]),G,Object(a["createVNode"])("div",K,[Object(a["createVNode"])("div",Q,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片網址","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tempProduct.otherImageUrl=e})},null,512),[[a["vModelText"],r.tempProduct.otherImageUrl]]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-dark-primary rounded-pill ms-2",onClick:t[3]||(t[3]=function(){return l.addImgs&&l.addImgs.apply(l,arguments)})},[W])])]),Object(a["createVNode"])("ul",X,[Object(a["createVNode"])("li",Y,[r.tempProduct.imageUrl?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,type:"button",class:"modal-img-outer",onClick:t[4]||(t[4]=function(e){return l.deleteImgs(e,"mainImg")})},[Object(a["createVNode"])("img",{src:r.tempProduct.imageUrl,alt:"主圖片",class:"modal-img"},null,8,["src"]),Z])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",ee))]),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempProduct.imagesUrl,(function(e,c){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"col-4 mb-2",key:e},[e?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,type:"button",class:"modal-img-outer",onClick:t[5]||(t[5]=function(e){return l.deleteImgs(e,"subImg")}),"data-img":c},[Object(a["createVNode"])("img",{src:e,alt:"副圖片",class:"modal-img"},null,8,["src"]),te],8,["data-img"])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",ce))])})),128))]),ae,Object(a["createVNode"])("div",oe,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.tagCategory,(function(e,c){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:c,class:"col-4"},[Object(a["createVNode"])("div",re,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",id:"tagCheck-".concat(c),"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.tempProduct.tagCheck=e}),class:"form-check-input",value:e},null,8,["id","value"]),[[a["vModelCheckbox"],r.tempProduct.tagCheck]]),Object(a["createVNode"])("label",{for:"tagCheck-".concat(c),class:"form-check-label"},Object(a["toDisplayString"])(e),9,["for"])])])})),128))]),le,Object(a["createVNode"])("div",ne,[Object(a["createVNode"])("div",ie,[Object(a["createVNode"])("div",de,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"translateLanguageEng","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.tempProduct.translate.eng=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.translate.eng]]),se])]),Object(a["createVNode"])("div",ue,[Object(a["createVNode"])("div",me,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"translateLanguageJpy","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.tempProduct.translate.jpy=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.translate.jpy]]),be])])]),pe,Object(a["createVNode"])("div",Oe,[Object(a["createVNode"])("div",je,[Object(a["createVNode"])("div",fe,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"transferTimeEnable","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.tempProduct.transfer.time=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.transfer.time]]),he])]),Object(a["createVNode"])("div",ge,[Object(a["createVNode"])("div",Ve,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"transferPlaceEnable","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.tempProduct.transfer.place=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.transfer.place]]),ke])]),Object(a["createVNode"])("div",Ne,[Object(a["createVNode"])("div",ve,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"transferChildRestrict","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.tempProduct.transfer.childRestrict=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.transfer.childRestrict]]),Pe])])]),Object(a["createVNode"])("div",ye,[Object(a["createVNode"])("div",xe,[Object(a["createVNode"])("div",we,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"productEnabled","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.tempProduct.is_enabled=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.is_enabled]]),Ce])]),Object(a["createVNode"])("div",Be,[Object(a["createVNode"])("div",Ue,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"mainProduct","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.tempProduct.is_mainProduct=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.is_mainProduct]]),Me])])]),Object(a["createVNode"])("div",Ae,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",class:"form-check-input",id:"freeCxl","onUpdate:modelValue":t[14]||(t[14]=function(e){return r.tempProduct.is_freeCxl=e})},null,512),[[a["vModelCheckbox"],r.tempProduct.is_freeCxl]]),De])])]),Object(a["createVNode"])("div",Te,[Object(a["createVNode"])(d,{onSubmit:l.submitProduct,class:"mb-4"},{default:Object(a["withCtx"])((function(e){var o=e.errors;return[Object(a["createVNode"])("div",_e,[Object(a["createVNode"])("div",Le,[Object(a["createVNode"])("div",Ie,[Ee,Object(a["createVNode"])(n,{type:"text",id:"productTitle",name:"標題",class:["form-control",{"is-invalid":o["標題"]}],rules:"required",modelValue:r.tempProduct.title,"onUpdate:modelValue":t[15]||(t[15]=function(e){return r.tempProduct.title=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"標題",class:"invalid-feedback"})])]),Object(a["createVNode"])("div",Se,[Fe,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",id:"totalBookingNum",min:"0",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=function(e){return r.tempProduct.totalBookingNum=e})},null,512),[[a["vModelText"],r.tempProduct.totalBookingNum,void 0,{number:!0}]])]),Object(a["createVNode"])("div",$e,[qe,Object(a["createVNode"])(n,{name:"產品分類",id:"productCategory",class:["form-select",{"is-invalid":o["產品分類"]}],rules:"required",modelValue:r.tempProduct.category,"onUpdate:modelValue":t[17]||(t[17]=function(e){return r.tempProduct.category=e}),as:"select"},{default:Object(a["withCtx"])((function(){return[Re,Je,He,ze]})),_:2},1032,["class","modelValue"]),Object(a["createVNode"])(i,{name:"產品分類",class:"invalid-feedback"})]),Object(a["createVNode"])("div",Ge,[Ke,Object(a["createVNode"])("div",Qe,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",id:"productDurationDay",class:"form-control w-50",min:"0","onUpdate:modelValue":t[18]||(t[18]=function(e){return r.tempProduct.duration.day=e})},null,512),[[a["vModelText"],r.tempProduct.duration.day,void 0,{number:!0}]]),We,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",id:"productDurationHours",class:"form-control w-50",min:"0",max:"23","onUpdate:modelValue":t[19]||(t[19]=function(e){return r.tempProduct.duration.hours=e})},null,512),[[a["vModelText"],r.tempProduct.duration.hours,void 0,{number:!0}]]),Xe,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",id:"productDurationMin",class:"form-control w-50",min:"0",max:"59","onUpdate:modelValue":t[20]||(t[20]=function(e){return r.tempProduct.duration.min=e})},null,512),[[a["vModelText"],r.tempProduct.duration.min,void 0,{number:!0}]]),Ye])])]),Object(a["createVNode"])("div",Ze,[et,Object(a["createVNode"])(n,{type:"text",id:"productDescription",name:"產品描述",class:["form-control",{"is-invalid":o["產品描述"]}],cols:"30",rows:"3",rules:"required",modelValue:r.tempProduct.description,"onUpdate:modelValue":t[21]||(t[21]=function(e){return r.tempProduct.description=e}),as:"textarea"},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"產品描述",class:"invalid-feedback"})]),Object(a["createVNode"])("div",tt,[Object(a["createVNode"])("div",ct,[at,Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-block w-25",onClick:t[22]||(t[22]=function(){return l.addNewAttraction&&l.addNewAttraction.apply(l,arguments)})}," 加新地點 ")]),Object(a["createVNode"])("div",ot,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempProduct.attractionArr,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t,class:"col-3 mb-2"},[Object(a["createVNode"])("div",rt,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return r.tempProduct.attractionArr[t]=e}},null,8,["onUpdate:modelValue"]),[[a["vModelText"],r.tempProduct.attractionArr[t],void 0,{trim:!0}]]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(e){return l.deleteAttraction(t)}},[lt],8,["onClick"])])])})),128))])]),Object(a["createVNode"])("div",nt,[it,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",id:"productAgeRestriction",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=function(e){return r.tempProduct.ageRestriction=e})},null,512),[[a["vModelText"],r.tempProduct.ageRestriction,void 0,{trim:!0}]])]),Object(a["createVNode"])("div",dt,[st,Object(a["createVNode"])(n,{type:"text",id:"productPolicy",name:"適用規定",class:["form-control",{"is-invalid":o["適用規定"]}],cols:"50",rows:"3",rules:"required",modelValue:r.tempProduct.policy,"onUpdate:modelValue":t[24]||(t[24]=function(e){return r.tempProduct.policy=e}),as:"textarea"},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"適用規定",class:"invalid-feedback"})]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-primary d-block w-50 mb-6 mx-auto",onClick:t[25]||(t[25]=function(){return l.addPackageOption&&l.addPackageOption.apply(l,arguments)})}," 新增方案 "),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempProduct.packageOptions,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t},[Object(a["createVNode"])("div",ut,[Object(a["createVNode"])("div",mt,[Object(a["createVNode"])("label",{for:"productPackageOptions-".concat(t),class:"form-label"},Object(a["toDisplayString"])("方案 ".concat(t+1," 名稱")),9,["for"]),Object(a["createVNode"])(n,{type:"text",id:"productPackageOptions-".concat(t),name:"方案 ".concat(t+1," 名稱"),class:["form-control",{"is-invalid":o["方案 ".concat(t+1," 名稱")]}],rules:"required",modelValue:r.tempProduct.packageOptions[t].optionName,"onUpdate:modelValue":function(e){return r.tempProduct.packageOptions[t].optionName=e}},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"方案 ".concat(t+1," 名稱"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",bt,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(e){return l.deletePackageOption(t)}}," 刪除方案 ",8,["onClick"])])]),Object(a["createVNode"])("div",pt,[Object(a["createVNode"])("div",Ot,[Object(a["createVNode"])("label",{for:"productOriginalPrice-".concat(t),class:"form-label"},"原價",8,["for"]),Object(a["createVNode"])(n,{type:"number",id:"productOriginalPrice-".concat(t),name:"方案 ".concat(t+1," 原價"),min:"0",class:["form-control",{"is-invalid":o["方案 ".concat(t+1," 原價")]}],rules:"required",modelValue:r.tempProduct.packageOptions[t].origin_price,"onUpdate:modelValue":function(e){return r.tempProduct.packageOptions[t].origin_price=e}},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"方案 ".concat(t+1," 原價"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",jt,[Object(a["createVNode"])("label",{for:"productPrice-".concat(t),class:"form-label"},"售價",8,["for"]),Object(a["createVNode"])(n,{type:"number",id:"productPrice-".concat(t),name:"方案 ".concat(t+1," 售價"),min:"0",class:["form-control",{"is-invalid":o["方案 ".concat(t+1," 售價")]}],rules:"required",modelValue:r.tempProduct.packageOptions[t].price,"onUpdate:modelValue":function(e){return r.tempProduct.packageOptions[t].price=e}},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"方案 ".concat(t+1," 售價"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",ft,[Object(a["createVNode"])("label",{for:"productUnit-".concat(t),class:"form-label"},"計費單位",8,["for"]),Object(a["createVNode"])(n,{type:"text",id:"productUnit-".concat(t),name:"方案 ".concat(t+1," 單位"),class:["form-control",{"is-invalid":o["方案 ".concat(t+1," 單位")]}],rules:"required",modelValue:r.tempProduct.packageOptions[t].unit,"onUpdate:modelValue":function(e){return r.tempProduct.packageOptions[t].unit=e},placeholder:"每人"},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"方案 ".concat(t+1," 單位"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",ht,[Object(a["createVNode"])("label",{for:"productMeetingPoint-".concat(t),class:"form-label"},"集合地點",8,["for"]),Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",id:"productMeetingPoint-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.meetingPoint=t}},null,8,["id","onUpdate:modelValue"]),[[a["vModelText"],e.meetingPoint,void 0,{trim:!0}]])]),Object(a["createVNode"])("div",gt,[Object(a["createVNode"])("label",{for:"productMeetingTime-".concat(t),class:"form-label"},"集合時間",8,["for"]),Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",id:"productMeetingTime-".concat(t),class:"form-control","onUpdate:modelValue":function(t){return e.meetingTime=t}},null,8,["id","onUpdate:modelValue"]),[[a["vModelText"],e.meetingTime,void 0,{trim:!0}]])])]),Object(a["createVNode"])("div",Vt,[Object(a["createVNode"])("div",kt,[Nt,Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary d-block w-25",onClick:function(e){return l.addNewContent(t)}}," 加新內容 ",8,["onClick"])]),Object(a["createVNode"])("div",vt,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.contentArr,(function(c,o){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:o,class:"col-6 mb-2"},[Object(a["createVNode"])("div",Pt,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":function(t){return e.contentArr[o]=t}},null,8,["onUpdate:modelValue"]),[[a["vModelText"],e.contentArr[o]]]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(e){return l.deleteContent(t,o)}},[yt],8,["onClick"])])])})),128))])])])})),128)),Object(a["createVNode"])("div",xt,[Object(a["createVNode"])("button",wt,[Ct,Object(a["createVNode"])("p",Bt,Object(a["toDisplayString"])(c.modalTitle),1)],512),Ut])]})),_:1},8,["onSubmit"])])])])])])])])}c("caad"),c("2532"),c("b64b");var At={props:["modalTitle","temp","tagCategory"],emits:["emit-product-modal","emit-alert"],data:function(){return{tempProduct:{}}},methods:{addImgs:function(){this.tempProduct.imagesUrl.length<5?(this.tempProduct.imagesUrl.push(this.tempProduct.otherImageUrl),this.tempProduct.otherImageUrl=""):this.$emit("emit-alert","最多只可上傳六張照片")},deleteImgs:function(e,t){if("mainImg"===t)this.tempProduct.imageUrl="";else if("subImg"===t){var c=e.currentTarget.dataset.img;this.tempProduct.imagesUrl.splice(c,1)}},addNewAttraction:function(){!1===Object.keys(this.tempProduct).includes("attractionArr")?(this.tempProduct.attractionArr=[],this.tempProduct.attractionArr[0]={}):this.tempProduct.attractionArr[this.tempProduct.attractionArr.length]={}},deleteAttraction:function(e){this.tempProduct.attractionArr.splice(e,1)},addNewContent:function(e){!1===Object.keys(this.tempProduct.packageOptions[e]).includes("contentArr")?(this.tempProduct.packageOptions[e].contentArr=[],this.tempProduct.packageOptions[e].contentArr[0]=""):this.tempProduct.packageOptions[e].contentArr[this.tempProduct.packageOptions[e].contentArr.length]=""},deleteContent:function(e,t){this.tempProduct.packageOptions[e].contentArr.splice(t,1)},addPackageOption:function(){!1===Object.keys(this.tempProduct).includes("packageOptions")?(this.tempProduct.packageOptions=[],this.tempProduct.packageOptions[0]={}):this.tempProduct.packageOptions[this.tempProduct.packageOptions.length]={}},deletePackageOption:function(e){this.tempProduct.packageOptions.splice(e,1)},submitProduct:function(){this.$emit("emit-product-modal",this.modalTitle,this.tempProduct)}},watch:{temp:function(){this.tempProduct=Object(M["a"])({},this.temp),!1===Object.keys(this.tempProduct).includes("tagCheck")&&(this.tempProduct.tagCheck=[]),!1===Object.keys(this.tempProduct).includes("duration")&&(this.tempProduct.duration={day:0,hours:0,min:0}),!1===Object.keys(this.tempProduct).includes("translate")&&(this.tempProduct.translate={eng:!1,jpy:!1}),!1===Object.keys(this.tempProduct).includes("transfer")&&(this.tempProduct.transfer={time:!1,place:!1,childRestrict:!1})}},created:function(){this.tempProduct=Object(M["a"])(Object(M["a"])({},this.temp),{},{tagCheck:[],translate:{},transfer:{}})}};At.render=Mt;var Dt=At,Tt=(c("b0c0"),{id:"commentModal",class:"modal fade",tabindex:"-1","aria-labelledby":"commentModalLabel","aria-hidden":"true"}),_t={class:"modal-dialog modal-dialog-centered modal-xl"},Lt={class:"modal-content product-modal-bg"},It={class:"modal-body"},Et=Object(a["createVNode"])("div",{class:"text-end"},[Object(a["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-secondary h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(a["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),St={class:"container-fluid"},Ft={class:"text-center mb-6"},$t={class:"row"},qt={class:"d-flex justify-content-between"},Rt={class:"mb-2"},Jt={class:"mb-2"},Ht={class:"mb-2"},zt=Object(a["createVNode"])("option",{selected:"",disabled:"",value:""},"請選擇分數",-1),Gt=Object(a["createVNode"])("option",null,"5",-1),Kt=Object(a["createVNode"])("option",null,"4",-1),Qt=Object(a["createVNode"])("option",null,"3",-1),Wt=Object(a["createVNode"])("option",null,"2",-1),Xt=Object(a["createVNode"])("option",null,"1",-1),Yt={class:"mb-2"},Zt={class:"d-flex justify-content-center"},ec={type:"submit",class:"btn btn-primary w-25 d-flex\n                        justify-content-center align-items-center",ref:"commentAdminBtn"},tc=Object(a["createVNode"])("div",{class:"spinner-border spinner-border-sm text-dark d-none",role:"status"},[Object(a["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),cc={class:"ms-1"},ac=Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary w-25 d-block ms-3","data-bs-dismiss":"modal"}," 取消 ",-1);function oc(e,t,c,o,r,l){var n=Object(a["resolveComponent"])("Field"),i=Object(a["resolveComponent"])("ErrorMessage"),d=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])("div",Tt,[Object(a["createVNode"])("div",_t,[Object(a["createVNode"])("div",Lt,[Object(a["createVNode"])("div",It,[Et,Object(a["createVNode"])("div",St,[Object(a["createVNode"])("h2",Ft,Object(a["toDisplayString"])(r.tempProduct.title),1),Object(a["createVNode"])("button",{type:"button",class:"btn btn-primary d-block w-50 mb-6 mx-auto",onClick:t[1]||(t[1]=function(){return l.addComment&&l.addComment.apply(l,arguments)})}," 新增評論 "),Object(a["createVNode"])(d,{onSubmit:l.submitComment},{default:Object(a["withCtx"])((function(e){var t=e.errors;return[Object(a["createVNode"])("div",$t,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempProduct.comments,(function(e,c){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:c,class:"col-4 mb-6"},[Object(a["createVNode"])("div",qt,[Object(a["createVNode"])("img",{src:r.tempProduct.comments[c].imageUrl,alt:"使用者頭像",class:"comment-modal-img mb-2"},null,8,["src"]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-primary h-50",onClick:function(e){return l.deleteComment(c)}}," 刪除評論 ",8,["onClick"])]),Object(a["createVNode"])("div",Rt,[Object(a["createVNode"])("label",{for:"userImgUrl-".concat(c),class:"form-label"},"使用者頭像",8,["for"]),Object(a["createVNode"])(n,{type:"text",id:"userImgUrl-".concat(c),name:"使用者 ".concat(c+1," 頭像"),class:["form-control",{"is-invalid":t["使用者 ".concat(c+1," 頭像")]}],rules:"required",placeholder:"請輸入圖片網址",modelValue:r.tempProduct.comments[c].imageUrl,"onUpdate:modelValue":function(e){return r.tempProduct.comments[c].imageUrl=e}},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"使用者 ".concat(c+1," 頭像"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",Jt,[Object(a["createVNode"])("label",{for:"userName-".concat(c),class:"form-label"},"使用者名稱",8,["for"]),Object(a["createVNode"])(n,{type:"text",id:"userName-".concat(c),name:"使用者 ".concat(c+1," 名稱"),class:["form-control",{"is-invalid":t["使用者 ".concat(c+1," 名稱")]}],rules:"required",modelValue:r.tempProduct.comments[c].name,"onUpdate:modelValue":function(e){return r.tempProduct.comments[c].name=e}},null,8,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"使用者 ".concat(c+1," 名稱"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",Ht,[Object(a["createVNode"])("label",{for:"userCommentScore-".concat(c),class:"form-label"},"對產品的評分",8,["for"]),Object(a["createVNode"])(n,{id:"userCommentScore-".concat(c),name:"使用者 ".concat(c+1," 評分"),class:["form-control",{"is-invalid":t["使用者 ".concat(c+1," 評分")]}],rules:"required",as:"select",modelValue:r.tempProduct.comments[c].score,"onUpdate:modelValue":function(e){return r.tempProduct.comments[c].score=e}},{default:Object(a["withCtx"])((function(){return[zt,Gt,Kt,Qt,Wt,Xt]})),_:2},1032,["id","name","class","modelValue","onUpdate:modelValue"]),Object(a["createVNode"])(i,{name:"使用者 ".concat(c+1," 評分"),class:"invalid-feedback"},null,8,["name"])]),Object(a["createVNode"])("div",Yt,[Object(a["createVNode"])("label",{for:"userCommentContent-".concat(c),class:"form-label"},"評語（選填）",8,["for"]),Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{id:"userCommentContent-".concat(c),cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":function(e){return r.tempProduct.comments[c].content=e}},null,8,["id","onUpdate:modelValue"]),[[a["vModelText"],r.tempProduct.comments[c].content]])])])})),128))]),Object(a["createVNode"])("div",Zt,[Object(a["createVNode"])("button",ec,[tc,Object(a["createVNode"])("p",cc,Object(a["toDisplayString"])(c.modalTitle),1)],512),ac])]})),_:1},8,["onSubmit"])])])])])])}var rc={props:["modalTitle","temp","comments"],emits:["emit-comment-modal"],data:function(){return{tempProduct:{}}},methods:{addComment:function(){!1===Object.keys(this.tempProduct).includes("comments")?(this.tempProduct.packageOptions=[],this.tempProduct.packageOptions[0]={imageUrl:"",name:"",score:"",content:""}):this.tempProduct.comments[this.tempProduct.comments.length]={imageUrl:"",name:"",score:"",content:""}},deleteComment:function(e){this.tempProduct.comments.splice(e,1)},submitComment:function(){this.$emit("emit-comment-modal",this.tempProduct)}},watch:{temp:function(){this.tempProduct=Object(M["a"])({},this.temp),!1===Object.keys(this.tempProduct).includes("tagCheck")&&(this.tempProduct.tagCheck=[]),!1===Object.keys(this.tempProduct).includes("duration")&&(this.tempProduct.duration={day:0,hours:0,min:0}),!1===Object.keys(this.tempProduct).includes("comments")&&(this.tempProduct.comments=[{imageUrl:"",name:"",score:"",content:""}])}},created:function(){this.tempProduct=Object(M["a"])(Object(M["a"])({},this.temp),{},{tagCheck:[],comments:[]})}};rc.render=oc;var lc=rc,nc=c("212e"),ic={data:function(){return{temp:{title:"",totalBookingNum:0,category:"",origin_price:0,price:0,unit:"",description:"",content:"",duration:{},is_enabled:!0,is_mainProduct:!1,is_freeCxl:!1,translate:{},transfer:{},imageUrl:"",otherImageUrl:"",imagesUrl:[],packageOptions:[],tagCheck:[],comments:[]},tagCategory:["大台北","中彰投","嘉南","高屏","花東","親子","浪漫","冒險","自然","烹飪","美食","知性文化","水上活動","獨家代理"],products:[],totalProducts:[],mainProduct:[],pagination:{},modalTitle:"",productModal:{},deleteModal:{},commentEditModal:{},searchProduct:"",showAlert:!1,alertMsg:""}},components:{Alert:D["a"],Pagination:T["a"],ProductEditModal:Dt,CommentEditModal:lc,ProductDeleteModal:nc["a"]},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/products/?page=").concat(t)).then((function(t){if(t.data.success){var c=t.data;e.products=c.products,e.products.forEach((function(t,c){var a=t.packageOptions.map((function(e){return e.price})),o=t.packageOptions.map((function(e){return e.origin_price}));a=a.sort((function(e,t){return e-t})),o=o.sort((function(e,t){return e-t}));var r=a,l=Object(A["a"])(r,1),n=l[0],i=o,d=Object(A["a"])(i,1),s=d[0];e.products[c].lowestPrice=n,e.products[c].lowestOriginPrice=s,t.packageOptions.forEach((function(t){t.price===n&&(e.products[c].lowestPriceUnit=t.unit),t.origin_price===s&&(e.products[c].lowestOriginPriceUnit=t.unit)}))})),e.pagination=t.data.pagination,e.getTotalData()}else e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},getTotalData:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/products/all")).then((function(t){t.data.success?(e.totalProducts=Object.values(t.data.products),e.totalProducts.forEach((function(t){t.is_mainProduct&&e.mainProduct.push(t)})),e.totalProducts.forEach((function(t,c){var a=t.packageOptions.map((function(e){return e.price})),o=t.packageOptions.map((function(e){return e.origin_price}));a=a.sort((function(e,t){return e-t})),o=o.sort((function(e,t){return e-t}));var r=a,l=Object(A["a"])(r,1),n=l[0],i=o,d=Object(A["a"])(i,1),s=d[0];e.totalProducts[c].lowestPrice=n,e.totalProducts[c].lowestOriginPrice=s,t.packageOptions.forEach((function(t){t.price===n&&(e.totalProducts[c].lowestPriceUnit=t.unit),t.origin_price===s&&(e.totalProducts[c].lowestOriginPriceUnit=t.unit)}))}))):e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},customAlert:function(e){this.alertMsg=e,this.showAlert=!0,window.setTimeout(this.closeCustomAlert,5e3)},closeCustomAlert:function(){this.showAlert=!1},openModal:function(e,t){switch(t){case"addProduct":this.clearModal(),this.modalTitle="新增",this.productModal.show();break;case"editProduct":this.modalTitle="完成編輯",this.temp=Object(M["a"])({},e),this.temp.is_enabled=1===this.temp.is_enabled,!1===Object.prototype.hasOwnProperty.call(this.temp,"imagesUrl")?this.temp.imagesUrl=[]:this.temp.imagesUrl=this.temp.imagesUrl.filter((function(e){return""!==e})),this.productModal.show();break;case"editComment":this.modalTitle="完成編輯",this.temp=Object(M["a"])({},e);break;case"deleteProduct":this.temp=Object(M["a"])({},e);break;default:break}},clearModal:function(){this.temp={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:!0,imageUrl:"",otherImageUrl:"",imagesUrl:[]}},addNewProduct:function(e,t){var c=this,a=this.$refs.productModal.$refs.productAdminBtn;a.classList.add("disabled"),a.children[0].classList.remove("d-none");var o={};if(o.data=Object(M["a"])({},t),o.data.is_enabled=o.data.is_enabled?1:0,o.data.tagCheck.indexOf("體驗票券")>-1?o.data.tagCheck.splice(o.data.tagCheck.indexOf("體驗票券"),1):o.data.tagCheck.indexOf("城市導覽")>-1?o.data.tagCheck.splice(o.data.tagCheck.indexOf("城市導覽"),1):o.data.tagCheck.indexOf("包車服務")>-1&&o.data.tagCheck.splice(o.data.tagCheck.indexOf("包車服務"),1),o.data.tagCheck.push(o.data.category),o.data.packageOptions.forEach((function(e,t){o.data.packageOptions[t].id="".concat(o.data.id,"-").concat(t)})),delete o.data.otherImageUrl,"新增"===e)this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product"),o).then((function(e){e.data.success?(c.customAlert("新增完成"),c.getData(),a.classList.remove("disabled"),a.children[0].classList.add("d-none"),c.productModal.hide()):(c.customAlert(e.data.message),a.classList.remove("disabled"),a.children[0].classList.add("d-none"))})).catch((function(e){c.customAlert(e.response),a.classList.remove("disabled"),a.children[0].classList.add("d-none")}));else if("完成編輯"===e){var r=t.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(r),o).then((function(e){e.data.success?(c.customAlert("編輯成功"),c.getData(),a.classList.remove("disabled"),a.children[0].classList.add("d-none"),c.productModal.hide()):(c.customAlert(e.data.message),a.classList.remove("disabled"),a.children[0].classList.add("d-none"))})).catch((function(e){c.customAlert(e.response),a.classList.remove("disabled"),a.children[0].classList.add("d-none")}))}},deleteProduct:function(){var e=this,t=this.temp.id;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(t)).then((function(t){t.data.success?(e.customAlert("刪除成功"),e.getData(),e.clearModal(),e.deleteModal.hide()):e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},deleteMainProduct:function(e){var t=this,c={};c.data=Object(M["a"])({},e),c.data.is_mainProduct=!1;var a=c.data.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(a),c).then((function(e){e.data.success?t.customAlert("刪除成功"):t.customAlert(e.data.message)})).catch((function(e){t.customAlert(e.response)}))},addNewComment:function(e){var t=this,c=this.$refs.commentModal.$refs.commentAdminBtn;c.classList.add("disabled"),c.children[0].classList.remove("d-none");var a={};if(a.data=Object(M["a"])({},e),void 0!==a.data.comments){var o=0,r=[0,0,0,0,0];a.data.comments.forEach((function(e){switch(o+=Number(e.score),e.score){case"1":r[0]+=1;break;case"2":r[1]+=1;break;case"3":r[2]+=1;break;case"4":r[3]+=1;break;case"5":r[4]+=1;break;default:break}})),r=r.map((function(e){return(e/a.data.comments.length*100).toFixed(1)}));var l={star1:r[0],star2:r[1],star3:r[2],star4:r[3],star5:r[4]};a.data.scoreObj=l,a.data.averageScore=(o/a.data.comments.length).toFixed(1)}var n=e.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/admin/product/").concat(n),a).then((function(e){e.data.success?(t.customAlert("編輯成功"),t.getData(),c.classList.remove("disabled"),c.children[0].classList.add("d-none"),t.commentModal.hide()):(t.customAlert(e.data.message),c.classList.remove("disabled"),c.children[0].classList.add("d-none"))})).catch((function(e){t.customAlert(e.response),c.classList.remove("disabled"),c.children[0].classList.add("d-none")}))}},computed:{filterProduct:function(){var e=this;return""!==this.searchProduct?this.totalProducts.filter((function(t){return t.title.match(new RegExp(e.searchProduct,"gi"))})):this.products}},created:function(){this.getData()},mounted:function(){this.productModal=new _["a"](document.getElementById("productModal"),{keyboard:!1}),this.commentModal=new _["a"](document.getElementById("commentModal"),{keyboard:!1}),this.deleteModal=new _["a"](document.getElementById("deleteModal"),{keyboard:!1})}};ic.render=U;t["default"]=ic},b680:function(e,t,c){"use strict";var a=c("23e7"),o=c("a691"),r=c("408a"),l=c("1148"),n=c("d039"),i=1..toFixed,d=Math.floor,s=function(e,t,c){return 0===t?c:t%2===1?s(e,t-1,c*e):s(e*e,t/2,c)},u=function(e){var t=0,c=e;while(c>=4096)t+=12,c/=4096;while(c>=2)t+=1,c/=2;return t},m=function(e,t,c){var a=-1,o=c;while(++a<6)o+=t*e[a],e[a]=o%1e7,o=d(o/1e7)},b=function(e,t){var c=6,a=0;while(--c>=0)a+=e[c],e[c]=d(a/t),a=a%t*1e7},p=function(e){var t=6,c="";while(--t>=0)if(""!==c||0===t||0!==e[t]){var a=String(e[t]);c=""===c?a:c+l.call("0",7-a.length)+a}return c},O=i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){i.call({})}));a({target:"Number",proto:!0,forced:O},{toFixed:function(e){var t,c,a,n,i=r(this),d=o(e),O=[0,0,0,0,0,0],j="",f="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(j="-",i=-i),i>1e-21)if(t=u(i*s(2,69,1))-69,c=t<0?i*s(2,-t,1):i/s(2,t,1),c*=4503599627370496,t=52-t,t>0){m(O,0,c),a=d;while(a>=7)m(O,1e7,0),a-=7;m(O,s(10,a,1),0),a=t-1;while(a>=23)b(O,1<<23),a-=23;b(O,1<<a),m(O,1,1),b(O,2),f=p(O)}else m(O,0,c),m(O,1<<-t,0),f=p(O)+l.call("0",d);return d>0?(n=f.length,f=j+(n<=d?"0."+l.call("0",d-n)+f:f.slice(0,n-d)+"."+f.slice(n-d))):f=j+f,f}})}}]);
//# sourceMappingURL=chunk-33b1a325.d0544063.js.map