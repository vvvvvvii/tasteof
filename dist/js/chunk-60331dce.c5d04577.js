(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60331dce"],{"0fd0":function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a"),o("ac1f"),o("1276"),o("b0c0");var c=o("7a23"),n={class:"pt-7 flex-fill"},a={class:"bg-secondary pt-3 pb-2 position-fixed w-100 z-index-sticky d-lg-none"},r={class:"container"},i={class:"nav nav-tabs"},l={class:"nav-item"},s={class:"container"},d={class:"row py-8"},b={class:"col-lg-4 d-lg-block d-none position-relative"},u={class:"d-flex justify-content-between mb-6 px-2"},p=Object(c["createVNode"])("p",{class:"h3"},"立即預購",-1),m={class:"text-end"},O={class:"h3"},j=Object(c["createTextVNode"])(" 起 "),f={class:"list-group list-group-flush"},h={class:"list-group-item"},g=Object(c["createVNode"])("ul",null,[Object(c["createVNode"])("li",{class:"cloud1"}),Object(c["createVNode"])("li",{class:"cloud2"}),Object(c["createVNode"])("li",{class:"cloud3"})],-1),N={class:"col-lg-8 py-lg-0 py-md-6 py-sm-4 py-2"},k=Object(c["createVNode"])("button",{type:"button",class:"btn extend-img-btn","data-bs-toggle":"modal","data-bs-target":"#productPageImgModal"},[Object(c["createVNode"])("i",{class:"bi bi-arrows-fullscreen"})],-1),V={class:"d-sm-none d-block"},y={class:"modal fade p-0",id:"productPageImgModal",tabindex:"-1","aria-labelledby":"productPageImgModalLabel","aria-hidden":"true"},v={class:"modal-dialog modal-dialog-centered modal-xl"},w={class:"modal-content rounded-0"},I={class:"modal-body p-0"},B={class:"px-6 py-7"},x={class:"text-primary text-center fw-bold mb-7"},D={class:"d-flex justify-content-center mb-6"},S=Object(c["createVNode"])("i",{class:"bi bi-circle-fill mb-1"},null,-1),C={class:"text-center"},M={class:"bg-light d-flex justify-content-center py-3"},P=Object(c["createVNode"])("i",{class:"bi bi-people-fill"},null,-1),A={class:"ms-2"},T={key:0,class:"ms-6"},L=Object(c["createVNode"])("i",{class:"bi bi-clock"},null,-1),_={key:0,class:"ms-2"},q={key:1,class:"ms-2"},F={key:2,class:"ms-2"},U={class:"px-md-6 pt-7",id:"packageOptionsSection"},E=Object(c["createVNode"])("h3",{class:"text-primary mb-6"},"選擇方案",-1),J={class:"mb-7"},$={class:"card-body"},R={class:"d-flex flex-sm-row justify-content-between mb-3"},Y={class:"card-title mb-2"},z={class:"h5"},Q={class:"text-end h4-md h5 w-50 d-sm-inline d-flex flex-column"},H={class:"h3-md h4 mb-sm-0 mb-2"},G={class:"d-sm-inline d-none"},K={class:"d-sm-none d-inline"},W={key:0,class:"h4-md h5 mb-2"},X=Object(c["createVNode"])("i",{class:"bi bi-check2"},null,-1),Z={key:0,type:"button","data-bs-toggle":"modal","data-bs-target":"#optionModal",class:"text-secondary d-md-inline mb-3 d-none"},ee=Object(c["createVNode"])("i",{class:"bi bi-question-diamond-fill"},null,-1),te=Object(c["createTextVNode"])(" 查看更多方案包含細項 "),oe=Object(c["createVNode"])("a",{type:"button","data-bs-toggle":"modal","data-bs-target":"#optionModal",class:"text-secondary d-md-none mb-3 h5"},[Object(c["createVNode"])("i",{class:"bi bi-question-diamond-fill"}),Object(c["createTextVNode"])(" 查看更多方案包含細項 ")],-1),ce={class:"modal fade",id:"optionModal",tabindex:"-1","aria-labelledby":"optionModalLabel","aria-hidden":"true"},ne={class:"modal-dialog modal-dialog-centered"},ae={class:"modal-content"},re=Object(c["createVNode"])("div",{class:"modal-header bg-wave mb-3 position-relative"},[Object(c["createVNode"])("h3",null," 方案內含： "),Object(c["createVNode"])("div",{class:"cable-car"})],-1),ie={class:"modal-body p-6"},le=Object(c["createVNode"])("i",{class:"bi bi-check2"},null,-1),se=Object(c["createVNode"])("h3",{class:"text-primary mb-6"}," 相關規定 ",-1),de={key:0,id:"commentsSection"},be=Object(c["createVNode"])("h3",{class:"text-primary mb-6"},"好評推薦",-1),ue={class:"d-flex justify-content-around align-items-center\n              text-center bg-light py-5 mb-6"},pe={class:"mb-3"},me={class:"text-secondary fw-bold h2"},Oe=Object(c["createTextVNode"])(" 星 "),je={key:0,class:"w-50"},fe={class:"d-sm-inline d-none"},he={key:0,class:"text-gray ms-3"},ge={class:"d-sm-none d-inline"},Ne=Object(c["createVNode"])("span",{class:"d-sm-inline d-none"},"0 %",-1),ke={class:"d-sm-none d-inline"},Ve={class:"d-sm-inline d-none"},ye={class:"px-6 py-3"},ve={class:"d-flex"},we={class:"ms-3 w-75"},Ie={class:"text-gray-dark mb-1"},Be={class:"d-sm-none text-warning h4 ms-2"},xe=Object(c["createVNode"])("i",{class:"bi bi-star-fill"},null,-1),De={class:"text-warning mb-3"},Se={class:"d-sm-inline d-none"},Ce={class:"h4-md h5"},Me={key:0,class:"bg-wave py-7",id:"moreActivitiesSection"},Pe={class:"container"},Ae=Object(c["createVNode"])("h3",{class:"text-primary mb-5"},"更多相似活動",-1),Te={class:"row flex-nowrap overflow-scroll"},Le={class:"card-img-outer"},_e={class:"card-body"},qe={class:"card-title ellipsis ellipsis-one-line"},Fe={class:"h3-md h5 text-end"},Ue=Object(c["createVNode"])("div",{class:"to-top-btn-text"},[Object(c["createVNode"])("p",null,"回到"),Object(c["createVNode"])("p",null,"上方")],-1);function Ee(e,t,o,Ee,Je,$e){var Re=Object(c["resolveComponent"])("SwiperSlide"),Ye=Object(c["resolveComponent"])("Swiper"),ze=Object(c["resolveComponent"])("Option-modal"),Qe=Object(c["resolveComponent"])("router-link"),He=Object(c["resolveComponent"])("Alert");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",r,[Object(c["createVNode"])("ul",i,[Object(c["createVNode"])("li",l,[Object(c["createVNode"])("a",{href:"#",class:"nav-link",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#packageOptionsSection")}),["prevent"]))},"選擇方案")]),Object(c["createVNode"])("li",{class:"nav-item",onClick:t[3]||(t[3]=Object(c["withModifiers"])((function(){return e.toRules&&e.toRules.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"nav-link",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#ruleSection")}),["prevent"]))},"相關規定")]),Je.moreInfo.productInfo.comments?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:0,class:"nav-item",onClick:t[5]||(t[5]=Object(c["withModifiers"])((function(){return e.toComments&&e.toComments.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"nav-link",onClick:t[4]||(t[4]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#commentsSection")}),["prevent"]))},"好評推薦")])):Object(c["createCommentVNode"])("",!0),0!==Je.randomProducts.length?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:1,class:"nav-item",onClick:t[7]||(t[7]=Object(c["withModifiers"])((function(){return e.toMoreActivities&&e.toMoreActivities.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"nav-link",onClick:t[6]||(t[6]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#moreActivitiesSection")}),["prevent"]))},"更多活動")])):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",u,[p,Object(c["createVNode"])("p",m,[Object(c["createVNode"])("span",O,"NT "+Object(c["toDisplayString"])(Je.moreInfo.productInfo.lowestPrice),1),j])]),Object(c["createVNode"])("ul",f,[Object(c["createVNode"])("li",h,[Object(c["createVNode"])("a",{href:"#",class:"list-group-link",onClick:t[8]||(t[8]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#packageOptionsSection")}),["prevent"]))},"選擇方案")]),Object(c["createVNode"])("li",{class:"list-group-item",onClick:t[10]||(t[10]=Object(c["withModifiers"])((function(){return e.toRules&&e.toRules.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"list-group-link",onClick:t[9]||(t[9]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#ruleSection")}),["prevent"]))},"相關規定")]),Je.moreInfo.productInfo.comments?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:0,class:"list-group-item",onClick:t[12]||(t[12]=Object(c["withModifiers"])((function(){return e.toComments&&e.toComments.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"list-group-link",onClick:t[11]||(t[11]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#commentsSection")}),["prevent"]))},"好評推薦")])):Object(c["createCommentVNode"])("",!0),0!==Je.randomProducts.length?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:1,class:"list-group-item",onClick:t[14]||(t[14]=Object(c["withModifiers"])((function(){return e.toMoreActivities&&e.toMoreActivities.apply(e,arguments)}),["prevent"]))},[Object(c["createVNode"])("a",{href:"#",class:"list-group-link",onClick:t[13]||(t[13]=Object(c["withModifiers"])((function(e){return $e.goAnchor("#moreActivitiesSection")}),["prevent"]))},"更多相似活動")])):Object(c["createCommentVNode"])("",!0)]),g]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])(Ye,{autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,"slides-per-view":3,spaceBetween:0,class:"mySwiper rounded-2"},{default:Object(c["withCtx"])((function(){return[k,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.imagesUrl,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Re,{key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e,class:"swiper-img rounded-2"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1}),Object(c["createVNode"])("div",V,[Object(c["createVNode"])(Ye,{loop:!0,centeredSlides:!0,navigation:!0,thumbs:{swiper:Je.thumbsSwiperMobile},class:"gallery-top-modal"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.imagesUrl,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Re,{key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e,class:"swiper-img rounded-2"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["thumbs"]),Object(c["createVNode"])(Ye,{onSwiper:$e.setThumbsSwiperMobile,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,class:"gallery-thumbs rounded-2"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.imagesUrl,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Re,{key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e,class:"swiper-img"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])]),Object(c["createVNode"])("div",y,[Object(c["createVNode"])("div",v,[Object(c["createVNode"])("div",w,[Object(c["createVNode"])("div",I,[Object(c["createVNode"])(Ye,{centeredSlides:!0,loop:!0,navigation:!0,thumbs:{swiper:Je.thumbsSwiper},observer:!0,observeParents:!0,class:"gallery-top-modal"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.imagesUrl,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Re,{key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e,class:"swiper-img"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["thumbs"]),Object(c["createVNode"])(Ye,{onSwiper:$e.setThumbsSwiper,slidesPerView:4,spaceBetween:10,freeMode:!0,observer:!0,observeParents:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,class:"gallery-thumbs"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.imagesUrl,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Re,{key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:e,class:"swiper-img"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])])])])]),Object(c["createVNode"])("div",B,[Object(c["createVNode"])("h2",x,Object(c["toDisplayString"])(Je.moreInfo.productInfo.title),1),Object(c["createVNode"])("div",D,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.attractionArr,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:t,class:["d-flex flex-column align-items-center h3 attraction-line",{"ms-5":0!==t}]},[S,Object(c["createVNode"])("p",C,Object(c["toDisplayString"])(e),1)],2)})),128))]),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(Je.moreInfo.productInfo.description),1)]),Object(c["createVNode"])("div",M,[Object(c["createVNode"])("p",null,[P,Object(c["createVNode"])("span",A,Object(c["toDisplayString"])(Je.moreInfo.productInfo.ageRestriction),1)]),Je.moreInfo.productInfo.duration?(Object(c["openBlock"])(),Object(c["createBlock"])("p",T,[L,Je.moreInfo.productInfo.duration.day>0?(Object(c["openBlock"])(),Object(c["createBlock"])("span",_,Object(c["toDisplayString"])(Je.moreInfo.productInfo.duration.day)+" 天",1)):Object(c["createCommentVNode"])("",!0),Je.moreInfo.productInfo.duration.hours>0?(Object(c["openBlock"])(),Object(c["createBlock"])("span",q,Object(c["toDisplayString"])(Je.moreInfo.productInfo.duration.hours)+" 小時",1)):Object(c["createCommentVNode"])("",!0),Je.moreInfo.productInfo.duration.min>0?(Object(c["openBlock"])(),Object(c["createBlock"])("span",F,Object(c["toDisplayString"])(Je.moreInfo.productInfo.duration.min)+" 分",1)):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",U,[E,Object(c["createVNode"])("ul",J,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.packageOptions,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:e.optionName,class:["card card-row bg-light",{"mb-6":t!==Je.moreInfo.productInfo.packageOptions.length-1}]},[Object(c["createVNode"])("img",{class:"card-row-img",src:Je.moreInfo.productInfo.imageUrl,alt:e.optionName},null,8,["src","alt"]),Object(c["createVNode"])("div",$,[Object(c["createVNode"])("div",R,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h3",Y,Object(c["toDisplayString"])(e.optionName),1),Object(c["createVNode"])("p",z,"集合時間： "+Object(c["toDisplayString"])(e.meetingTime),1)]),Object(c["createVNode"])("p",Q,[Object(c["createVNode"])("span",H,"NT "+Object(c["toDisplayString"])($e.addComma(e.price)),1),Object(c["createVNode"])("span",G," / "+Object(c["toDisplayString"])(e.unit),1),Object(c["createVNode"])("span",K,Object(c["toDisplayString"])(e.unit),1)])]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.contentArr,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:t},[t<3?(Object(c["openBlock"])(),Object(c["createBlock"])("p",W,[X,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e),1)])):Object(c["createCommentVNode"])("",!0)],64)})),128)),e.contentArr.length>3?(Object(c["openBlock"])(),Object(c["createBlock"])("a",Z,[ee,te])):Object(c["createCommentVNode"])("",!0),oe,Object(c["createVNode"])("div",ce,[Object(c["createVNode"])("div",ne,[Object(c["createVNode"])("div",ae,[re,Object(c["createVNode"])("div",ie,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.contentArr,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("p",{key:t},[le,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e),1)])})),128))]),Object(c["createVNode"])("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(t){return $e.openModal(e)},class:"btn btn-primary py-2 rounded-0\n                          d-flex justify-content-center align-items-center"}," 現在預訂 ",8,["onClick"])])])]),Object(c["createVNode"])("button",{type:"button",onClick:function(t){return $e.openModal(e)},class:"btn btn-primary d-flex\n                    justify-content-center align-items-center w-100 py-2"}," 現在預訂 ",8,["onClick"])])],2)})),128))]),Object(c["createVNode"])(ze,{ref:"bookingModal",temp:Je.temp,"more-info":Je.moreInfo,onEmitAddCart:$e.addCart},null,8,["temp","more-info","onEmitAddCart"]),Object(c["createVNode"])("div",{id:"ruleSection",class:{"mb-7":Je.moreInfo.productInfo.comments}},[se,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(Je.moreInfo.productInfo.policy),1)],2),Je.moreInfo.productInfo.comments?(Object(c["openBlock"])(),Object(c["createBlock"])("div",de,[be,Object(c["createVNode"])("div",ue,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h3",pe,[Object(c["createVNode"])("span",me,Object(c["toDisplayString"])(Je.moreInfo.productInfo.averageScore),1),Oe]),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(Je.moreInfo.productInfo.comments.length)+" 則評論",1)]),Je.moreInfo.productInfo.scoreObj?(Object(c["openBlock"])(),Object(c["createBlock"])("ul",je,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.scoreObj,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:"d-flex align-items-center mb-2",key:t},[Object(c["createVNode"])("span",fe,Object(c["toDisplayString"])(t.split("r")[1])+" 星",1),Object(c["createVNode"])("div",{class:["progress ms-sm-3 w-75",{"align-items-center":e<=0}]},[e<=0?(Object(c["openBlock"])(),Object(c["createBlock"])("p",he,[Object(c["createVNode"])("span",ge,Object(c["toDisplayString"])(t.split("r")[1])+" 星",1),Ne])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",{class:"progress-bar bg-secondary",role:"progressbar",style:{width:"".concat(e,"%")},"aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100"},[Object(c["createVNode"])("span",ke,Object(c["toDisplayString"])(t.split("r")[1])+" 星",1),Object(c["createVNode"])("span",Ve,Object(c["toDisplayString"])(e)+" %",1)],12,["aria-valuenow"])],2)])})),128))])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("ul",ye,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.moreInfo.productInfo.comments,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:t,class:{"pb-6":t!==Je.moreInfo.productInfo.comments.length-1,"mb-6":t!==Je.moreInfo.productInfo.comments.length-1,"border-bottom":t!==Je.moreInfo.productInfo.comments.length-1,"border-light":t!==Je.moreInfo.productInfo.comments.length-1}},[Object(c["createVNode"])("div",ve,[Object(c["createVNode"])("img",{class:"user-img",src:e.imageUrl,alt:"使用者頭像 -".concat(t)},null,8,["src","alt"]),Object(c["createVNode"])("div",we,[Object(c["createVNode"])("h5",Ie,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name)+" ",1),Object(c["createVNode"])("span",Be,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.score)+" ",1),xe])]),Object(c["createVNode"])("h4",De,[Object(c["createVNode"])("span",Se,[Object(c["createVNode"])("i",{class:["bi",{"bi-star-fill":e.score>=1}]},null,2),Object(c["createVNode"])("i",{class:["bi ms-1",{"bi-star-fill":e.score>=2,"bi-star":e.score<=1}]},null,2),Object(c["createVNode"])("i",{class:["bi ms-1",{"bi-star-fill":e.score>=3,"bi-star":e.score<=2}]},null,2),Object(c["createVNode"])("i",{class:["bi ms-1",{"bi-star-fill":e.score>=4,"bi-star":e.score<=3}]},null,2),Object(c["createVNode"])("i",{class:["bi ms-1",{"bi-star-fill":5==e.score,"bi-star":e.score<=4}]},null,2)])]),Object(c["createVNode"])("p",Ce,Object(c["toDisplayString"])(e.content||"我給的星星就代表了我的評語～"),1)])])],2)})),128))])])):Object(c["createCommentVNode"])("",!0)])])])]),0!==Je.randomProducts.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",Me,[Object(c["createVNode"])("div",Pe,[Ae,Object(c["createVNode"])("div",Te,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(Je.randomProducts,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"col-sm-4 col-5",key:t},[Object(c["createVNode"])(Qe,{to:"/product/".concat(e.id),title:"查看更多",class:"card overflow-hidden"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",Le,[Object(c["createVNode"])("img",{src:e.imageUrl,alt:e.title,class:"card-img"},null,8,["src","alt"])]),Object(c["createVNode"])("div",_e,[Object(c["createVNode"])("h4",qe,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("p",Fe,"NT "+Object(c["toDisplayString"])($e.addComma(e.lowestPrice))+" 起",1)])]})),_:2},1032,["to"])])})),128))])])])):Object(c["createCommentVNode"])("",!0),Je.topBtnShow?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:1,class:"to-top-btn d-sm-block d-none",onClick:t[15]||(t[15]=function(){return $e.scrollToTop&&$e.scrollToTop.apply($e,arguments)})},[Ue])):Object(c["createCommentVNode"])("",!0),Je.buyBtnShow?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:2,class:"buy-now-btn d-sm-none d-block",onClick:t[16]||(t[16]=function(e){return $e.goAnchor("#packageOptionsSection")})}," 現在購買 ")):Object(c["createCommentVNode"])("",!0),Je.showAlert?(Object(c["openBlock"])(),Object(c["createBlock"])(He,{key:3,"alert-msg":Je.alertMsg},null,8,["alert-msg"])):Object(c["createCommentVNode"])("",!0)])}var Je=o("5530"),$e=o("3835"),Re=(o("99af"),o("4de4"),o("d81d"),o("4e82"),o("159b"),o("7db0"),o("d3b7"),o("6062"),o("3ca3"),o("ddb0"),o("caad"),o("2532"),o("a9e3"),o("b64b"),o("25f0"),o("5319"),o("a15b"),o("a02d")),Ye=o("7b17"),ze={class:"modal fade",id:"bookingModal",tabindex:"-1","aria-labelledby":"bookingModalLabel","aria-hidden":"true"},Qe={class:"modal-dialog modal-dialog-centered"},He={class:"modal-content bg-secondary"},Ge={class:"modal-body p-6"},Ke={class:"text-center text-light mb-6"},We={class:"d-flex flex-sm-row flex-column justify-content-center align-items-center"},Xe={class:"d-flex flex-column align-items-center w-sm-auto w-50\n                  p-3 mb-sm-0 mb-3 bg-light rounded-2"},Ze={key:0,class:"mb-3"},et={key:1,class:"mb-3"},tt={key:2,class:"mb-3"},ot={class:"d-flex align-items-center"},ct=Object(c["createVNode"])("i",{class:"bi bi-dash-lg"},null,-1),nt={class:"p-3"},at=Object(c["createVNode"])("i",{class:"bi bi-plus-lg"},null,-1),rt={key:0,class:"d-flex flex-column align-items-center w-sm-auto w-50\n                  p-3 bg-light rounded-2 ms-sm-3"},it=Object(c["createVNode"])("p",{class:"mb-3"}," 孩童 ",-1),lt={class:"d-flex align-items-center"},st=Object(c["createVNode"])("i",{class:"bi bi-dash-lg"},null,-1),dt={class:"p-3"},bt=Object(c["createVNode"])("i",{class:"bi bi-plus-lg"},null,-1),ut={class:"mx-auto w-sm-50 w-75"},pt={class:"d-flex flex-column align-items-center bg-light rounded-2 p-3"},mt=Object(c["createVNode"])("label",{for:"startDate",class:"mb-3"}," 日期 ",-1),Ot={class:"d-flex justify-content-between align-items-end"},jt={class:"h3 text-light mb-2"},ft=Object(c["createTextVNode"])(" NT "),ht={class:"h2"},gt=Object(c["createVNode"])("div",{class:"spinner-border spinner-border-sm text-dark d-none",role:"status"},[Object(c["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),Nt={class:"ms-1"},kt={key:0},Vt={key:1};function yt(e,t,o,n,a,r){var i=this,l=Object(c["resolveComponent"])("SwiperSlide"),s=Object(c["resolveComponent"])("flat-pickr"),d=Object(c["resolveComponent"])("Swiper");return Object(c["openBlock"])(),Object(c["createBlock"])("div",ze,[Object(c["createVNode"])("div",Qe,[Object(c["createVNode"])("div",He,[Object(c["createVNode"])("div",Ge,[Object(c["createVNode"])("h3",Ke,Object(c["toDisplayString"])(this.optionDetail.optionName),1),Object(c["createVNode"])(d,{navigation:!0,slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0,class:"addCartSwiper mb-6 pb-6 border-bottom border-light"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",We,[Object(c["createVNode"])("div",Xe,["每人"===a.productDetail.productInfo.lowestPriceUnit?(Object(c["openBlock"])(),Object(c["createBlock"])("p",Ze," 成人 ")):"包車服務"!==a.productDetail.productInfo.category&&"每人"!==a.productDetail.productInfo.lowestPriceUnit?(Object(c["openBlock"])(),Object(c["createBlock"])("p",et," 數量 ")):"包車服務"===a.productDetail.productInfo.category&&"每人"!==a.productDetail.productInfo.lowestPriceUnit?(Object(c["openBlock"])(),Object(c["createBlock"])("p",tt," 台 ")):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",ot,[Object(c["createVNode"])("button",{type:"button",class:"bg-transparent px-2 py-1\n                      rounded-circle border-secondary text-secondary",onClick:t[1]||(t[1]=function(e){return r.changeTktNum("adult","minus")})},[ct]),Object(c["createVNode"])("p",nt,Object(c["toDisplayString"])(a.productDetail.tktNum.adult),1),Object(c["createVNode"])("button",{type:"button",class:"bg-transparent px-2 py-1\n                      rounded-circle border-secondary text-secondary",onClick:t[2]||(t[2]=function(e){return r.changeTktNum("adult","plus")})},[at])])]),"每人"===a.productDetail.productInfo.lowestPriceUnit?(Object(c["openBlock"])(),Object(c["createBlock"])("div",rt,[it,Object(c["createVNode"])("div",lt,[Object(c["createVNode"])("button",{type:"button",class:"bg-transparent px-2 py-1 rounded-circle\n                      border-secondary text-secondary",onClick:t[3]||(t[3]=function(e){return r.changeTktNum("child","minus")})},[st]),Object(c["createVNode"])("p",dt,Object(c["toDisplayString"])(a.productDetail.tktNum.child),1),Object(c["createVNode"])("button",{type:"button",class:"bg-transparent px-2 py-1 rounded-circle\n                      border-secondary text-secondary",onClick:t[4]||(t[4]=function(e){return r.changeTktNum("child","plus")})},[bt])])])):Object(c["createCommentVNode"])("",!0)])]})),_:1}),Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",ut,[Object(c["createVNode"])("div",pt,[mt,Object(c["createVNode"])(s,{id:"startDate",ref:"startDate",config:a.config,modelValue:a.productDetail.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.productDetail.startDate=e}),class:"py-sm-2 text-center"},null,8,["config","modelValue"])])])]})),_:1})]})),_:1}),Object(c["createVNode"])("div",Ot,[Object(c["createVNode"])("p",jt,[ft,Object(c["createVNode"])("span",ht,Object(c["toDisplayString"])(r.addComma(this.optionDetail.price*(a.productDetail.tktNum.adult+a.productDetail.tktNum.child))),1)]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-light w-50\n              d-flex justify-content-center align-items-center py-2",ref:"addCartBtn",onClick:t[6]||(t[6]=function(t){return e.$emit("emit-add-cart",i.productDetail,i.optionDetail)}),disabled:""===a.productDetail.startDate||a.productDetail.tktNum.adult<1},[gt,Object(c["createVNode"])("p",Nt,[""===a.productDetail.startDate?(Object(c["openBlock"])(),Object(c["createBlock"])("span",kt,"填寫日期")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",Vt,"加入購物車"))])],8,["disabled"])])])])])])}var vt=o("c38f"),wt=o.n(vt),It=(o("0952"),{props:["temp","moreInfo"],emits:["emit-add-cart"],data:function(){return{config:{altFormat:"F j, Y",dateFormat:"Y-m-d",minDate:"today"},productDetail:{},optionDetail:{}}},components:{FlatPickr:wt.a},methods:{changeTktNum:function(e,t){"adult"===e?"plus"===t?this.productDetail.tktNum.adult+=1:"minus"===t&&this.productDetail.tktNum.adult>=2&&(this.productDetail.tktNum.adult-=1):"child"===e&&("plus"===t?this.productDetail.tktNum.child+=1:"minus"===t&&this.productDetail.tktNum.child>=1&&(this.productDetail.tktNum.child-=1))}},watch:{moreInfo:{handler:function(){this.productDetail=JSON.parse(JSON.stringify(this.moreInfo))},deep:!0},temp:function(){this.optionDetail=Object(Je["a"])({},this.temp)}},created:function(){this.productDetail=JSON.parse(JSON.stringify(this.moreInfo)),this.optionDetail=Object(Je["a"])({},this.temp)},computed:{addComma:function(){return function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"".concat(t.join(","))}}}});It.render=yt;var Bt=It,xt=o("e689"),Dt={data:function(){return{moreInfo:{productInfo:{comments:[]},startDate:"",tktNum:{adult:1,child:0}},carts:[],totalProducts:[],randomProducts:[],showAlert:!1,alertMsg:"",topBtnShow:!0,buyBtnShow:!0,thumbsSwiper:null,thumbsSwiperMobile:null,bookingModal:{},temp:{}}},props:["id"],components:{Alert:Re["a"],OptionModal:Bt},methods:{getData:function(){var e=this,t=this.id;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/product/").concat(t)).then((function(t){if(t.data.success){e.moreInfo.productInfo=t.data.product,e.moreInfo.productInfo.imagesUrl=e.moreInfo.productInfo.imagesUrl.filter((function(e){return""!==e}));var o=e.moreInfo.productInfo.packageOptions.map((function(e){return e.price}));o=o.sort((function(e,t){return e-t}));var c=o,n=Object($e["a"])(c,1);e.moreInfo.productInfo.lowestPrice=n[0],e.getTotalProducts(),e.getCartInfo()}else e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},getTotalProducts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/products/all")).then((function(t){t.data.success?(e.totalProducts=t.data.products,e.totalProducts.forEach((function(t,o){var c=t.packageOptions.map((function(e){return e.price}));c=c.sort((function(e,t){return e-t}));var n=c,a=Object($e["a"])(n,1),r=a[0];e.totalProducts[o].lowestPrice=r,t.packageOptions.forEach((function(t){t.price===r&&(e.totalProducts[o].lowestPriceUnit=t.unit)}))})),e.getRandomProducts()):e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},getRandomProducts:function(){var e=this,t=this.moreInfo.productInfo.tagCheck,o=t.find((function(e){return"雙北"===e||"中彰投"===e||"嘉南"===e||"高屏"===e||"花東"===e})),c=[];this.totalProducts.forEach((function(t){t.tagCheck.forEach((function(n){n===o&&t.title!==e.moreInfo.productInfo.title&&c.push(t)}))})),this.randomProducts=[];for(var n=new Set([]),a=c.length<3?c.length:3,r=0;n.size<a;r+1){var i=c.length,l=Math.floor(Math.random(i)*i);n.add(l)}n.forEach((function(t){e.randomProducts.push(c[t])}))},getCartInfo:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/cart")).then((function(t){t.data.success?e.carts=t.data.data.carts:e.customAlert(t.data.message)})).catch((function(t){e.customAlert(t.response)}))},goAnchor:function(e){var t=this.$el.querySelector(e);document.body.scrollTop=t.offsetTop-150,document.documentElement.scrollTop=t.offsetTop-150},setThumbsSwiper:function(e){this.thumbsSwiper=e},setThumbsSwiperMobile:function(e){this.thumbsSwiperMobile=e},openModal:function(e){this.temp=Object(Je["a"])({},e),this.bookingModal.show()},addCart:function(e,t){var o=this,c=this.$refs.bookingModal.$refs.addCartBtn;c.classList.add("disabled"),c.children[0].classList.remove("d-none");var n={};this.moreInfo=JSON.parse(JSON.stringify(e));var a=this.carts.map((function(e){return e.product_id}));if(a.includes(this.moreInfo.productInfo.id)){var r=a.indexOf(this.moreInfo.productInfo.id);if(this.carts[r].options.forEach((function(e,c){e.optionName===t.optionName&&e.start_date===o.moreInfo.startDate&&(n={data:Object(Je["a"])({},o.carts[r])},n.data.options[c]={qtyDetail:{adult:o.carts[r].options[c].qtyDetail.adult+o.moreInfo.tktNum.adult,child:o.carts[r].options[c].qtyDetail.child+o.moreInfo.tktNum.child},optionQty:n.data.options[c].adult+n.data.options[c].child,start_date:o.moreInfo.startDate,optionName:t.optionName,optionPrice:Number(t.price)},n.data.qty=o.moreInfo.tktNum.adult+o.moreInfo.tktNum.child)})),0===Object.keys(n).length){n={data:Object(Je["a"])({},this.carts[r])},n.data.options[n.data.options.length]={qtyDetail:Object(Je["a"])({},this.moreInfo.tktNum),start_date:this.moreInfo.startDate,optionName:t.optionName,optionPrice:Number(t.price)};var i=n.data.options[n.data.options.length-1].qtyDetail;n.data.options.forEach((function(e,t){n.data.options[t].optionQty=e.qtyDetail.adult+e.qtyDetail.child})),n.data.qty=i.adult+i.child}}else{n={data:{product_id:this.moreInfo.productInfo.id,options:[]}},n.data.options.push({qtyDetail:Object(Je["a"])({},this.moreInfo.tktNum),start_date:this.moreInfo.startDate,optionName:t.optionName,optionPrice:Number(t.price)});var l=n.data.options[0].qtyDetail;n.data.qty=l.adult+l.child}n.data.options.forEach((function(e,t){n.data.options[t].optionQty=e.qtyDetail.adult+e.qtyDetail.child,n.data.options[t].total=e.optionPrice*(e.qtyDetail.adult+e.qtyDetail.child)})),this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/cart"),n).then((function(e){e.data.success?(o.customAlert("已加入購物車"),o.moreInfo.startDate="",o.moreInfo.tktNum.adult=1,o.moreInfo.tktNum.child=0,c.classList.remove("disabled"),c.children[0].classList.add("d-none"),o.bookingModal.hide(),xt["a"].emit("update-cart")):(o.customAlert(e.data.message),c.classList.remove("disabled"),c.children[0].classList.add("d-none"),xt["a"].emit("update-cart"))})).catch((function(e){o.customAlert(e.response),c.classList.remove("disabled"),c.children[0].classList.add("d-none"),xt["a"].emit("update-cart")}))},customAlert:function(e){this.alertMsg=e,this.showAlert=!0,window.setTimeout(this.closeCustomAlert,5e3)},closeCustomAlert:function(){this.showAlert=!1},scrollToTop:function(){window.scrollTo(0,0)},reinitializeSwiper:function(e){setTimeout((function(){e.update()}),400)}},computed:{addComma:function(){return function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"".concat(t.join(","))}}},mounted:function(){var e=this;this.getData(),this.listener=function(){e.topBtnShow=window.scrollY>0,e.buyBtnShow=window.scrollY>0,e.buyBtnShow=window.scrollY<document.body.clientHeight-900},window.addEventListener("scroll",this.listener),this.bookingModal=new Ye["a"](document.getElementById("bookingModal"),{keyboard:!1})},unmounted:function(){window.removeEventListener("scroll",this.listener)},watch:{id:function(){this.getData()},carts:function(){this.getCartInfo()}}};Dt.render=Ee;t["default"]=Dt},e689:function(e,t,o){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,o){var c=e.get(t);c?c.push(o):e.set(t,[o])},off:function(t,o){var c=e.get(t);c&&(o?c.splice(c.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var c=e.get(t);c&&c.slice().map((function(e){e(o)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,o)}))}}},n=c();t["a"]=n}}]);
//# sourceMappingURL=chunk-60331dce.c5d04577.js.map