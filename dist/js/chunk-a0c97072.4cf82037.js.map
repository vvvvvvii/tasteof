{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/views/frontend/Cart.vue","webpack:///./src/components/frontend/CheckCart.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/components/frontend/CheckCart.vue?8d62","webpack:///./src/components/frontend/ConfirmCart.vue","webpack:///./src/components/frontend/ConfirmCart.vue?d8dd","webpack:///./src/components/frontend/FinishCart.vue","webpack:///./src/components/frontend/FinishCart.vue?f26f","webpack:///./src/views/frontend/Cart.vue?6c07","webpack:///./node_modules/flush-promises/index.js","webpack:///./node_modules/mitt/dist/mitt.mjs","webpack:///./src/assets/js/emitter.js"],"names":["$","$values","values","target","stat","O","class","checkCartPageShow","confirmCartPageShow","finishCartPageShow","ref","customer","customerDetail","other-info","otherDetail","cart-info","cart","scroll-btn-status","scrollBtnShow","contact-info-input-status","contactInfoInputShow","product-max-pax","productMaxPaxQty","total-products-max-pax","totalProductsMaxPaxQty","changeTktNum","deleteTab","deleteProduct","saveCustomerDetail","customAlert","payment","paymentDetail","checkCoupon","backToFirstPage","addOrder","order-detail","orderDetail","showAlert","alert-msg","alertMsg","role","disabled","value","selected","id","aria-labelledby","for","tabindex","aria-hidden","aria-label","carts","item","itemKey","options","option","key","start_date","split","join","src","product","imageUrl","alt","title","to","optionName","addComma","qtyDetail","type","$emit","adult","lowestPriceUnit","child","openPaxModal","errors","users","name","rules","gender","as","isIdNum","idNum","passportNum","tel","placeholder","email","address","detail","transfer","time","config","pickUpTime","pickUpPlace","rows","schedule","childRestrict","includeChild","isBirthday","childBd","childHeight","childWeight","translate","eng","jpy","translateLanguage","message","user","pageWarningShow","data-bs-toggle","data-bs-target","aria-controls","aria-selected","deletePax","length","addPax","noteWarningShow","Math","floor","final_total","validationCheck","Object","keys","total","userIndex","autocomplete","scrollBtnModalShow","toNextPage","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","props","emits","data","enableTime","noCalendar","dateFormat","time_24hr","defaultDate","scrollTooltipDownCheck","scrollTooltipDownCheckModal","productWarningShow","paxModal","components","FlatPickr","methods","test","birthday","num","splice","i","forEach","productKey","optionQty","includes","hide","show","errorArr","document","querySelectorAll","errorIdArr","errorPageArr","push","map","Set","watch","cartInfo","handler","otherDetailOptionName","otherDetailStartDate","deep","scrollBtnStatus","productMaxPax","totalProductsMaxPax","computed","price","parts","toString","replace","created","otherInfo","contactInfoInputStatus","mounted","listenerScrollBtn","btn","$refs","scrollBtn","scrollTop","scrollHeight","listenerScrollBtnModal","scrollBtnModal","addEventListener","getElementById","keyboard","render","products","date","productName","validation-schema","schema","method","addActive","onlyEtkt","sendMethod","taxIdNum","coupon","temp","scrollTooltipDownCfm","send","groupName","index","classList","remove","add","productsArr","organizeUserProduct","sort","x","y","productImg","usersArr","userKey","Date","userName","organizeEtkt","etktCheck","isEtkt","flat","every","e","listener","orderId","payment_method","send_method","contactDetail","randomProducts","lowestPrice","orderModal","totalProducts","getOrder","$http","get","res","success","order","catch","response","getTotalProducts","packageOptionsPrice","packageOptions","unit","getRandomProducts","arrSet","maxSize","size","random","Alert","CheckCart","ConfirmCart","FinishCart","getCartInfo","status","couponCheck","paxQtyArr","optionKey","reduce","difference","pop","oKey","optionPrice","find","code","percent","totalOptionNum","children","Array","from","querySelector","msg","window","setTimeout","closeCustomAlert","tktType","calcType","adultStatus","checkCart","childStatus","dataOuter","product_id","qty","put","deleteCartProduct","cartIds","repeatIndex","indexOf","adultArr","childArr","delete","emitter","emit","remark","checkCouponBtn","confirmCart","CouponData","post","addOrderBtn","scheduler","setImmediate","flushPromises","module","exports","all","n","Map","on","t","set","off","slice","mitt"],"mappings":"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","file":"js/chunk-a0c97072.4cf82037.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","<template>\n  <div class=\"pt-7 flex-fill\">\n    <div class=\"pt-5\">\n      <ul\n        class=\"step-list d-flex justify-content-center\"\n        v-if=\"checkCartPageShow || confirmCartPageShow\"\n      >\n        <li class=\"step-item\" :class=\"{ 'bg-secondary': checkCartPageShow }\">\n          <div class=\"step-icon\">\n            <i class=\"bi bi-flag-fill d-block\" v-if=\"checkCartPageShow\"></i>\n          </div>\n          <p class=\"step-text h3-md h4 text-center\" :class=\"{ 'text-light': checkCartPageShow }\">\n            查看\n          </p>\n        </li>\n        <li class=\"step-item ms-md-5 ms-3\" :class=\"{ 'bg-secondary': confirmCartPageShow }\">\n          <div class=\"step-icon\">\n            <i class=\"bi bi-flag-fill d-block\" v-if=\"confirmCartPageShow\"></i>\n          </div>\n          <p class=\"step-text h3-md h4 text-center\" :class=\"{ 'text-light': confirmCartPageShow }\">\n            確認\n          </p>\n        </li>\n        <li class=\"step-item ms-md-5 ms-3\">\n          <div class=\"step-icon\">\n            <i class=\"bi bi-flag-fill d-block\" v-if=\"finishCartPageShow\"></i>\n          </div>\n          <p class=\"step-text h3-md h4 text-center\">\n            完成\n          </p>\n        </li>\n      </ul>\n      <CheckCart\n        v-if=\"checkCartPageShow\"\n        ref=\"checkCart\"\n        :customer=\"customerDetail\"\n        :other-info=\"otherDetail\"\n        :cart-info=\"cart\"\n        :scroll-btn-status=\"scrollBtnShow\"\n        :contact-info-input-status=\"contactInfoInputShow\"\n        :product-max-pax=\"productMaxPaxQty\"\n        :total-products-max-pax=\"totalProductsMaxPaxQty\"\n        @emit-change-tkt-num=\"changeTktNum\"\n        @emit-delete-tab=\"deleteTab\"\n        @emit-delete-product=\"deleteProduct\"\n        @emit-next-page=\"saveCustomerDetail\"\n        @emit-alert=\"customAlert\"\n      ></CheckCart>\n      <ConfirmCart\n        v-if=\"confirmCartPageShow\"\n        ref=\"confirmCart\"\n        :customer=\"customerDetail\"\n        :cart-info=\"cart\"\n        :other-info=\"otherDetail\"\n        :payment=\"paymentDetail\"\n        :scroll-btn-status=\"scrollBtnShow\"\n        @emit-check-coupon=\"checkCoupon\"\n        @emit-pre-page=\"backToFirstPage\"\n        @emit-add-order=\"addOrder\"\n      ></ConfirmCart>\n      <FinishCart\n        v-if=\"finishCartPageShow\"\n        :order-detail=\"orderDetail\"\n        @emit-alert=\"customAlert\"\n      ></FinishCart>\n    </div>\n  </div>\n  <!--alert-->\n  <Alert v-if=\"showAlert\" :alert-msg=\"alertMsg\"></Alert>\n</template>\n<script>\nimport Alert from '@/components/backend/Alert.vue';\nimport CheckCart from '@/components/frontend/CheckCart.vue';\nimport ConfirmCart from '@/components/frontend/ConfirmCart.vue';\nimport FinishCart from '@/components/frontend/FinishCart.vue';\nimport emitter from '../../assets/js/emitter';\n\nexport default {\n  data() {\n    return {\n      customerDetail: {\n        users: [],\n        productsArr: [],\n        message: '無備註事項',\n      },\n      cart: {},\n      paymentDetail: {\n        method: '',\n        sendMethod: '',\n        taxIdNum: '',\n        coupon: '',\n      },\n      otherDetail: [],\n      orderDetail: {\n        total: 0,\n        orderId: '',\n      },\n      showAlert: false,\n      alertMsg: '',\n      checkCartPageShow: true,\n      confirmCartPageShow: false,\n      finishCartPageShow: false,\n      contactInfoInputShow: [false],\n      productMaxPaxQty: 0,\n      totalProductsMaxPaxQty: 0,\n      scrollBtnShow: true,\n      scrollBtnModalShow: true,\n    };\n  },\n  components: {\n    Alert,\n    CheckCart,\n    ConfirmCart,\n    FinishCart,\n  },\n  methods: {\n    getCartInfo(status) {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          if (res.data.success) {\n            this.cart = res.data.data;\n            const couponCheck = [];\n            const paxQtyArr = [];\n            this.cart.carts.forEach((product, key) => {\n              if (Object.keys(product).includes('coupon')) {\n                // 有加入優惠券時，會以商品為一項（即使很多方案），顯示 true\n                couponCheck.push(true); // 如果購物車裡曾有任何一個商品加過優惠碼，顯示 true\n              } else {\n                couponCheck.push(false);\n              }\n              this.cart.carts[key].options.forEach((option, optionKey) => {\n                // 在每個商品新增對應客人陣列\n                this.cart.carts[key].options[optionKey].users = [];\n                // 把各項商品方案的總人數抽出來，找到最高值，this.customerDetail.users 要包進 productMaxPaxQty 長度的空物件\n                paxQtyArr.push(option.optionQty);\n              });\n            });\n            [this.productMaxPaxQty] = paxQtyArr.flat().sort((x, y) => y - x);\n            // 把各項商品方案的總人數抽出來相加，代表如果每個方案的人都不一樣，最多可以有這麼多不同的旅客資料\n            this.totalProductsMaxPaxQty = paxQtyArr.flat().reduce((x, y) => x + y, 0);\n            const difference = this.customerDetail.users.length - this.productMaxPaxQty;\n            if (difference < 0) {\n              for (let i = this.customerDetail.users.length; i < this.productMaxPaxQty; i += 1) {\n                this.customerDetail.users.push({});\n              }\n            } else {\n              for (let i = this.productMaxPaxQty; i < this.customerDetail.users.length; i += 1) {\n                this.deleteTab(this.customerDetail.users.length - 1);\n                this.customerDetail.users.pop();\n              }\n            }\n            if (couponCheck.every((e) => e === false)) {\n              // 加商品，尚未加優惠碼\n              // couponCheck 每個都是 false ，計算購物車正確價錢\n              this.cart.total = 0; // 整個購物車的總數歸零\n              this.cart.carts.forEach((product, key) => {\n                this.cart.carts[key].total = 0; // 各項商品的總數也歸零\n                product.options.forEach((option, oKey) => {\n                  this.cart.carts[key].options[oKey].total = option.optionPrice * option.optionQty;\n                  this.cart.carts[key].total += option.total; // 各項商品真正的價格為各項方案價格相加\n                  this.cart.total += option.total; // 整個購物車真正的價格為各項產品的各方案價格相加\n                });\n                // 各項商品的 final_total 等於 total、整個購物車的 final_total 等於 total\n                this.cart.carts[key].final_total = this.cart.carts[key].total;\n                this.cart.final_total = this.cart.total;\n              });\n            } else if (couponCheck.every((e) => e === true)) {\n              // 加商品，已經加優惠碼\n              // couponCheck 每個都是 true ，計算購物車正確價錢、該價錢乘以 coupon.percent / 100 等於優惠後的價錢\n              const { coupon } = this.cart.carts.find((product) => product.coupon); // 找到已被加過的優惠碼物件\n              this.paymentDetail.coupon = coupon.code;\n              this.cart.total = 0; // 整個購物車的總數歸零\n              this.cart.final_total = 0; // 整個購物車 final_total 歸零\n              this.cart.carts.forEach((product, key) => {\n                this.cart.carts[key].total = 0; // 各項商品的總數也歸零\n                product.options.forEach((option, oKey) => {\n                  this.cart.carts[key].options[oKey].total = option.optionPrice * option.optionQty;\n                  this.cart.carts[key].total += option.total; // 各項商品真正的價格為各項方案價格相加\n                  this.cart.total += option.total; // 整個購物車真正的價格為各項產品的各方案價格相加\n                });\n                // 各項商品的 final_total 等於 total 乘以優惠幅度、整個購物車的 final_total 等於 total 乘以優惠幅度後相加\n                this.cart.carts[key].final_total = (product.total * product.coupon.percent) / 100;\n                this.cart.final_total += this.cart.carts[key].final_total;\n              });\n              this.cart.final_total = Math.floor(this.cart.final_total); // 去掉小數點\n            } else {\n              // 加商品，已經加優惠碼，又再加新商品（新商品會沒有加到優惠）\n              // couponCheck 有 true 也有 false ，找到有加過優惠的那個 coupon 物件，把每個產品都加上該物件，計算購物車正確價錢\n              const { coupon } = this.cart.carts.find((product) => product.coupon); // 找到已被加過的優惠碼物件\n              this.paymentDetail.coupon = coupon.code;\n              this.cart.total = 0; // 整個購物車的總數歸零\n              this.cart.final_total = 0; // 整個購物車 final_total 歸零\n              this.cart.carts.forEach((product, key) => {\n                this.cart.carts[key].coupon = coupon; // 每個產品都加上該優惠碼物件\n                this.cart.carts[key].total = 0; // 各項商品的總數也歸零\n                product.options.forEach((option, oKey) => {\n                  this.cart.carts[key].options[oKey].total = option.optionPrice * option.optionQty;\n                  this.cart.carts[key].total += option.total; // 各項商品真正的價格為各項方案價格相加\n                  this.cart.total += option.total; // 整個購物車真正的價格為各項產品的各方案價格相加\n                });\n                // 各項商品的 final_total 等於 total 乘以優惠幅度、整個購物車的 final_total 等於 total 乘以優惠幅度後相加\n                this.cart.carts[key].final_total = (product.total * product.coupon.percent) / 100;\n                this.cart.final_total += this.cart.carts[key].final_total;\n              });\n              this.cart.final_total = Math.floor(this.cart.final_total); // 去掉小數點\n            }\n            const totalOptionNum = this.cart.carts.map((i) => i.options).flat().length;\n            if (totalOptionNum <= 1) {\n              // 如果總商品、方案數小於一，不秀出 this.scrollBtnShow\n              this.scrollBtnShow = false;\n              this.scrollBtnModalShow = false;\n            }\n            if (status) {\n              // 若有傳入參數才進行這塊\n              status.children[0].classList.add('d-none');\n              status.children[1].classList.remove('d-none');\n            }\n          } else {\n            this.customAlert(res.data.message);\n            if (status) {\n              // 若有傳入參數才進行這塊\n              status.children[0].classList.add('d-none');\n              status.children[1].classList.remove('d-none');\n            }\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n          if (status) {\n            // 若有傳入參數才進行這塊\n            status.children[0].classList.add('d-none');\n            status.children[1].classList.remove('d-none');\n          }\n        });\n    },\n    deleteTab(key) {\n      // 如果使用者在要刪掉的客人 tab 頁面，刪掉時會自動往前跳到前一個客人 tab\n      if (Array.from(document.querySelector(`#pills-tab-${key}`).classList).includes('active')) {\n        document.querySelector(`#pills-tab-${key}`).classList.remove('active');\n        document.querySelector(`#pills-pax-${key}`).classList.remove('active');\n        document.querySelector(`#pills-pax-${key}`).classList.remove('show');\n        document.querySelector(`#pills-tab-${key - 1}`).classList.add('active');\n        document.querySelector(`#pills-pax-${key - 1}`).classList.add('active');\n        document.querySelector(`#pills-pax-${key - 1}`).classList.add('show');\n      }\n    },\n    customAlert(msg) {\n      this.alertMsg = msg;\n      this.showAlert = true; // 秀出 alert\n      window.setTimeout(this.closeCustomAlert, 5000);\n    },\n    closeCustomAlert() {\n      this.showAlert = false;\n    },\n    changeTktNum(tktType, calcType, option, key, id) {\n      const adultStatus = this.$refs.checkCart.$refs[\n        `adultStatus${option.optionName}-${option.start_date}`\n      ];\n      const childStatus = this.$refs.checkCart.$refs[\n        `childStatus${option.optionName}-${option.start_date}`\n      ];\n      const qtyDetail = { ...option.qtyDetail };\n      if (tktType === 'adult') {\n        adultStatus.children[0].classList.remove('d-none');\n        adultStatus.children[1].classList.add('d-none');\n        if (calcType === 'plus') {\n          qtyDetail.adult += 1;\n        } else if (calcType === 'minus' && qtyDetail.adult >= 2) {\n          qtyDetail.adult -= 1;\n        }\n      } else {\n        childStatus.children[0].classList.remove('d-none');\n        childStatus.children[1].classList.add('d-none');\n        if (calcType === 'plus') {\n          qtyDetail.child += 1;\n        } else if (calcType === 'minus' && qtyDetail.child >= 1) {\n          qtyDetail.child -= 1;\n        }\n      }\n      let options = [];\n      this.cart.carts.forEach((item) => {\n        if (item.id === id) {\n          options = [...item.options];\n        }\n      });\n      const dataOuter = {\n        data: {\n          product_id: id,\n          qty: qtyDetail.adult + qtyDetail.child,\n          options,\n        },\n      };\n      dataOuter.data.options[key].qtyDetail = qtyDetail;\n      dataOuter.data.options[key].optionQty = qtyDetail.adult + qtyDetail.child;\n      this.$http\n        .put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`, dataOuter)\n        .then((res) => {\n          if (res.data.success) {\n            if (tktType === 'adult') {\n              this.getCartInfo(adultStatus);\n            } else {\n              this.getCartInfo(childStatus);\n            }\n          } else {\n            this.customAlert(res.data.message);\n            if (tktType === 'adult') {\n              adultStatus.children[0].classList.add('d-none');\n              adultStatus.children[1].classList.remove('d-none');\n            } else {\n              childStatus.children[0].classList.add('d-none');\n              childStatus.children[1].classList.remove('d-none');\n            }\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n          if (tktType === 'adult') {\n            adultStatus.children[0].classList.add('d-none');\n            adultStatus.children[1].classList.remove('d-none');\n          } else {\n            childStatus.children[0].classList.add('d-none');\n            childStatus.children[1].classList.remove('d-none');\n          }\n        });\n    },\n    deleteProduct(option, key, id) {\n      // 刪除相對應的方案 其他不動 > 用修改購物車的 api 去把該方案數字歸零並刪除\n      const deleteCartProduct = this.$refs.checkCart.$refs[`deleteCartProduct${option.optionName}`];\n      // 取得該筆 id 的所有資料\n      const cartIds = this.cart.carts.map((product) => product.id);\n      const repeatIndex = cartIds.indexOf(id);\n      // 將該筆資料裡的 options 取出來 刪掉 key 那個號碼的資料\n      this.cart.carts[repeatIndex].options.splice(key, 1);\n      if (this.cart.carts[repeatIndex].options.length !== 0) {\n        // 如果該產品還有其他方案 那用修改購物車 api 方式上傳\n        const dataOuter = {\n          data: { ...this.cart.carts[repeatIndex] },\n        };\n        const adultArr = dataOuter.data.options.map((item) => item.qtyDetail.adult);\n        const childArr = dataOuter.data.options.map((item) => item.qtyDetail.child);\n        dataOuter.data.qty = adultArr.reduce((x, y) => x + y) + childArr.reduce((x, y) => x + y);\n        this.$http\n          .put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`, dataOuter)\n          .then((res) => {\n            if (res.data.success && res.data.message !== '更新購物車有誤') {\n              this.customAlert('已清除商品');\n              this.getCartInfo();\n            } else {\n              this.customAlert(res.data.message);\n            }\n          })\n          .catch((err) => {\n            this.customAlert(err.response);\n          });\n      } else {\n        // 如果該產品已經沒有任何方案 那整個用 delete api 刪掉\n        this.$http\n          .delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`)\n          .then((res) => {\n            if (res.data.success) {\n              deleteCartProduct.children[0].classList.remove('d-none');\n              deleteCartProduct.children[1].classList.add('d-none');\n              this.customAlert('已清除商品');\n              this.getCartInfo();\n              emitter.emit('update-cart'); // navbar 即時更新\n            } else {\n              this.customAlert(res.data.message);\n              emitter.emit('update-cart'); // navbar 即時更新\n            }\n          })\n          .catch((err) => {\n            this.customAlert(err.response);\n          });\n      }\n    },\n    saveCustomerDetail(info, remark, contactInfoInputStatus) {\n      this.customerDetail = info;\n      this.otherDetail = remark;\n      this.contactInfoInputShow = contactInfoInputStatus;\n      this.checkCartPageShow = false; // 關掉第一頁\n      this.confirmCartPageShow = true; // 換成第二頁\n    },\n    backToFirstPage() {\n      this.checkCartPageShow = true;\n      this.confirmCartPageShow = false;\n    },\n    checkCoupon(item) {\n      const { checkCouponBtn } = this.$refs.confirmCart.$refs;\n      checkCouponBtn.classList.add('disabled');\n      checkCouponBtn.children[0].classList.remove('d-none');\n      const CouponData = {\n        data: {\n          code: item,\n        },\n      };\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`, CouponData)\n        .then((res) => {\n          if (res.data.success) {\n            const { data } = res;\n            this.customAlert(data.message);\n            this.getCartInfo();\n            checkCouponBtn.classList.remove('disabled');\n            checkCouponBtn.children[0].classList.add('d-none');\n          } else {\n            this.customAlert(res.data.message);\n            checkCouponBtn.classList.remove('disabled');\n            checkCouponBtn.children[0].classList.add('d-none');\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n          checkCouponBtn.classList.remove('disabled');\n          checkCouponBtn.children[0].classList.add('d-none');\n        });\n    },\n    addOrder(info, products) {\n      this.paymentDetail = info;\n      this.customerDetail.productsArr = products;\n      const { addOrderBtn } = this.$refs.confirmCart.$refs;\n      addOrderBtn.classList.add('disabled');\n      addOrderBtn.children[0].classList.remove('d-none');\n      const data = {\n        data: {\n          user: {\n            name: this.customerDetail.users[0].name,\n            email: this.customerDetail.users[0].email,\n            tel: this.customerDetail.users[0].tel,\n            address: this.customerDetail.users[0].address,\n            paymentDetail: {\n              total: this.cart.total,\n              final_total: this.cart.final_total,\n              payment_method: this.paymentDetail.method,\n              send_method: this.paymentDetail.sendMethod,\n              taxIdNum: this.paymentDetail.taxIdNum,\n              coupon: this.paymentDetail.coupon,\n            },\n            customerDetail: [...this.customerDetail.users],\n            products: [...this.customerDetail.productsArr],\n          },\n          message: this.customerDetail.message,\n        },\n      };\n      this.orderDetail.total = this.cart.final_total;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, data)\n        .then((res) => {\n          if (res.data.success) {\n            this.orderDetail.orderId = res.data.orderId;\n            this.getCartInfo();\n            addOrderBtn.classList.remove('disabled');\n            addOrderBtn.children[0].classList.add('d-none');\n            this.confirmCartPageShow = false;\n            this.finishCartPageShow = true;\n            emitter.emit('update-cart');\n          } else {\n            this.customAlert(res.data.message);\n            addOrderBtn.classList.remove('disabled');\n            addOrderBtn.children[0].classList.add('d-none');\n            emitter.emit('update-cart');\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n          addOrderBtn.classList.remove('disabled');\n          addOrderBtn.children[0].classList.add('d-none');\n        });\n    },\n  },\n  created() {\n    this.getCartInfo();\n  },\n};\n</script>\n","<template>\n  <div class=\"container py-8 position-relative\">\n    <div class=\"bg-light rounded-3 p-sm-7 p-3\">\n      <div v-show=\"cart.total > 0\" class=\"row g-sm-7 g-3\">\n        <div\n          class=\"col-lg-6 cart-scroll-box position-relative d-lg-block d-flex mb-lg-0 mb-md-3 mb-6\"\n          ref=\"scrollBtn\"\n        >\n          <!--訂單內容-->\n          <template v-for=\"(item, itemKey) in cart.carts\" :key=\"item.id\">\n            <div\n              v-for=\"(option, key) in item.options\"\n              :key=\"key\"\n              class=\"d-inline-block cart-scroll-box-item ms-lg-0\"\n              :class=\"{ 'ms-3': itemKey !== 0 || key !== 0 }\"\n            >\n              <div\n                class=\"px-3 py-4 border border-primary bg-white rounded-1 position-relative\"\n                :class=\"{\n                  'border-danger': productWarningShow[itemKey],\n                  'mb-lg-6': itemKey !== cart.carts.length - 1 || key !== item.options.length - 1,\n                }\"\n              >\n                <div class=\"pb-3 mb-3 border-bottom border-gray\">\n                  <div class=\"row justify-content-between mb-sm-3 mb-2\">\n                    <div class=\"col-4\">\n                      <p class=\"h5 mb-2 d-sm-block d-none\">\n                        {{ option.start_date.split('-').join(' / ') }}\n                      </p>\n                      <img :src=\"item.product.imageUrl\" :alt=\"item.title\" class=\"cart-img\" />\n                    </div>\n                    <div class=\"col-8 d-flex flex-column justify-content-between\">\n                      <p class=\"h5 mb-2 d-sm-none\">\n                        {{ option.start_date.split('-').join(' / ') }}\n                      </p>\n                      <div class=\"mb-md-8 mb-6\">\n                        <router-link\n                          :to=\"`/product/${item.product.id}`\"\n                          title=\"查看更多\"\n                          class=\"text-secondary h3-sm mb-2\"\n                        >\n                          {{ item.product.title }}\n                        </router-link>\n                        <p class=\"h4-sm h5\">{{ option.optionName }}</p>\n                      </div>\n                      <p class=\"text-end\">\n                        NT\n                        {{\n                          addComma(\n                            option.optionPrice * (option.qtyDetail.adult + option.qtyDetail.child),\n                          )\n                        }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"d-flex justify-content-evenly\">\n                  <div class=\"d-flex align-items-center h4-sm h5\" v-if=\"option.qtyDetail\">\n                    <button\n                      type=\"button\"\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"$emit('emit-change-tkt-num', 'adult', 'minus', option, key, item.id)\"\n                    >\n                      <i class=\"bi bi-dash-lg\"></i>\n                    </button>\n                    <div class=\"p-1\" :ref=\"`adultStatus${option.optionName}-${option.start_date}`\">\n                      <div class=\"spinner-border spinner-border-sm text-dark d-none\" role=\"status\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                      </div>\n                      <p>{{ option.qtyDetail.adult }}</p>\n                    </div>\n                    <button\n                      type=\"button\"\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"$emit('emit-change-tkt-num', 'adult', 'plus', option, key, item.id)\"\n                    >\n                      <i class=\"bi bi-plus-lg\"></i>\n                    </button>\n                    <span v-if=\"item.product.lowestPriceUnit === '每人'\">大</span>\n                    <span\n                      v-else-if=\"\n                        item.product.category !== '包車服務' &&\n                          item.product.lowestPriceUnit !== '每人'\n                      \"\n                      >組</span\n                    >\n                    <span\n                      v-else-if=\"\n                        item.product.category === '包車服務' &&\n                          item.product.lowestPriceUnit !== '每人'\n                      \"\n                      >台</span\n                    >\n                  </div>\n                  <div\n                    class=\"d-flex align-items-center h4-sm h5\"\n                    v-if=\"option.qtyDetail && item.product.lowestPriceUnit === '每人'\"\n                  >\n                    <button\n                      type=\"button\"\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"$emit('emit-change-tkt-num', 'child', 'minus', option, key, item.id)\"\n                    >\n                      <i class=\"bi bi-dash-lg\"></i>\n                    </button>\n                    <div class=\"p-1\" :ref=\"`childStatus${option.optionName}-${option.start_date}`\">\n                      <div class=\"spinner-border spinner-border-sm text-dark d-none\" role=\"status\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                      </div>\n                      <p>{{ option.qtyDetail.child }}</p>\n                    </div>\n                    <button\n                      type=\"button\"\n                      class=\"border-0 bg-transparent p-2\"\n                      @click=\"$emit('emit-change-tkt-num', 'child', 'plus', option, key, item.id)\"\n                    >\n                      <i class=\"bi bi-plus-lg\"></i>\n                    </button>\n                    小\n                  </div>\n                  <a\n                    type=\"button\"\n                    class=\"delete-cart-icon\"\n                    :ref=\"`deleteCartProduct${option.optionName}`\"\n                  >\n                    <div class=\"spinner-border spinner-border-sm text-dark d-none\" role=\"status\">\n                      <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                    <i\n                      class=\"bi bi-trash-fill\"\n                      @click=\"$emit('emit-delete-product', option, key, item.id)\"\n                    ></i>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </template>\n          <!-- 提示可往下滑的圖案 -->\n          <div\n            class=\"scroll-btn d-lg-inline d-none\"\n            ref=\"scrollTooltipDownCheck\"\n            v-if=\"scrollBtnShow\"\n          >\n            <span class=\"ms-1\">請向下滾動</span>\n            <i class=\"bi bi-arrow-down-short\"></i>\n          </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <!--客戶資料-->\n          <Form v-slot=\"{ errors }\" @submit=\"openPaxModal\">\n            <div class=\"tab-content mb-6\">\n              <div\n                v-for=\"(item, key) in customerDetail.users\"\n                :key=\"key\"\n                class=\"tab-pane fade\"\n                :class=\"{ show: key === 0, active: key === 0 }\"\n                :id=\"`pills-pax-${key}`\"\n                role=\"tabpanel\"\n                :aria-labelledby=\"`pills-tab-${key}`\"\n              >\n                <div class=\"d-flex justify-content-between\">\n                  <p class=\"mb-6 h3\">\n                    第 {{ key + 1 }} 位旅客\n                    <span class=\"h4\" v-if=\"key === 0\"> / 主要聯絡人</span>\n                  </p>\n                  <div v-if=\"key !== 0\">\n                    <input\n                      type=\"checkbox\"\n                      :id=\"`sameInfo-${key}`\"\n                      v-model=\"contactInfoInputShow[key]\"\n                    />\n                    <label :for=\"`sameInfo-${key}`\" class=\"ms-1\">聯絡資料等同主要聯絡人</label>\n                  </div>\n                </div>\n                <div class=\"mb-3\">\n                  <label :for=\"`bookNameCartInput-${key}`\" class=\"form-label\">姓名</label>\n                  <Field\n                    type=\"text\"\n                    :id=\"`bookNameCartInput-${key}`\"\n                    :name=\"`第 ${key + 1} 位姓名`\"\n                    class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位姓名`] }\"\n                    rules=\"required\"\n                    v-model=\"customerDetail.users[key].name\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位姓名`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label :for=\"`bookGenderCartInput-${key}`\" class=\"form-label\">稱謂</label>\n                  <Field\n                    :name=\"`第 ${key + 1} 位稱謂`\"\n                    class=\"form-select\"\n                    :id=\"`bookGenderCartInput-${key}`\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位稱謂`] }\"\n                    rules=\"required\"\n                    v-model=\"customerDetail.users[key].gender\"\n                    as=\"select\"\n                  >\n                    <option disabled value=\"\">請選擇稱謂</option>\n                    <option selected value=\"先生\">先生</option>\n                    <option value=\"女士\">女士</option>\n                  </Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位稱謂`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label :for=\"`bookIdNumCartInput-${key}`\" class=\"form-label\">身分證字號</label>\n                  <Field\n                    type=\"text\"\n                    :name=\"`第 ${key + 1} 位身分證`\"\n                    class=\"form-control\"\n                    :id=\"`bookIdNumCartInput-${key}`\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位身分證`] }\"\n                    :rules=\"isIdNum\"\n                    v-model=\"customerDetail.users[key].idNum\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位身分證`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label :for=\"`bookPassportNumCartInput-${key}`\" class=\"form-label\">\n                    護照號碼\n                  </label>\n                  <Field\n                    type=\"text\"\n                    :name=\"`第 ${key + 1} 位護照號碼`\"\n                    class=\"form-control\"\n                    :id=\"`bookPassportNumCartInput-${key}`\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位護照號碼`] }\"\n                    rules=\"required|length:9|numeric\"\n                    v-model=\"customerDetail.users[key].passportNum\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位護照號碼`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\" v-if=\"contactInfoInputShow[key] === false\">\n                  <label :for=\"`bookTelCartInput-${key}`\" class=\"form-label\">聯繫電話</label>\n                  <Field\n                    type=\"tel\"\n                    :name=\"`第 ${key + 1} 位電話`\"\n                    class=\"form-control\"\n                    :id=\"`bookTelCartInput-${key}`\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位電話`] }\"\n                    rules=\"required|numeric|max:10\"\n                    v-model=\"customerDetail.users[key].tel\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位電話`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\" v-if=\"contactInfoInputShow[key] === false\">\n                  <label :for=\"`bookEmailCartInput-${key}`\" class=\"form-label\">\n                    電子信箱\n                  </label>\n                  <Field\n                    type=\"email\"\n                    :name=\"`第 ${key + 1} 位 email`\"\n                    class=\"form-control\"\n                    :id=\"`bookEmailCartInput-${key}`\"\n                    placeholder=\"customer@example.com\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位 email`] }\"\n                    rules=\"email|required\"\n                    v-model=\"customerDetail.users[key].email\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位 email`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"mb-3\" v-if=\"contactInfoInputShow[key] === false\">\n                  <label :for=\"`bookAddrCartInput-${key}`\" class=\"form-label\">地址</label>\n                  <Field\n                    type=\"text\"\n                    :name=\"`第 ${key + 1} 位地址`\"\n                    class=\"form-control\"\n                    :id=\"`bookAddrCartInput-${key}`\"\n                    :class=\"{ 'is-invalid': errors[`第 ${key + 1} 位地址`] }\"\n                    rules=\"required\"\n                    v-model=\"customerDetail.users[key].address\"\n                  ></Field>\n                  <ErrorMessage\n                    :name=\"`第 ${key + 1} 位地址`\"\n                    class=\"invalid-feedback\"\n                  ></ErrorMessage>\n                </div>\n                <div class=\"bg-decoration\" v-show=\"contactInfoInputShow[key] === false\"></div>\n              </div>\n              <div\n                class=\"tab-pane fade\"\n                id=\"pills-pax-note\"\n                role=\"tabpanel\"\n                aria-labelledby=\"pills-tab-note\"\n              >\n                <template v-for=\"(detail, key) in otherDetail\" :key=\"key\">\n                  <div class=\"mb-6 pb-3 border-bottom border-gray\">\n                    <div class=\"mb-3\">\n                      <p class=\"h5 text-gray-dark mb-1\">{{ detail.start_date }}</p>\n                      <h4 class=\"h3 mb-1\">{{ detail.product.title }}</h4>\n                      <h4>{{ detail.optionName }}</h4>\n                    </div>\n                    <div class=\"mb-3\" v-if=\"detail.product.transfer.time\">\n                      <label :for=\"`note-pickupTime-${key}`\" class=\"form-label\">接送時間</label>\n                      <FlatPickr\n                        :config=\"config\"\n                        :id=\"`note-pickupTime-${key}`\"\n                        class=\"form-control\"\n                        v-model=\"otherDetail[key].pickUpTime\"\n                      ></FlatPickr>\n                    </div>\n                    <div\n                      class=\"mb-3\"\n                      v-if=\"\n                        detail.product.transfer.place &&\n                          detail.optionName.includes('火車') === false &&\n                          detail.optionName.includes('高鐵') === false\n                      \"\n                    >\n                      <label :for=\"`note-pickupPlace-${key}`\" class=\"form-label\">接送地點</label>\n                      <Field\n                        type=\"text\"\n                        :id=\"`note-pickupPlace-${key}`\"\n                        :name=\"`${detail.product.title}：${detail.optionName} 的接送地點`\"\n                        class=\"form-control\"\n                        :class=\"{\n                          'is-invalid':\n                            errors[`${detail.product.title}：${detail.optionName} 的接送地點`],\n                        }\"\n                        rules=\"required\"\n                        v-model=\"otherDetail[key].pickUpPlace\"\n                      >\n                      </Field>\n                      <ErrorMessage\n                        :name=\"`${detail.product.title}：${detail.optionName} 的接送地點`\"\n                        class=\"invalid-feedback\"\n                      ></ErrorMessage>\n                    </div>\n                    <div\n                      class=\"mb-3\"\n                      v-if=\"\n                        detail.product.category === '包車服務' &&\n                          detail.product.title.includes('包車')\n                      \"\n                    >\n                      <label :for=\"`note-rentCarSchedule-${key}`\" class=\"form-label\"\n                        >包車行程規劃</label\n                      >\n                      <textarea\n                        class=\"form-control\"\n                        :id=\"`note-rentCarSchedule-${key}`\"\n                        rows=\"6\"\n                        v-model=\"otherDetail[key].schedule\"\n                        placeholder=\"歡迎提供您對包車行程的初步規劃，我們的司機將與您討論並協助行程安排\"\n                      ></textarea>\n                    </div>\n                    <div class=\"mb-3\" v-if=\"detail.product.transfer.childRestrict\">\n                      <div class=\"form-check\">\n                        <input\n                          class=\"form-check-input\"\n                          type=\"checkbox\"\n                          :id=\"`note-rentCarChildInclude-${key}`\"\n                          v-model=\"otherDetail[key].includeChild\"\n                        />\n                        <label class=\"form-check-label\" :for=\"`note-rentCarChildInclude-${key}`\">\n                          旅客中有未滿 4 歲孩童\n                        </label>\n                      </div>\n                    </div>\n                    <div v-if=\"otherDetail[key].includeChild\">\n                      <div class=\"mb-3\">\n                        <label :for=\"`note-rentCarChildBd-${key}`\" class=\"form-label\"\n                          >孩童出生年月日</label\n                        >\n                        <Field\n                          type=\"text\"\n                          :id=\"`note-rentCarChildBd-${key}`\"\n                          :name=\"`${detail.product.title}：${detail.optionName} 的出生日期`\"\n                          class=\"form-control\"\n                          :class=\"{\n                            'is-invalid':\n                              errors[`${detail.product.title}：${detail.optionName} 的出生日期`],\n                          }\"\n                          :rules=\"isBirthday\"\n                          placeholder=\"1900 / 01 / 01\"\n                          v-model=\"otherDetail[key].childBd\"\n                        ></Field>\n                        <ErrorMessage\n                          :name=\"`${detail.product.title}：${detail.optionName} 的出生日期`\"\n                          class=\"invalid-feedback\"\n                        ></ErrorMessage>\n                      </div>\n                      <div class=\"mb-3\">\n                        <label :for=\"`note-rentCarChildHeight-${key}`\" class=\"form-label\"\n                          >孩童身高</label\n                        >\n                        <Field\n                          type=\"text\"\n                          :id=\"`note-rentCarChildHeight-${key}`\"\n                          :name=\"`${detail.product.title}：${detail.optionName} 的孩童身高`\"\n                          class=\"form-control\"\n                          :class=\"{\n                            'is-invalid':\n                              errors[`${detail.product.title}：${detail.optionName} 的孩童身高`],\n                          }\"\n                          rules=\"required|numeric|max:3\"\n                          placeholder=\"公分\"\n                          v-model=\"otherDetail[key].childHeight\"\n                        ></Field>\n                        <ErrorMessage\n                          :name=\"`${detail.product.title}：${detail.optionName} 的孩童身高`\"\n                          class=\"invalid-feedback\"\n                        ></ErrorMessage>\n                      </div>\n                      <div class=\"mb-3\">\n                        <label :for=\"`note-rentCarChildWeight-${key}`\" class=\"form-label\"\n                          >孩童體重</label\n                        >\n                        <Field\n                          type=\"text\"\n                          :id=\"`note-rentCarChildWeight-${key}`\"\n                          :name=\"`${detail.product.title}：${detail.optionName} 的孩童體重`\"\n                          class=\"form-control\"\n                          :class=\"{\n                            'is-invalid':\n                              errors[`${detail.product.title}：${detail.optionName} 的孩童體重`],\n                          }\"\n                          rules=\"required|numeric|max:3\"\n                          placeholder=\"公斤\"\n                          v-model=\"otherDetail[key].childWeight\"\n                        ></Field>\n                        <ErrorMessage\n                          :name=\"`${detail.product.title}：${detail.optionName} 的孩童體重`\"\n                          class=\"invalid-feedback\"\n                        ></ErrorMessage>\n                      </div>\n                    </div>\n                    <div\n                      class=\"mb-3\"\n                      v-if=\"detail.product.translate.eng || detail.product.translate.jpy\"\n                    >\n                      <label for=\"note-translateLanguage\" class=\"form-label\">導覽語言</label>\n                      <select\n                        class=\"form-select\"\n                        id=\"note-translateLanguage\"\n                        v-model=\"otherDetail[key].translateLanguage\"\n                      >\n                        <option value=\"中文\" selected>中文</option>\n                        <option value=\"英文\" v-if=\"detail.product.translate.eng\">英文</option>\n                        <option value=\"日文\" v-if=\"detail.product.translate.jpy\">日文</option>\n                      </select>\n                    </div>\n                  </div>\n                </template>\n                <label for=\"note-bookMessageCart\" class=\"form-label\"\n                  >其他特殊需求（飲食、禁菸房...）</label\n                >\n                <textarea\n                  class=\"form-control mb-3\"\n                  id=\"note-bookMessageCart\"\n                  rows=\"2\"\n                  v-model=\"customerDetail.message\"\n                  placeholder=\"此備註不在商品包含範圍，不保證提供，但我們仍將盡力替您達成特殊需求\"\n                ></textarea>\n              </div>\n            </div>\n            <ul\n              class=\"nav nav-pills justify-content-center flex-wrap mb-8\"\n              id=\"check-cart-customer-pills-tab\"\n              role=\"tablist\"\n            >\n              <li\n                class=\"nav-item mb-1 position-relative\"\n                role=\"presentation\"\n                v-for=\"(user, key) in customerDetail.users\"\n                :key=\"`paxNum-${key}`\"\n                :class=\"{ 'ms-3': key !== 0 }\"\n              >\n                <i\n                  class=\"bi bi-exclamation-triangle-fill warning-icon\"\n                  v-if=\"pageWarningShow[key]\"\n                ></i>\n                <button\n                  type=\"button\"\n                  class=\"nav-link nav-link-outline-primary rounded-1\"\n                  :class=\"{ active: key === 0, 'nav-link-danger': pageWarningShow[key] }\"\n                  :id=\"`pills-tab-${key}`\"\n                  data-bs-toggle=\"pill\"\n                  :data-bs-target=\"`#pills-pax-${key}`\"\n                  role=\"tab\"\n                  :aria-controls=\"`pills-pax-${key}`\"\n                  aria-selected=\"false\"\n                >\n                  {{ key + 1 }}\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"delete-pax-num\"\n                  :class=\"{\n                    'd-none': key === 0 || customerDetail.users.length <= productMaxPaxQty,\n                  }\"\n                  :title=\"`刪除第 ${key + 1} 位旅客`\"\n                  @click=\"deletePax(key)\"\n                >\n                  <i class=\"bi bi-x\"></i>\n                </button>\n              </li>\n              <li class=\"nav-item\">\n                <button\n                  type=\"button\"\n                  class=\"nav-link nav-link-outline-primary rounded-1 ms-3\"\n                  :class=\"{ 'd-none': customerDetail.users.length >= totalProductsMaxPaxQty }\"\n                  title=\"新增旅客\"\n                  @click=\"addPax()\"\n                >\n                  <i class=\"bi bi-person-plus\"></i>\n                </button>\n              </li>\n              <li class=\"nav-item ms-3 position-relative\" role=\"presentation\">\n                <i class=\"bi bi-exclamation-triangle-fill warning-icon\" v-if=\"noteWarningShow\"></i>\n                <button\n                  type=\"button\"\n                  class=\"nav-link nav-link-outline-primary rounded-1\"\n                  :class=\"{ 'nav-link-danger': noteWarningShow }\"\n                  id=\"pills-tab-note\"\n                  data-bs-toggle=\"pill\"\n                  data-bs-target=\"#pills-pax-note\"\n                  role=\"tab\"\n                  aria-controls=\"pills-pax-note\"\n                  aria-selected=\"false\"\n                >\n                  備註\n                </button>\n              </li>\n            </ul>\n            <div class=\"d-flex flex-column align-items-end\">\n              <h5 class=\"h3 mb-3\">\n                總金額\n                <span class=\"h2 text-primary\">NT {{ addComma(Math.floor(cart.final_total)) }}</span>\n              </h5>\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary d-block px-5 py-2\"\n                @click=\"validationCheck\"\n                :disabled=\"Object.keys(cart).length == 0 || cart.total == 0\"\n              >\n                <p class=\"h3\">下一步</p>\n              </button>\n            </div>\n          </Form>\n        </div>\n      </div>\n      <!-- 配對旅客 Modal -->\n      <div\n        class=\"modal fade\"\n        id=\"paxModal\"\n        tabindex=\"-1\"\n        aria-labelledby=\"paxModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body p-6\">\n              <h3 class=\"text-center mb-6 pb-3 border-bottom border-gray\">請配對各商品旅客</h3>\n              <div class=\"cart-scroll-box position-relative d-block mb-6\" ref=\"scrollBtnModal\">\n                <!--訂單內容-->\n                <template v-for=\"(item, itemKey) in cart.carts\" :key=\"item.id\">\n                  <div\n                    v-for=\"(option, key) in item.options\"\n                    :key=\"key\"\n                    class=\"d-inline-block w-100\"\n                  >\n                    <div\n                      class=\"px-3 py-4 border border-primary bg-white rounded-1 position-relative\"\n                      :class=\"{\n                        'border-danger': productWarningShow[itemKey],\n                        'mb-6':\n                          itemKey !== cart.carts.length - 1 || key !== item.options.length - 1,\n                      }\"\n                    >\n                      <div class=\"pb-3 mb-3 border-bottom border-gray\">\n                        <div class=\"row justify-content-between mb-sm-3 mb-2\">\n                          <div class=\"col-4\">\n                            <p class=\"h5 mb-2 d-sm-block d-none\">\n                              {{ option.start_date.split('-').join(' / ') }}\n                            </p>\n                            <img :src=\"item.product.imageUrl\" :alt=\"item.title\" class=\"cart-img\" />\n                          </div>\n                          <div class=\"col-8 d-flex flex-column justify-content-between\">\n                            <p class=\"h5 mb-2 d-sm-none\">\n                              {{ option.start_date.split('-').join(' / ') }}\n                            </p>\n                            <div class=\"mb-sm-6 mb-3\">\n                              <p class=\"h3-sm mb-2\">\n                                {{ item.product.title }}\n                              </p>\n                              <p class=\"h4-sm h5\">{{ option.optionName }}</p>\n                            </div>\n                            <p class=\"text-end\">\n                              NT\n                              {{\n                                addComma(\n                                  option.optionPrice *\n                                    (option.qtyDetail.adult + option.qtyDetail.child),\n                                )\n                              }}\n                            </p>\n                          </div>\n                        </div>\n                        <div class=\"d-sm-flex align-items-center\">\n                          <p\n                            class=\"w-sm-25 mb-sm-0 mb-2 text-secondary fw-bold\"\n                            :class=\"{\n                              'text-danger': productWarningShow[itemKey],\n                            }\"\n                          >\n                            選擇旅客：\n                          </p>\n                          <div\n                            class=\"d-flex flex-wrap btn-group\"\n                            role=\"group\"\n                            aria-label=\"Basic checkbox toggle button group\"\n                          >\n                            <div\n                              class=\"ms-sm-2 me-sm-0 me-2\"\n                              v-for=\"(user, userIndex) in customerDetail.users\"\n                              :key=\"user.name\"\n                            >\n                              <input\n                                type=\"checkbox\"\n                                :id=\"`${user.name}-${option.optionName}-${option.start_date}`\"\n                                autocomplete=\"off\"\n                                class=\"btn-check\"\n                                :disabled=\"\n                                  user.name === undefined ||\n                                    (item.options[key].users.length >=\n                                      item.options[key].optionQty &&\n                                      item.options[key].users.includes(userIndex) === false)\n                                \"\n                                :value=\"userIndex\"\n                                v-model=\"item.options[key].users\"\n                              />\n                              <label\n                                :for=\"`${user.name}-${option.optionName}-${option.start_date}`\"\n                                class=\"btn btn-outline-secondary rounded-2\"\n                                >{{ user.name || '待填' }}\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"d-flex justify-content-evenly\">\n                        <div class=\"d-flex align-items-center h4-sm h5\" v-if=\"option.qtyDetail\">\n                          <div class=\"p-1\">\n                            <p>{{ option.qtyDetail.adult }}</p>\n                          </div>\n                          <span v-if=\"item.product.lowestPriceUnit === '每人'\">大</span>\n                          <span\n                            v-else-if=\"\n                              item.product.category !== '包車服務' &&\n                                item.product.lowestPriceUnit !== '每人'\n                            \"\n                            >組</span\n                          >\n                          <span\n                            v-else-if=\"\n                              item.product.category === '包車服務' &&\n                                item.product.lowestPriceUnit !== '每人'\n                            \"\n                            >台</span\n                          >\n                        </div>\n                        <div\n                          class=\"d-flex align-items-center h4-sm h5\"\n                          v-if=\"option.qtyDetail && item.product.lowestPriceUnit === '每人'\"\n                        >\n                          <div class=\"p-1\">\n                            <p>{{ option.qtyDetail.child }}</p>\n                          </div>\n                          小\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </template>\n                <!-- modal 提示可往下滑的圖案 -->\n                <div\n                  class=\"scroll-btn d-lg-inline d-none\"\n                  ref=\"scrollTooltipDownCheckModal\"\n                  v-if=\"scrollBtnModalShow\"\n                >\n                  <span class=\"ms-1\">請向下滾動</span>\n                  <i class=\"bi bi-arrow-down-short\"></i>\n                </div>\n              </div>\n              <div class=\"text-center\">\n                <button type=\"button\" class=\"btn btn-primary w-50 py-2\" @click=\"toNextPage\">\n                  下一步\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--無商品時顯示-->\n      <div v-show=\"cart.total === 0\">\n        <div class=\"text-center mb-md-6 mb-3\">\n          <p class=\"mb-4 h3\">\n            購物車目前還沒有商品耶\n          </p>\n          <p class=\"mb-2\">\n            要不要\n            <router-link :to=\"`/product_list`\" title=\"前往產品頁\" class=\"text-secondary fw-bold h3\">\n              來這裡挑挑看、選選看\n            </router-link>\n            呢？\n          </p>\n          <p>\n            也可以\n            <router-link :to=\"`/article_list`\" title=\"前往文章頁\" class=\"text-secondary fw-bold h3\">\n              來這裡尋找玩樂靈感\n            </router-link>\n            唷！\n          </p>\n        </div>\n        <div class=\"empty-cart-img\">\n          <router-link :to=\"`/product_list?search=城市導覽`\" class=\"empty-cart-tour-tag\">\n          </router-link>\n          <router-link :to=\"`/product_list?search=體驗票券`\" class=\"empty-cart-tkt-tag\">\n          </router-link>\n          <router-link :to=\"`/product_list?search=包車服務`\" class=\"empty-cart-car-tag\">\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Modal } from 'bootstrap';\nimport flushPromises from 'flush-promises';\nimport FlatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\n\nexport default {\n  props: [\n    'cartInfo',\n    'customer',\n    'otherInfo',\n    'contactInfoInputStatus',\n    'scrollBtnStatus',\n    'productMaxPax',\n    'totalProductsMaxPax',\n  ],\n  emits: [\n    'emit-delete-all-products',\n    'emit-change-tkt-num',\n    'emit-delete-product',\n    'emit-add-pax',\n    'emit-delete-pax',\n    'emit-delete-tab',\n    'emit-next-page',\n    'emit-alert',\n  ],\n  data() {\n    return {\n      config: {\n        enableTime: true,\n        noCalendar: true,\n        dateFormat: 'H:i',\n        time_24hr: true,\n        defaultDate: '08:00',\n      },\n      cart: {},\n      customerDetail: {},\n      otherDetail: [],\n      scrollTooltipDownCheck: '',\n      scrollTooltipDownCheckModal: '',\n      scrollBtnShow: true,\n      scrollBtnModalShow: true,\n      contactInfoInputShow: [],\n      noteWarningShow: false,\n      pageWarningShow: [],\n      productWarningShow: [],\n      productMaxPaxQty: 0,\n      totalProductsMaxPaxQty: 0,\n      paxModal: {},\n    };\n  },\n  components: {\n    FlatPickr,\n  },\n  methods: {\n    isIdNum(value) {\n      const idNum = /^[A-Z][0-9]{9}$/;\n      return idNum.test(value) ? true : '請輸入正確的身分證字號';\n    },\n    isBirthday(value) {\n      const birthday = /^\\d{4} \\/ \\d{2} \\/ \\d{2}$/;\n      return birthday.test(value) ? true : '請以正確格式輸入生日';\n    },\n    addPax() {\n      this.customerDetail.users[this.customerDetail.users.length] = {};\n      this.contactInfoInputShow[this.customerDetail.users.length - 1] = false;\n    },\n    deletePax(num) {\n      this.$emit('emit-delete-tab', num);\n      this.customerDetail.users.splice(num, 1);\n      this.contactInfoInputShow.splice(num, 1);\n    },\n    toNextPage() {\n      // 初始化 productWarningShow ，長度要等於商品數，每個都調成 false\n      for (let i = 0; i < this.cart.carts.length; i += 1) {\n        this.productWarningShow[i] = false;\n      }\n      this.cart.carts.forEach((product, productKey) => {\n        product.options.forEach((option) => {\n          // 確認是否每個商品登陸的人數，等於該商品要使用的人數（不可放在 async validationCheck 會來不及正確運行）\n          if (option.users.length !== option.optionQty) {\n            // 沒有的那項調成 true\n            this.productWarningShow[productKey] = true;\n          }\n        });\n      });\n      // 只要 productWarningShow 裡含有 true 就秀警告且不可繼續運行 emit\n      if (this.productWarningShow.includes(true)) {\n        this.$emit('emit-alert', '請登錄每項商品的客戶');\n      } else {\n        this.$emit(\n          'emit-next-page',\n          this.customerDetail,\n          this.otherDetail,\n          this.contactInfoInputShow,\n        );\n        this.paxModal.hide();\n      }\n    },\n    openPaxModal() {\n      this.paxModal.show();\n    },\n    async validationCheck() {\n      // 如果有東西沒填，會直接不跑 openPaxModal() ，所以按下下一步時多設一個函式檢查\n      await flushPromises(); // 先確定渲染完，再跑下面的\n      const errorArr = document.querySelectorAll('.is-invalid');\n      const errorIdArr = [];\n      let errorPageArr = [];\n      if (errorArr.length > 0) {\n        // 如果陣列裡有東西代表有錯誤\n        this.$emit('emit-alert', '請填寫客戶資料及相關備註');\n        errorArr.forEach((error) => {\n          errorIdArr.push(error.id.split('-'));\n        });\n        this.noteWarningShow = !!errorIdArr.map((id) => id[0]).includes('note'); // id 陣列的第 0 項如果有 note 代表有備註沒填\n        errorIdArr.forEach((id) => {\n          if (id[0] !== 'note') {\n            // 代表是客人資料沒填\n            // 檢查陣列最後一項的數字，加一就是第幾位\n            errorPageArr.push(id[id.length - 1]);\n          }\n        });\n        errorPageArr = [...new Set(errorPageArr)]; // 刪掉重複的值\n        // 初始化 pageWarningShow 陣列，讓長度等同目前客人數並調為 false\n        for (let i = 0; i < this.customerDetail.users.length; i += 1) {\n          this.pageWarningShow[i] = false;\n        }\n        // 有出現在 errorPageArr 陣列的調為 true\n        errorPageArr.forEach((i) => {\n          this.pageWarningShow[i] = true;\n        });\n      } else {\n        // 沒錯誤時要把值調回 false\n        this.noteWarningShow = false;\n        for (let i = 0; i < this.customerDetail.users.length; i += 1) {\n          this.pageWarningShow[i] = false;\n        }\n      }\n    },\n  },\n  watch: {\n    cartInfo: {\n      handler() {\n        this.cart = {\n          ...this.cartInfo,\n        }; // props 有變時更改資料\n        this.cart.final_total = this.cartInfo.final_total;\n        this.otherDetail = [];\n        this.cart.carts.forEach((item) => {\n          // 處理特殊備註是否要顯示翻譯接送等表格\n          if (\n            Object.values(item.product.transfer).includes(true)\n            || Object.values(item.product.translate).includes(true)\n          ) {\n            if (this.otherDetail.map((i) => i.id).includes(item.id)) {\n              // 確認有沒有方案名相同或時間相同的\n              const otherDetailOptionName = this.otherDetail.map((i) => i.optionName);\n              const otherDetailStartDate = this.otherDetail.map((i) => i.start_date);\n              item.options.forEach((i) => {\n                if (\n                  otherDetailOptionName.includes(i.optionName) === false\n                  && otherDetailStartDate.includes(i.start_date) === false\n                ) {\n                  this.otherDetail.push({\n                    id: item.id,\n                    product: { ...item.product },\n                    optionName: i.optionName,\n                    start_date: i.start_date,\n                    pickUpTime: '',\n                    pickUpPlace: '',\n                    schedule: '',\n                    includeChild: false,\n                    childBd: '',\n                    childHeight: '',\n                    childWeight: '',\n                    translateLanguage: '中文',\n                  });\n                }\n              });\n            } else {\n              item.options.forEach((i) => {\n                this.otherDetail.push({\n                  id: item.id,\n                  product: { ...item.product },\n                  optionName: i.optionName,\n                  start_date: i.start_date,\n                  pickUpTime: '',\n                  pickUpPlace: '',\n                  schedule: '',\n                  includeChild: false,\n                  childBd: '',\n                  childHeight: '',\n                  childWeight: '',\n                  translateLanguage: '中文',\n                });\n              });\n            }\n          }\n        });\n        this.otherDetail.forEach((detail, key) => {\n          // 解決 flatPickr 設定 defaultDate 後不會自動將預設值綁定到 v-model 的問題\n          if (detail.product.transfer.time) {\n            this.otherDetail[key].pickUpTime = this.config.defaultDate;\n          }\n        });\n        // 初始化讓每個顧客都先顯示完整資料表單\n        for (\n          let i = this.contactInfoInputShow.length;\n          i < this.customerDetail.users.length;\n          i += 1\n        ) {\n          this.contactInfoInputShow[i] = false;\n        }\n      },\n      deep: true,\n    },\n    customer: {\n      handler() {\n        this.customerDetail = { ...this.customer };\n      },\n      deep: true,\n    },\n    scrollBtnStatus: {\n      handler() {\n        this.scrollBtnShow = this.scrollBtnStatus;\n        this.scrollBtnModalShow = this.scrollBtnStatus;\n      },\n      deep: true,\n    },\n    productMaxPax: {\n      handler() {\n        this.productMaxPaxQty = this.productMaxPax;\n      },\n      deep: true,\n    },\n    totalProductsMaxPax: {\n      handler() {\n        this.totalProductsMaxPaxQty = this.totalProductsMaxPax;\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    addComma() {\n      return (price) => {\n        const parts = price.toString().split('.');\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        return `${parts.join(',')}`;\n      };\n    },\n  },\n  created() {\n    this.cart = { ...this.cartInfo };\n    this.customerDetail = { ...this.customer };\n    this.otherDetail = [...this.otherInfo];\n    this.contactInfoInputShow = [...this.contactInfoInputStatus];\n    this.scrollBtnShow = this.scrollBtnStatus;\n    this.productMaxPaxQty = this.productMaxPax;\n    this.totalProductsMaxPaxQty = this.totalProductsMaxPax;\n  },\n  mounted() {\n    this.listenerScrollBtn = () => {\n      const btn = this.$refs.scrollBtn;\n      this.scrollBtnShow = btn.scrollTop < btn.scrollHeight - 600;\n    };\n    this.listenerScrollBtnModal = () => {\n      const btn = this.$refs.scrollBtnModal;\n      this.scrollBtnModalShow = btn.scrollTop < btn.scrollHeight - 600;\n    };\n    this.$refs.scrollBtn.addEventListener('scroll', this.listenerScrollBtn);\n    this.$refs.scrollBtnModal.addEventListener('scroll', this.listenerScrollBtnModal);\n    this.paxModal = new Modal(document.getElementById('paxModal'), {\n      keyboard: false,\n    });\n  },\n};\n</script>\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { render } from \"./CheckCart.vue?vue&type=template&id=6bc4e4c9\"\nimport script from \"./CheckCart.vue?vue&type=script&lang=js\"\nexport * from \"./CheckCart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container py-8\">\n    <div class=\"bg-light rounded-3 p-sm-7 p-3\">\n      <div class=\"row g-sm-7 g-3\">\n        <div\n          class=\"col-lg-6 cart-scroll-box position-relative d-lg-block d-flex mb-lg-0 mb-sm-3 mb-6\"\n          ref=\"scrollBtn\"\n        >\n          <!--訂單內容-->\n          <template v-for=\"(item, itemKey) in cart.carts\" :key=\"item.id\">\n            <div\n              v-for=\"(option, key) in item.options\"\n              :key=\"key\"\n              class=\"d-inline-block cart-scroll-box-item ms-lg-0\"\n              :class=\"{ 'ms-3': itemKey !== 0 || key !== 0 }\"\n            >\n              <div\n                class=\"px-3 py-4 border border-primary bg-white rounded-1 position-relative\"\n                :class=\"{\n                  'mb-lg-6': itemKey !== cart.carts.length - 1 || key !== item.options.length - 1,\n                }\"\n              >\n                <div class=\"pb-3 mb-3 border-bottom border-gray\">\n                  <div class=\"row justify-content-between mb-sm-3 mb-2\">\n                    <div class=\"col-4\">\n                      <p class=\"h5 mb-2 d-sm-block d-none\">\n                        {{ option.start_date.split('-').join(' / ') }}\n                      </p>\n                      <img :src=\"item.product.imageUrl\" :alt=\"item.title\" class=\"cart-img\" />\n                    </div>\n                    <div class=\"col-8 d-flex flex-column justify-content-between\">\n                      <p class=\"h5 mb-2 d-sm-none\">\n                        {{ option.start_date.split('-').join(' / ') }}\n                      </p>\n                      <div class=\"mb-sm-6 mb-3\">\n                        <p class=\"h3-sm mb-2\">{{ item.product.title }}</p>\n                        <p class=\"h4-sm h5\">\n                          {{ option.optionName }}\n                          <span class=\"ms-2\"> *{{ option.qtyDetail.adult }}</span>\n                          <span v-if=\"item.product.lowestPriceUnit === '每人'\" class=\"ms-1\"\n                            >大</span\n                          >\n                          <span\n                            v-else-if=\"\n                              item.product.category !== '包車服務' &&\n                                item.product.lowestPriceUnit !== '每人'\n                            \"\n                            class=\"ms-1\"\n                            >組</span\n                          >\n                          <span\n                            v-else-if=\"\n                              item.product.category === '包車服務' &&\n                                item.product.lowestPriceUnit !== '每人'\n                            \"\n                            class=\"ms-1\"\n                            >台</span\n                          >\n                          <span\n                            v-if=\"\n                              item.product.lowestPriceUnit === '每人' && option.qtyDetail.child > 0\n                            \"\n                            class=\"ms-1\"\n                          >\n                            {{ option.qtyDetail.child }} <span class=\"ms-1\">小</span>\n                          </span>\n                        </p>\n                      </div>\n                      <p class=\"text-end\">\n                        NT\n                        {{\n                          addComma(\n                            option.optionPrice * (option.qtyDetail.adult + option.qtyDetail.child),\n                          )\n                        }}\n                      </p>\n                    </div>\n                  </div>\n                  <template\n                    v-for=\"(detail, key) in otherDetail\"\n                    :key=\"`${detail.product.title}-${key}`\"\n                  >\n                    <div\n                      v-if=\"\n                        detail.product.title === item.product.title &&\n                          detail.optionName === option.optionName &&\n                          detail.start_date === option.start_date\n                      \"\n                    >\n                      <p class=\"mb-2\" v-if=\"detail.product.transfer.time\">\n                        <i class=\"bi bi-check\"></i>\n                        <span class=\"ms-1\">接送時間：</span>\n                        <span class=\"ms-1\">{{ detail.pickUpTime }}</span>\n                      </p>\n                      <p\n                        class=\"mb-2\"\n                        v-if=\"\n                          detail.product.transfer.place &&\n                            detail.optionName.includes('火車') === false &&\n                            detail.optionName.includes('高鐵') === false\n                        \"\n                      >\n                        <i class=\"bi bi-check\"></i>\n                        <span class=\"ms-1\">接送地點：</span>\n                        <span class=\"ms-1\">{{ detail.pickUpPlace }}</span>\n                      </p>\n                      <a\n                        type=\"button\"\n                        data-bs-toggle=\"modal\"\n                        data-bs-target=\"#rentCarScheduleNoteModal\"\n                        v-if=\"\n                          detail.product.category === '包車服務' &&\n                            detail.product.title.includes('包車')\n                        \"\n                        class=\"text-secondary mb-2\"\n                      >\n                        <i class=\"bi bi-check\"></i>\n                        <span class=\"ms-1\">包車行程規劃</span>\n                      </a>\n                      <div\n                        class=\"modal fade\"\n                        id=\"rentCarScheduleNoteModal\"\n                        tabindex=\"-1\"\n                        aria-labelledby=\"rentCarScheduleNoteModalLabel\"\n                        aria-hidden=\"true\"\n                        v-if=\"\n                          detail.product.category === '包車服務' &&\n                            detail.product.title.includes('包車')\n                        \"\n                      >\n                        <div class=\"modal-dialog modal-dialog-centered\">\n                          <div class=\"modal-content\">\n                            <div class=\"modal-header bg-wave mb-3 position-relative\">\n                              <h3>\n                                包車行程規劃：\n                              </h3>\n                              <div class=\"cable-car\"></div>\n                            </div>\n                            <div class=\"modal-body p-6\">\n                              <p class=\"text-break\">\n                                {{ detail.schedule || '暫無規劃' }}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <a\n                        type=\"button\"\n                        data-bs-toggle=\"modal\"\n                        data-bs-target=\"#childInfoNoteModal\"\n                        v-if=\"detail.includeChild\"\n                        class=\"text-secondary mb-2\"\n                      >\n                        <i class=\"bi bi-check\"></i>\n                        <span class=\"ms-1\">含未滿 4 歲孩童</span>\n                      </a>\n                      <div\n                        class=\"modal fade\"\n                        id=\"childInfoNoteModal\"\n                        tabindex=\"-1\"\n                        aria-labelledby=\"childInfoNoteModalLabel\"\n                        aria-hidden=\"true\"\n                        v-if=\"detail.includeChild\"\n                      >\n                        <div class=\"modal-dialog modal-dialog-centered\">\n                          <div class=\"modal-content\">\n                            <div class=\"modal-header bg-wave mb-3 position-relative\">\n                              <h3>\n                                未滿 4 歲孩童：\n                              </h3>\n                              <div class=\"cable-car\"></div>\n                            </div>\n                            <div class=\"modal-body p-6 text-center\">\n                              <p class=\"mb-3\">\n                                <span class=\"h3\">{{ detail.childBd }}</span>\n                                <span class=\"ms-2 h5\">出生</span>\n                              </p>\n                              <p class=\"mb-3\">\n                                <span class=\"h3\">{{ detail.childHeight }}</span>\n                                <span class=\"ms-2 h5\">公分</span>\n                                <span class=\"ms-2\">/</span>\n                                <span class=\"h3 ms-2\">{{ detail.childWeight }}</span>\n                                <span class=\"ms-2 h5\">公斤</span>\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <p\n                        class=\"mb-2\"\n                        v-if=\"detail.product.translate.eng || detail.product.translate.jpy\"\n                      >\n                        導覽語言：\n                        <span class=\"ms-1\">{{ detail.translateLanguage }}</span>\n                      </p>\n                    </div>\n                  </template>\n                  <p\n                    class=\"mb-2\"\n                    v-if=\"\n                      otherDetail.length === 0 ||\n                        otherDetail\n                          .map((detail) => detail.product.title)\n                          .includes(item.product.title) === false ||\n                        otherDetail\n                          .map((detail) => detail.optionName)\n                          .includes(option.optionName) === false\n                    \"\n                  >\n                    此商品無備註項目\n                  </p>\n                </div>\n                <div class=\"d-sm-flex align-items-center\">\n                  <p class=\"w-sm-25 mb-sm-0 mb-2\">\n                    <span v-if=\"item.product.lowestPriceUnit === '每人'\">旅客：</span>\n                    <span v-else>主要聯繫人：</span>\n                  </p>\n                  <div\n                    class=\"d-flex flex-wrap btn-group\"\n                    role=\"group\"\n                    aria-label=\"Basic checkbox toggle button group\"\n                  >\n                    <div\n                      class=\"btn btn-secondary rounded-2 ms-sm-2 me-sm-0 me-2\"\n                      v-for=\"user in option.users\"\n                      :key=\"user\"\n                    >\n                      {{ customerDetail.users[user].name }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </template>\n          <!-- 電腦版提示可往下滑的圖案 -->\n          <div\n            class=\"scroll-btn d-lg-inline d-none\"\n            ref=\"scrollTooltipDownCfm\"\n            v-if=\"scrollBtnShow\"\n          >\n            <span class=\"ms-1\">請向下滾動</span>\n            <i class=\"bi bi-arrow-down-short\"></i>\n          </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <!--客戶資料-->\n          <div class=\"tab-content mb-6\">\n            <div\n              v-for=\"(item, key) in customerDetail.users\"\n              :key=\"key\"\n              class=\"tab-pane fade\"\n              :class=\"{ show: key === 0, active: key === 0 }\"\n              :id=\"`pills-pax-${key}`\"\n              role=\"tabpanel\"\n              :aria-labelledby=\"`pills-tab-${key}`\"\n            >\n              <div class=\"d-flex justify-content-between\">\n                <p class=\"mb-6 h3\">\n                  第 {{ key + 1 }} 位旅客\n                  <span class=\"h4\" v-if=\"key === 0\"> / 主要聯絡人</span>\n                </p>\n                <p class=\"mb-3\">\n                  <span class=\"ms-1 h3\">{{ item.name }}</span>\n                  <span class=\"ms-3\">{{ item.gender }}</span>\n                </p>\n              </div>\n              <ul class=\"pb-6 mb-6 border-bottom border-gray\">\n                <li class=\"mb-3\">\n                  身分證：\n                  <span class=\"ms-3\">{{ item.idNum }}</span>\n                </li>\n                <li class=\"pb-6 mb-6 border-bottom border-gray\">\n                  護照號碼：\n                  <span class=\"ms-3\">{{ item.passportNum }}</span>\n                </li>\n                <template v-if=\"item.tel\">\n                  <li class=\"mb-3\">\n                    <i class=\"text-primary bi bi-telephone-fill\"></i>\n                    <span class=\"ms-3\">{{ item.tel }}</span>\n                  </li>\n                  <li class=\"mb-3\">\n                    <i class=\"text-primary bi bi-envelope-fill\"></i>\n                    <span class=\"ms-3\">{{ item.email }}</span>\n                  </li>\n                  <li>\n                    <i class=\"text-primary bi bi-signpost-2-fill\"></i>\n                    <span class=\"ms-3\">{{ item.address }}</span>\n                  </li>\n                </template>\n                <li v-else>聯絡資料同主要聯絡人</li>\n              </ul>\n              <p class=\"mb-6\">個人明細</p>\n              <template v-for=\"option in item.products.product\" :key=\"option.optionName\">\n                <div class=\"d-flex align-items-center pb-3 mb-3\">\n                  <p class=\"w-25 h5\">\n                    {{ option.date.split('-').join(' / ') }}\n                  </p>\n                  <div class=\"ms-3 w-75\">\n                    <p>\n                      {{ option.productName }}\n                    </p>\n                    <p>{{ option.optionName }}</p>\n                  </div>\n                </div>\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"pills-pax-note\"\n              role=\"tabpanel\"\n              aria-labelledby=\"pills-tab-note\"\n            >\n              <div class=\"mb-6 pb-3 border-bottom border-gray\">\n                <p class=\"h3 mb-2\">\n                  其他特殊需求：\n                </p>\n                <p class=\"text-gray-dark\">\n                  此備註不在商品包含範圍，不保證提供，但我們仍將盡力替您達成特殊需求\n                </p>\n              </div>\n              <p>\n                {{ customerDetail.message }}\n              </p>\n            </div>\n          </div>\n          <ul\n            class=\"nav nav-pills justify-content-center flex-wrap mb-8\"\n            id=\"cfm-cart-customer-pills-tab\"\n            role=\"tablist\"\n          >\n            <li\n              class=\"nav-item mb-1 position-relative\"\n              role=\"presentation\"\n              v-for=\"(user, key) in customerDetail.users\"\n              :key=\"`paxNum-${key}`\"\n              :class=\"{ 'ms-3': key !== 0 }\"\n            >\n              <button\n                type=\"button\"\n                class=\"nav-link nav-link-outline-primary rounded-1\"\n                :class=\"{ active: key === 0 }\"\n                :id=\"`pills-tab-${key}`\"\n                data-bs-toggle=\"pill\"\n                :data-bs-target=\"`#pills-pax-${key}`\"\n                role=\"tab\"\n                :aria-controls=\"`pills-pax-${key}`\"\n                aria-selected=\"false\"\n              >\n                {{ key + 1 }}\n              </button>\n            </li>\n            <li class=\"nav-item ms-3 position-relative\" role=\"presentation\">\n              <button\n                type=\"button\"\n                class=\"nav-link nav-link-outline-primary rounded-1\"\n                id=\"pills-tab-note\"\n                data-bs-toggle=\"pill\"\n                data-bs-target=\"#pills-pax-note\"\n                role=\"tab\"\n                aria-controls=\"pills-pax-note\"\n                aria-selected=\"false\"\n              >\n                其他備註\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <!--付款資料-->\n      <Form :validation-schema=\"schema\" @submit=\"addOrder\">\n        <div class=\"w-lg-50 mx-auto\">\n          <h2 class=\"h3 text-primary mb-6\">付款資料</h2>\n          <div class=\"row mb-7\">\n            <div class=\"mb-6\">\n              <label class=\"form-label mb-3\">付款方式</label>\n              <ErrorMessage name=\"payment\" class=\"mb-3 d-block text-danger\"></ErrorMessage>\n              <div class=\"row g-sm-3 g-2\">\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"paymentMethodCreditCard\"\n                    name=\"payment\"\n                    class=\"d-none\"\n                    value=\"刷卡\"\n                    v-model=\"paymentDetail.method\"\n                  >\n                  </Field>\n                  <label\n                    for=\"paymentMethodCreditCard\"\n                    class=\"payment-box paymentGroup\"\n                    @click=\"addActive('paymentGroup', 0)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-credit-card-2-back h2\"></i>\n                    </div>\n                    刷卡\n                  </label>\n                </div>\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"paymentMethodATM\"\n                    name=\"payment\"\n                    class=\"d-none\"\n                    value=\"ATM 轉帳\"\n                    v-model=\"paymentDetail.method\"\n                  >\n                  </Field>\n                  <label\n                    for=\"paymentMethodATM\"\n                    class=\"payment-box paymentGroup\"\n                    @click=\"addActive('paymentGroup', 1)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-cash-coin h2\"></i>\n                    </div>\n                    ATM\n                  </label>\n                </div>\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"paymentMethodCash\"\n                    name=\"payment\"\n                    class=\"d-none\"\n                    value=\"到貨付款\"\n                    v-model=\"paymentDetail.method\"\n                  >\n                  </Field>\n                  <label\n                    for=\"paymentMethodCash\"\n                    class=\"payment-box paymentGroup\"\n                    :class=\"{ disabled: onlyEtkt }\"\n                    @click=\"addActive('paymentGroup', 2)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-shop h2\"></i>\n                    </div>\n                    貨到付\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div class=\"mb-6\">\n              <label class=\"form-label mb-3\">取件方式</label>\n              <p class=\"h5 text-primary mb-3\" :class=\"{ 'd-none': onlyEtkt }\">\n                訂單明細及電子憑證仍將以電子郵件寄給您\n              </p>\n              <ErrorMessage name=\"send\" class=\"mb-3 d-block text-danger\"></ErrorMessage>\n              <div class=\"row g-sm-3 g-2\">\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"emailPickup\"\n                    name=\"send\"\n                    class=\"d-none\"\n                    value=\"電子郵件取貨\"\n                    v-model=\"paymentDetail.sendMethod\"\n                  >\n                  </Field>\n                  <label\n                    for=\"emailPickup\"\n                    class=\"payment-box sendGroup\"\n                    :class=\"{ disabled: onlyEtkt === false, active: onlyEtkt }\"\n                    @click=\"addActive('sendGroup', 0)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-envelope h2\"></i>\n                    </div>\n                    電子信箱\n                  </label>\n                </div>\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"sendByPost\"\n                    name=\"send\"\n                    class=\"d-none\"\n                    value=\"郵寄\"\n                    v-model=\"paymentDetail.sendMethod\"\n                  >\n                  </Field>\n                  <label\n                    for=\"sendByPost\"\n                    class=\"payment-box sendGroup\"\n                    :class=\"{ disabled: onlyEtkt }\"\n                    @click=\"addActive('sendGroup', 1)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-mailbox h2\"></i>\n                    </div>\n                    郵寄\n                  </label>\n                </div>\n                <div class=\"col-4\">\n                  <Field\n                    type=\"radio\"\n                    id=\"inStorePickup\"\n                    name=\"send\"\n                    class=\"d-none\"\n                    value=\"門市取貨\"\n                    v-model=\"paymentDetail.sendMethod\"\n                  >\n                  </Field>\n                  <label\n                    for=\"inStorePickup\"\n                    class=\"payment-box sendGroup\"\n                    :class=\"{ disabled: onlyEtkt }\"\n                    @click=\"addActive('sendGroup', 2)\"\n                  >\n                    <div class=\"mb-3\">\n                      <i class=\"bi bi-shop h2\"></i>\n                    </div>\n                    門市取貨\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div class=\"mb-6\">\n              <label for=\"taxIdInput\" class=\"form-label mb-3\">統一編號（選填）</label>\n              <input\n                type=\"text\"\n                id=\"taxIdInput\"\n                name=\"統一編號\"\n                class=\"form-control\"\n                v-model=\"paymentDetail.taxIdNum\"\n              />\n            </div>\n            <div>\n              <label for=\"couponInput\" class=\"form-label mb-3\">優惠券（選填）</label>\n              <div class=\"input-group mb-2\">\n                <input\n                  type=\"text\"\n                  id=\"couponInput\"\n                  name=\"優惠券\"\n                  class=\"form-control\"\n                  v-model=\"paymentDetail.coupon\"\n                />\n                <div\n                  ref=\"checkCouponBtn\"\n                  class=\"input-group-text btn btn-primary\"\n                  @click=\"$emit('emit-check-coupon', paymentDetail.coupon)\"\n                >\n                  <div\n                    class=\"spinner-border spinner-border-sm text-light d-none me-1\"\n                    role=\"status\"\n                  >\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                  套用優惠碼\n                </div>\n              </div>\n              <p v-if=\"paymentDetail.coupon\" class=\"ms-1 h5 text-primary\">\n                已套用優惠券 {{ paymentDetail.coupon }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"d-flex flex-column align-items-end\">\n          <h5 class=\"h3 mb-3\">\n            總金額\n            <span class=\"h2 text-primary\">NT {{ addComma(Math.floor(cart.final_total)) }}</span>\n          </h5>\n          <div class=\"d-flex\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-primary px-5 py-2 h3\"\n              @click=\"$emit('emit-pre-page')\"\n            >\n              上一頁\n            </button>\n            <button\n              type=\"submit\"\n              class=\"btn btn-primary px-5 py-2 ms-2\n                        d-flex justify-content-center align-items-center\"\n              ref=\"addOrderBtn\"\n              :disabled=\"Object.keys(cart).length == 0 || cart.total == 0\"\n            >\n              <div class=\"spinner-border spinner-border-sm text-light d-none me-1\" role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n              <p class=\"h3\">結帳</p>\n            </button>\n          </div>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['cartInfo', 'customer', 'otherInfo', 'payment', 'scrollBtnStatus'],\n  emits: ['emit-check-coupon', 'emit-pre-page', 'emit-add-order'],\n  data() {\n    return {\n      cart: {},\n      customerDetail: {},\n      otherDetail: [],\n      paymentDetail: {},\n      temp: {},\n      scrollTooltipDownCfm: '',\n      scrollBtnShow: true,\n      schema: {\n        payment: (value) => {\n          if (value) {\n            return true;\n          }\n          return '請選擇付款方式';\n        },\n        send: (value) => {\n          if (value) {\n            return true;\n          }\n          return '請選擇取件方式';\n        },\n      },\n      onlyEtkt: false,\n    };\n  },\n  methods: {\n    addActive(groupName, target) {\n      // 目標加上 active 其他相同群組的 active 刪掉\n      document.querySelectorAll(`.${groupName}`).forEach((item, index) => {\n        if (index !== target) {\n          item.classList.remove('active');\n        } else {\n          item.classList.add('active');\n        }\n      });\n    },\n    addOrder() {\n      this.$emit('emit-add-order', this.paymentDetail, this.customerDetail.productsArr);\n    },\n    organizeUserProduct() {\n      // 照產品分類分（該產品有哪些人買）\n      const productsArr = [];\n      this.cart.carts.forEach((product) => {\n        product.options.forEach((option) => {\n          const users = [];\n          option.users.sort((x, y) => x - y); // 即使客人沒照旅客編號點選，也能照編號排列顯示出來\n          option.users.forEach((user) => {\n            users.push(this.customerDetail.users[user].name);\n          });\n          productsArr.push({\n            productName: product.product.title,\n            optionName: option.optionName,\n            date: option.start_date,\n            productImg: product.product.imageUrl,\n            users,\n          });\n        });\n      });\n      // 照客人姓名分（同一人買了什麼）\n      const usersArr = [];\n      this.customerDetail.users.forEach((user, userKey) => {\n        const product = [];\n        productsArr.sort((x, y) => new Date(x.date) - new Date(y.date));\n        productsArr.forEach((item) => {\n          if (item.users.includes(user.name)) {\n            product.push(item);\n          }\n        });\n        usersArr[userKey] = {\n          userName: user.name,\n          product,\n        };\n        this.customerDetail.users[userKey].products = usersArr[userKey];\n        this.customerDetail.productsArr = productsArr;\n      });\n    },\n    organizeEtkt() {\n      // 取出所有產品及方案 isEtkt 放到 etktCheck\n      const etktCheck = [];\n      this.cart.carts.forEach((item) => {\n        etktCheck.push(item.options.map((option) => option.isEtkt));\n      });\n      if (etktCheck.flat().every((e) => e === true)) {\n        // 若其中都是 etkt=true ，那只能選擇電子票券出件，且不可選貨到付款\n        this.paymentDetail.sendMethod = '電子郵件取貨';\n        this.onlyEtkt = true;\n      } else {\n        // 不然只能選電子票券以外的\n        this.paymentDetail.sendMethod = '';\n        this.onlyEtkt = false;\n      }\n    },\n  },\n  watch: {\n    cartInfo: {\n      handler() {\n        this.cart = { ...this.cartInfo }; // props 有變時更改資料\n        this.cart.final_total = this.cartInfo.final_total;\n        this.organizeEtkt();\n      },\n      deep: true,\n    },\n    customer() {\n      this.customerDetail = { ...this.customer };\n    },\n    otherInfo() {\n      this.otherDetail = [...this.otherInfo];\n    },\n    payment: {\n      handler() {\n        this.paymentDetail = { ...this.payment };\n      },\n      deep: true,\n    },\n    scrollBtnStatus: {\n      handler() {\n        this.scrollBtnShow = this.scrollBtnStatus;\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    addComma() {\n      return (price) => {\n        const parts = price.toString().split('.');\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        return `${parts.join(',')}`;\n      };\n    },\n  },\n  created() {\n    this.cart = { ...this.cartInfo };\n    this.customerDetail = { ...this.customer };\n    this.otherDetail = [...this.otherInfo];\n    this.paymentDetail = { ...this.payment };\n    this.scrollBtnShow = this.scrollBtnStatus;\n    this.organizeUserProduct();\n    this.organizeEtkt();\n  },\n  mounted() {\n    this.listener = () => {\n      const btn = this.$refs.scrollBtn;\n      this.scrollBtnShow = btn.scrollTop < btn.scrollHeight - 600;\n    };\n    this.$refs.scrollBtn.addEventListener('scroll', this.listener);\n  },\n};\n</script>\n","import { render } from \"./ConfirmCart.vue?vue&type=template&id=3b22dec8\"\nimport script from \"./ConfirmCart.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmCart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container py-8\">\n    <div class=\"d-flex flex-md-row flex-column justify-content-center align-items-center\">\n      <img\n        src=\"https://github.com/vvvvvvii/tasteof/blob/main/public/img/finish%20cart.png?raw=true\"\n        alt=\"恭喜您完成付款\"\n        class=\"w-25\"\n      />\n      <div class=\"ms-6\">\n        <h2 class=\"h1 mb-6 text-md-start text-center\">\n          完成付款！\n          <span class=\"h2 ms-lg-3 d-lg-inline d-none\"\n            >NT {{ addComma(paymentDetail.final_total) }}\n          </span>\n        </h2>\n        <p class=\"h2 text-md-end text-center d-lg-none\">\n          NT {{ addComma(paymentDetail.final_total) }}\n        </p>\n        <div class=\"text-end\">\n          <router-link to=\"/product_list\">\n            <button type=\"button\" class=\"btn btn-outline-primary mb-7\">\n              更多行程在這等著你\n            </button>\n          </router-link>\n        </div>\n        <a\n          class=\"h3-md text-secondary text-decoration-underline\n          text-md-start text-center cursor-pointer\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#checkOrderDetailModal\"\n        >\n          <span class=\"d-block mb-3\">\n            查看訂單細節\n          </span>\n          <span class=\"d-block h2\">{{ orderDetail.orderId }}</span>\n        </a>\n        <!-- 訂單細節 Modal -->\n        <div\n          class=\"modal fade\"\n          id=\"checkOrderDetailModal\"\n          tabindex=\"-1\"\n          aria-labelledby=\"checkOrderDetailModalLabel\"\n          aria-hidden=\"true\"\n        >\n          <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header bg-wave mb-3 position-relative\">\n                <h3>訂單明細</h3>\n                <div class=\"cable-car\"></div>\n              </div>\n              <div class=\"modal-body p-6\">\n                <div class=\"pb-6 mb-6 border-bottom border-gray\">\n                  <h3 class=\"text-primary mb-1\">訂單資料</h3>\n                  <p class=\"text-gray mb-3\">編號：{{ orderDetail.orderId }}</p>\n                  <div class=\"order-scroll-box d-flex\">\n                    <div\n                      v-for=\"(product, key) in products\"\n                      :key=\"`${product.productName}-${key}`\"\n                      class=\"px-3 py-4 border border-primary rounded-1\n                    order-scroll-box-item\"\n                      :class=\"{ 'ms-3': key !== 0 }\"\n                    >\n                      <div class=\"pb-3 mb-3 border-bottom border-gray\">\n                        <div class=\"row mb-sm-3 mb-2\">\n                          <div class=\"col-sm-4 col-3\">\n                            <p class=\"h5 mb-2 d-sm-block d-none\">\n                              {{ product.date.split('-').join(' / ') }}\n                            </p>\n                            <img\n                              :src=\"product.productImg\"\n                              :alt=\"product.productName\"\n                              class=\"order-img\"\n                            />\n                          </div>\n                          <div class=\"col-sm-8 col-9\">\n                            <p class=\"h5 mb-1 d-sm-none text-gray\">\n                              {{ product.date.split('-').join(' / ') }}\n                            </p>\n                            <p class=\"h3-sm mb-2\">{{ product.productName }}</p>\n                            <p class=\"h4-sm h5\">{{ product.optionName }}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"d-flex align-items-center\">\n                        <p class=\"w-25\">\n                          旅客：\n                        </p>\n                        <p v-for=\"(user, userKey) in product.users\" :key=\"user\" class=\"ms-1\">\n                          {{ user }}\n                          <span v-if=\"userKey !== product.users.length - 1\" class=\"ms-1\">、</span>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <h3 class=\"mb-3 text-primary\">付款及收件資料</h3>\n                <div class=\"mb-6\">\n                  <div class=\"mb-3\">\n                    <p class=\"mb-1\">\n                      <i class=\"bi bi-check\"></i>\n                      <span class=\"ms-1\">{{ paymentDetail.payment_method }}</span>\n                    </p>\n                    <p v-if=\"paymentDetail.taxIdNum\" class=\"mb-1\">\n                      <i class=\"bi bi-check\"></i>\n                      <span class=\"ms-1\">統一編號：</span>\n                      <span class=\"ms-1\">{{ paymentDetail.taxIdNum }}</span>\n                    </p>\n                    <p class=\"mb-1\">\n                      <i class=\"bi bi-check\"></i>\n                      <span class=\"ms-1\">{{ paymentDetail.send_method }}</span>\n                    </p>\n                  </div>\n\n                  <div\n                    v-if=\"paymentDetail.send_method === '郵寄'\"\n                    class=\"rounded-1 px-5 py-6 bg-light\"\n                  >\n                    <p class=\"h3 text-center mb-3\">\n                      {{ contactDetail.name }}\n                      <span class=\"ms-1 h4\">收</span>\n                    </p>\n                    <p class=\"mb-1\">\n                      <i class=\"text-primary bi bi-telephone-fill\"></i>\n                      <span class=\"ms-3\">{{ contactDetail.tel }}</span>\n                    </p>\n                    <p class=\"mb-1\">\n                      <i class=\"text-primary bi bi-envelope-fill\"></i>\n                      <span class=\"ms-3\">{{ contactDetail.email }}</span>\n                    </p>\n                    <p class=\"mb-1\">\n                      <i class=\"text-primary bi bi-signpost-2-fill\"></i>\n                      <span class=\"ms-3\">{{ contactDetail.address }}</span>\n                    </p>\n                  </div>\n                </div>\n                <p class=\"h2 text-end\">NT {{ addComma(paymentDetail.final_total) }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"bg-wave py-7\" id=\"moreActivitiesSection\">\n    <div class=\"container\">\n      <h3 class=\"text-primary mb-5\">更多活動？</h3>\n      <div class=\"row flex-nowrap random-box\">\n        <div class=\"col-lg-4 col-sm-5 col-9\" v-for=\"(item, key) in randomProducts\" :key=\"key\">\n          <router-link :to=\"`/product/${item.id}`\" title=\"查看更多\" class=\"card overflow-hidden\">\n            <div class=\"card-img-outer\">\n              <img :src=\"item.imageUrl\" :alt=\"item.title\" class=\"card-img\" />\n            </div>\n            <div class=\"card-body random-box-inner\">\n              <h4 class=\"card-title\">{{ item.title }}</h4>\n              <p class=\"h3-md h5 text-end\">NT {{ addComma(item.lowestPrice) }} 起</p>\n            </div>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['orderDetail'],\n  emits: ['emit-alert'],\n  data() {\n    return {\n      paymentDetail: {},\n      contactDetail: {},\n      products: [],\n      orderModal: {},\n      totalProducts: [],\n      randomProducts: [],\n    };\n  },\n  methods: {\n    getOrder(id) {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${id}`)\n        .then((res) => {\n          if (res.data.success) {\n            this.paymentDetail = { ...res.data.order.user.paymentDetail };\n            this.products = [...res.data.order.user.products];\n            this.contactDetail = {\n              name: res.data.order.user.name,\n              email: res.data.order.user.email,\n              tel: res.data.order.user.tel,\n              address: res.data.order.user.address,\n            };\n          } else {\n            this.$emit('emit-alert', res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.$emit('emit-alert', err.response);\n        });\n    },\n    getTotalProducts() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          if (res.data.success) {\n            this.totalProducts = res.data.products;\n            this.totalProducts.forEach((item, index) => {\n              // 個別取出每個產品\n              let packageOptionsPrice = item.packageOptions.map((i) => i.price); // 取出該產品的所有方案中的價格\n              packageOptionsPrice = packageOptionsPrice.sort((x, y) => x - y); // 價格小排到大\n              const [lowestPrice] = packageOptionsPrice; // 該產品最低價格為陣列第一個數\n              this.totalProducts[index].lowestPrice = lowestPrice;\n              // 找到該價格對應的單位\n              item.packageOptions.forEach((i) => {\n                if (i.price === lowestPrice) {\n                  this.totalProducts[index].lowestPriceUnit = i.unit;\n                }\n              });\n            });\n            this.getRandomProducts();\n            this.getOrder(this.orderDetail.orderId);\n          } else {\n            this.$emit('emit-alert', res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.$emit('emit-alert', err.response);\n        });\n    },\n    getRandomProducts() {\n      const arrSet = new Set([]);\n      const maxSize = this.totalProducts.length < 3 ? this.totalProducts.length : 3;\n      for (let index = 0; arrSet.size < maxSize; index + 1) {\n        const { length } = this.totalProducts;\n        const num = Math.floor(Math.random(length) * length); // 隨機取得商品\n        arrSet.add(num);\n      }\n      arrSet.forEach((i) => {\n        this.randomProducts.push(this.totalProducts[i]); // 取得未重複的商品放進 randomProducts 陣列中\n      });\n    },\n  },\n  computed: {\n    addComma() {\n      return (price) => {\n        if (typeof price !== 'undefined') {\n          const parts = price.toString().split('.');\n          parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          return `${parts.join('.')}`;\n        }\n        return 0;\n      };\n    },\n  },\n  created() {\n    this.getTotalProducts();\n  },\n};\n</script>\n","import { render } from \"./FinishCart.vue?vue&type=template&id=36750272\"\nimport script from \"./FinishCart.vue?vue&type=script&lang=js\"\nexport * from \"./FinishCart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Cart.vue?vue&type=template&id=6bb484c0\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var scheduler = typeof setImmediate === 'function' ? setImmediate : setTimeout;\n\nfunction flushPromises() {\n  return new Promise(function(resolve) {\n    scheduler(resolve);\n  });\n}\n\nmodule.exports = flushPromises;\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\n\nexport default emitter;\n"],"sourceRoot":""}