(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b4508be"],{a02d:function(e,t,c){"use strict";var o=c("7a23"),r={class:"alert alert-primary fade show",role:"alert"},n=Object(o["createVNode"])("i",{class:"bi bi-exclamation-triangle-fill me-2 text-primary"},null,-1);function a(e,t,c,a,i,s){return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[n,Object(o["createTextVNode"])(Object(o["toDisplayString"])(c.alertMsg),1)])}var i={props:["alertMsg"]};i.render=a;t["a"]=i},f19d:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r={class:"pt-7 flex-fill"},n={class:"container"},a={class:"col-lg-8"},i={class:"d-flex justify-content-between mb-lg-6 mb-md-4 mb-2"},s={class:"mb-2"},l={class:"text-gray-dark"},d={class:"mb-4"},u={class:"mb-8"},b={class:"bg-wave py-7",id:"moreActivitiesSection"},p={class:"container"},m=Object(o["createVNode"])("h3",{class:"text-primary mb-5"},"更多相似活動",-1),h={class:"row"},j={class:"card-img-outer"},O={class:"card-body"},f={class:"card-title ellipsis ellipsis-one-line"},w={class:"h3-md h5 text-end"},g=Object(o["createVNode"])("div",{class:"to-top-btn-text"},[Object(o["createVNode"])("p",null,"回到"),Object(o["createVNode"])("p",null,"上方")],-1);function v(e,t,c,v,k,V){var N=Object(o["resolveComponent"])("SwiperSlide"),S=Object(o["resolveComponent"])("Swiper"),y=Object(o["resolveComponent"])("router-link"),B=Object(o["resolveComponent"])("Alert");return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",{class:["row justify-content-center pt-8",{"pb-8":0!==k.randomProducts.length}]},[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",null,[Object(o["createVNode"])("h2",s,Object(o["toDisplayString"])(k.article.title),1),Object(o["createVNode"])("p",l,"文："+Object(o["toDisplayString"])(k.article.author),1)]),Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(k.article.create_at),1)]),Object(o["createVNode"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.tagCheck,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:t,class:["text-secondary",{"ms-2":0!==t}]},"#"+Object(o["toDisplayString"])(e),3)})),128))]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])(S,{centeredSlides:!0,loop:!0,navigation:!0,thumbs:{swiper:k.thumbsSwiper},class:"gallery-top rounded-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.imagesUrl,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:e.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("img",{src:e,class:"swiper-img rounded-2"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["thumbs"]),Object(o["createVNode"])(S,{onSwiper:V.setThumbsSwiper,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,class:"gallery-thumbs rounded-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.article.imagesUrl,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:e.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("img",{src:e,class:"swiper-img"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])]),Object(o["createVNode"])("div",{innerHTML:k.article.content,class:"ckeditor-content"},null,8,["innerHTML"])])],2)]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",p,[m,Object(o["createVNode"])("div",h,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.randomProducts,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-4",key:t},[Object(o["createVNode"])(y,{to:"/product/".concat(e.id),title:"查看更多",class:"card overflow-hidden"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",j,[Object(o["createVNode"])("img",{src:e.imageUrl,alt:e.title,class:"card-img"},null,8,["src","alt"])]),Object(o["createVNode"])("div",O,[Object(o["createVNode"])("h4",f,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("p",w,"NT "+Object(o["toDisplayString"])(V.addComma(e.lowestPrice))+" 起",1)])]})),_:2},1032,["to"])])})),128))])])]),k.btnShow?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"to-top-btn",onClick:t[1]||(t[1]=function(){return V.scrollToTop&&V.scrollToTop.apply(V,arguments)})},[g])):Object(o["createCommentVNode"])("",!0),k.showAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(B,{key:1,"alert-msg":k.alertMsg},null,8,["alert-msg"])):Object(o["createCommentVNode"])("",!0)])}var k=c("3835"),V=(c("99af"),c("ac1f"),c("5319"),c("1276"),c("159b"),c("d81d"),c("4e82"),c("7db0"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("25f0"),c("a15b"),c("a02d")),N={data:function(){return{article:[],content:[],totalProducts:[],randomProducts:[],showAlert:!1,alertMsg:"",btnShow:!0,thumbsSwiper:null}},props:["id"],components:{Alert:V["a"]},methods:{getArticleData:function(){var e=this,t=this.id;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/article/").concat(t)).then((function(t){t.data.success?(e.article=t.data.article,e.article.create_at=new Date(1e3*e.article.create_at).toISOString().split("T")[0].replace(/-/g," / "),e.getTotalProducts()):(e.customAlert(t.data.message),window.setTimeout(e.closeCustomAlert,5e3))})).catch((function(t){e.customAlert(t.response),window.setTimeout(e.closeCustomAlert,5e3)}))},getTotalProducts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("fm0fm0","/products/all")).then((function(t){t.data.success?(e.totalProducts=t.data.products,e.totalProducts.forEach((function(t,c){var o=t.packageOptions.map((function(e){return e.price}));o=o.sort((function(e,t){return e-t}));var r=o,n=Object(k["a"])(r,1),a=n[0];e.totalProducts[c].lowestPrice=a,t.packageOptions.forEach((function(t){t.price===a&&(e.totalProducts[c].lowestPriceUnit=t.unit)}))})),e.getRandomProducts()):(e.customAlert(t.data.message),window.setTimeout(e.closeCustomAlert,5e3))})).catch((function(t){e.customAlert(t.response),window.setTimeout(e.closeCustomAlert,5e3)}))},getRandomProducts:function(){var e,t=this,c=this.article.tagCheck;c.find((function(e){return"基隆"===e||"台北"===e||"新北"===e||"桃園"===e||"新竹"===e||"苗栗"===e}))?e="雙北":c.find((function(e){return"台中"===e||"彰化"===e||"南投"===e||"雲林"===e}))?e="中彰投":c.find((function(e){return"嘉義"===e||"台南"===e}))?e="嘉南":c.find((function(e){return"高雄"===e||"屏東"===e}))?e="高屏":c.find((function(e){return"宜蘭"===e||"花蓮"===e||"台東"===e||"離島"===e}))&&(e="花東");var o=[];this.totalProducts.forEach((function(t){t.tagCheck.forEach((function(c){c===e&&o.push(t)}))}));for(var r=new Set([]),n=o.length<3?o.length:3,a=0;r.size<n;a+1){var i=o.length,s=Math.floor(Math.random(i)*i);r.add(s)}r.forEach((function(e){t.randomProducts.push(o[e])}))},setThumbsSwiper:function(e){this.thumbsSwiper=e},customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},scrollToTop:function(){window.scrollTo(0,0)}},computed:{addComma:function(){return function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"".concat(t.join(","))}}},mounted:function(){var e=this;this.getArticleData(),this.listener=function(){e.btnShow=window.scrollY>0},window.addEventListener("scroll",this.listener)},unmounted:function(){window.removeEventListener("scroll",this.listener)},watch:{id:function(){this.getData()}}};N.render=v;t["default"]=N}}]);
//# sourceMappingURL=chunk-4b4508be.055aa67e.js.map