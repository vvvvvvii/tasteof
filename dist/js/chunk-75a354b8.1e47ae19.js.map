{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/ArticleList.vue","webpack:///./src/views/ArticleList.vue?5183","webpack:///./src/components/Alert.vue","webpack:///./src/components/Alert.vue?d299"],"names":["aria-label","class","href","pagination","has_pre","tabindex","aria-disabled","emitChangePage","current_page","pagipages","item","key","has_next","props","data","this","page","methods","p","page_start","per_page","page_end","total_pages","$emit","computed","Math","ceil","filterProduct","length","render","role","type","tagCategory","cities","id","autocomplete","value","searchArticleTag","for","filterArticle","to","src","image","alt","title","create_at","author","description","getData","showAlert","alert-msg","alertMsg","name","articles","components","alert","currentPage","$http","get","then","res","success","forEach","index","time","Date","toISOString","split","replace","customAlert","message","catch","err","response","msg","closeCustomAlert","filter","i","tagCheck","val","indexOf","created"],"mappings":"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","file":"js/chunk-75a354b8.1e47ae19.js","sourcesContent":["<template>\n  <nav aria-label=\"Page navigation\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" :class=\"{ disabled: !pagination.has_pre }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          tabindex=\"-1\"\n          aria-disabled=\"true\"\n          @click.prevent=\"emitChangePage(pagination.current_page - 1)\"\n          >Previous</a\n        >\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"item in pagipages\"\n        :key=\"item\"\n        :class=\"{ active: pagination.current_page === item }\"\n        @click.prevent=\"emitChangePage(item)\"\n      >\n        <a class=\"page-link\" href=\"#\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: !pagination.has_next }\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"emitChangePage(pagination.current_page + 1)\"\n          >Next</a\n        >\n      </li>\n    </ul>\n  </nav>\n</template>\n<script>\nexport default {\n  props: ['page', 'filterProduct'],\n  data() {\n    return {\n      pagination: { ...this.page },\n    };\n  },\n  methods: {\n    emitChangePage(p) {\n      if (p > 0 && p <= this.pagipages) {\n        this.pagination.current_page = p;\n        this.pagination.page_start = this.pagination.per_page * p - this.pagination.per_page + 1;\n        this.pagination.page_end = this.pagination.per_page * p;\n        if (p === 1) {\n          this.pagination.has_pre = false;\n        } else if (p === this.pagination.total_pages) {\n          this.pagination.has_next = false;\n        } else {\n          this.pagination.has_pre = true;\n          this.pagination.has_next = true;\n        }\n      }\n      this.$emit('emit-pagination', this.pagination);\n    },\n  },\n  computed: {\n    pagipages: function pagipage() {\n      // This calculates the amount of pages\n      return Math.ceil(this.filterProduct.length / this.page.per_page);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=5a05f583\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"bg-light\">\n    <div class=\"container\">\n      <div class=\"row py-8\">\n        <div class=\"col-4\">\n          <div class=\"searchBox\">\n            <div class=\"searchBox-header\">\n              <h3 class=\"fw-bold\">篩選</h3>\n            </div>\n            <div class=\"searchBox-body\">\n              <h4 class=\"mb-6 h3\">地區</h4>\n              <div\n                class=\"d-flex flex-wrap btn-group pb-3 mb-5 border-bottom border-gray\"\n                role=\"group\"\n                aria-label=\"Basic checkbox toggle button group\"\n              >\n                <div v-for=\"(item, key) in tagCategory.cities\" :key=\"key\" class=\"me-2 mb-2\">\n                  <input\n                    type=\"checkbox\"\n                    :id=\"item\"\n                    autocomplete=\"off\"\n                    class=\"btn-check\"\n                    :value=\"item\"\n                    v-model=\"searchArticleTag\"\n                  />\n                  <label :for=\"item\" class=\"btn btn-outline-secondary rounded-3\"\n                    ># {{ item }}\n                  </label>\n                </div>\n              </div>\n              <h4 class=\"mb-6 h3\">類型</h4>\n              <div\n                class=\"d-flex flex-wrap btn-group\"\n                role=\"group\"\n                aria-label=\"Basic checkbox toggle button group\"\n              >\n                <div v-for=\"(item, key) in tagCategory.type\" :key=\"key\" class=\"me-2 mb-2\">\n                  <input\n                    type=\"checkbox\"\n                    :id=\"item\"\n                    autocomplete=\"off\"\n                    class=\"btn-check\"\n                    :value=\"item\"\n                    v-model=\"searchArticleTag\"\n                  />\n                  <label :for=\"item\" class=\"btn btn-outline-secondary rounded-3\"\n                    ># {{ item }}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-8\">\n          <ul class=\"mb-8\">\n            <li class=\"mb-3\" v-for=\"item in filterArticle\" :key=\"item.id\">\n              <router-link :to=\"`/article/${item.id}`\" class=\"card card-row\">\n                <img class=\"card-row-img\" :src=\"item.image\" :alt=\"item.title\" />\n                <div class=\"card-body\">\n                  <div>\n                    <div class=\"d-flex justify-content-between\">\n                      <h5 class=\"card-title mb-2\">{{ item.title }}</h5>\n                      <p class=\"h5 text-gray-dark\">{{ item.create_at }}</p>\n                    </div>\n                    <p class=\"h5 text-gray-dark mb-5\">\n                      <span v-if=\"item.author !== '旅味精選'\">網紅好評推薦 ｜ </span>\n                      {{ item.author }}\n                    </p>\n                    <p>{{ item.description }}</p>\n                  </div>\n                  <p class=\"text-end\">\n                    <button type=\"button\" class=\"btn btn-primary\">閱讀更多</button>\n                  </p>\n                </div>\n              </router-link>\n            </li>\n          </ul>\n          <!--pagination-->\n          <pagination\n            :page=\"pagination\"\n            @emit-pagination=\"getData\"\n            v-if=\"pagination.total_pages > 1\"\n          ></pagination>\n        </div>\n      </div>\n      <!--alert-->\n      <alert v-if=\"showAlert\" :alert-msg=\"alertMsg\"></alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport alert from '@/components/Alert.vue';\nimport pagination from '@/components/Pagination.vue';\n\nexport default {\n  name: 'Product',\n  data() {\n    return {\n      articles: [],\n      tagCategory: {\n        cities: [\n          '基隆',\n          '台北',\n          '新北',\n          '桃園',\n          '新竹',\n          '苗栗',\n          '台中',\n          '彰化',\n          '南投',\n          '雲林',\n          '嘉義',\n          '台南',\n          '高雄',\n          '屏東',\n          '宜蘭',\n          '花蓮',\n          '台東',\n          '離島',\n        ],\n        type: ['親子', '浪漫', '冒險', '自然', '烹飪', '美食', '知性文化', '水上活動'],\n      },\n      searchArticleTag: [],\n      pagination: {},\n    };\n  },\n  components: { alert, pagination },\n  methods: {\n    getData(currentPage = 1) {\n      //   若未傳入則預設為第一頁\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/articles/?page=${currentPage}`,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.articles = res.data.articles;\n            this.articles.forEach((item, index) => {\n              if (typeof item.create_at === 'number') {\n                // 避免已經轉成亦閱讀的日期後，因編輯重跑 getData() ，無法重複轉換而錯誤\n                const time = new Date(item.create_at * 1000)\n                  .toISOString()\n                  .split('T')[0]\n                  .replace(/-/g, ' / ');\n                this.articles[index].create_at = time;\n              }\n            });\n            this.pagination = res.data.pagination;\n          } else {\n            this.customAlert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.customAlert(err.response);\n        });\n    },\n    customAlert(msg) {\n      this.alertMsg = msg;\n      this.showAlert = true; // 秀出 alert\n    },\n    closeCustomAlert() {\n      this.showAlert = false;\n    },\n  },\n  computed: {\n    filterArticle() {\n      if (this.searchArticleTag.length > 0) {\n        return this.articles.filter(\n          (i) => i.tagCheck.filter((val) => this.searchArticleTag.indexOf(val) !== -1).length > 0,\n        );\n      }\n      return this.articles;\n    },\n  },\n  created() {\n    this.getData();\n  },\n};\n</script>\n","import { render } from \"./ArticleList.vue?vue&type=template&id=3b2a6550\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n    {{ alertMsg }}\n  </div>\n</template>\n<script>\nexport default {\n  props: ['alertMsg'],\n};\n</script>\n","import { render } from \"./Alert.vue?vue&type=template&id=75396c34\"\nimport script from \"./Alert.vue?vue&type=script&lang=js\"\nexport * from \"./Alert.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}