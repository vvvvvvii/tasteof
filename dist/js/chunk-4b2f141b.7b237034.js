(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b2f141b"],{"4f23":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o={class:"navbar navbar-expand-lg navbar-dark bg-primary"},s={class:"container align-items-center"},n=Object(a["createTextVNode"])(" 旅味 "),r={class:"collapse navbar-collapse justify-content-between ms-3",id:"navbarSupportedContent"},i={class:"navbar-nav"},l={class:"nav-item"},d=Object(a["createTextVNode"])(" 管理產品 "),b={class:"nav-item"},u=Object(a["createTextVNode"])(" 管理訂單 "),h={class:"nav-item"},j=Object(a["createTextVNode"])(" 管理優惠券 "),O={class:"nav-item"},m=Object(a["createTextVNode"])(" 管理文章 "),p={class:"navbar-nav h3"},N={class:"nav-item"},v=Object(a["createVNode"])("i",{class:"bi bi-person-circle"},null,-1),V=Object(a["createVNode"])("li",{class:"nav-item"},[Object(a["createVNode"])("a",{class:"nav-link px-3"},[Object(a["createVNode"])("i",{class:"bi bi-gear-fill"})])],-1),x={class:"modal fade",ref:"accountModal",tabindex:"-1","aria-labelledby":"accountModalLabel","aria-hidden":"true"},k={class:"modal-dialog modal-sm"},f={class:"modal-content bg-secondary"},g={class:"modal-body px-3"},w={class:"container-fluid"},T=Object(a["createVNode"])("div",{class:"text-end"},[Object(a["createVNode"])("button",{type:"button",class:"bg-transparent border-0 p-2 text-white h3","data-bs-dismiss":"modal","aria-label":"Close"},[Object(a["createVNode"])("i",{class:"bi bi-x-lg"})])],-1),y={class:"row justify-content-center"},$={class:"text-center text-white"},C=Object(a["createVNode"])("i",{class:"bi bi-person-circle h1 mb-2"},null,-1),A={class:"mb-6"},M={class:"text-start d-inline-block"},B={class:"mb-2"},D=Object(a["createTextVNode"])(" 登入時間："),L=Object(a["createVNode"])("br",null,null,-1),S={class:"mb-6"},_=Object(a["createTextVNode"])(" 有效期限："),E=Object(a["createVNode"])("br",null,null,-1),J=Object(a["createVNode"])("div",{class:"spinner-border spinner-border-sm text-dark d-none",role:"status"},[Object(a["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),z=Object(a["createVNode"])("p",{class:"ms-1"},"登出",-1);function F(e,t,c,F,G,q){var H=this,I=Object(a["resolveComponent"])("router-link"),K=Object(a["resolveComponent"])("router-view"),P=Object(a["resolveComponent"])("Alert");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("nav",o,[Object(a["createVNode"])("div",s,[Object(a["createVNode"])("h1",null,[Object(a["createVNode"])(I,{href:"#",to:"/",class:"logo"},{default:Object(a["withCtx"])((function(){return[n]})),_:1})]),Object(a["createVNode"])("div",r,[Object(a["createVNode"])("ul",i,[Object(a["createVNode"])("li",l,[Object(a["createVNode"])(I,{to:"/admin/product",class:"nav-link","aria-current":"true","active-class":"active"},{default:Object(a["withCtx"])((function(){return[d]})),_:1})]),Object(a["createVNode"])("li",b,[Object(a["createVNode"])(I,{to:"/admin/order",class:"nav-link","active-class":"active"},{default:Object(a["withCtx"])((function(){return[u]})),_:1})]),Object(a["createVNode"])("li",h,[Object(a["createVNode"])(I,{to:"/admin/coupon",class:"nav-link","active-class":"active"},{default:Object(a["withCtx"])((function(){return[j]})),_:1})]),Object(a["createVNode"])("li",O,[Object(a["createVNode"])(I,{to:"/admin/article",class:"nav-link","active-class":"active"},{default:Object(a["withCtx"])((function(){return[m]})),_:1})])]),Object(a["createVNode"])("ul",p,[Object(a["createVNode"])("li",N,[Object(a["createVNode"])("a",{class:"nav-link px-3",onClick:t[1]||(t[1]=function(e){return q.openModal(H.accountBsModal)})},[v])]),V])])])]),Object(a["createVNode"])("div",x,[Object(a["createVNode"])("div",k,[Object(a["createVNode"])("div",f,[Object(a["createVNode"])("div",g,[Object(a["createVNode"])("div",w,[T,Object(a["createVNode"])("div",y,[Object(a["createVNode"])("div",$,[C,Object(a["createVNode"])("h2",A,Object(a["toDisplayString"])(G.accountData.hexLoginName),1),Object(a["createVNode"])("ul",M,[Object(a["createVNode"])("li",B,[D,L,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(G.accountData.hexTokenStart),1)]),Object(a["createVNode"])("li",S,[_,E,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(G.accountData.hexTokenExpired),1)])]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-primary w-50 mx-auto\n                    d-flex justify-content-center align-items-center",ref:"logoutBtn",onClick:t[2]||(t[2]=function(){return q.logout&&q.logout.apply(q,arguments)})},[J,z],512)])])])])])])],512),G.checkSuccess?(Object(a["openBlock"])(),Object(a["createBlock"])(K,{key:0})):Object(a["createCommentVNode"])("",!0),G.showAlert?(Object(a["openBlock"])(),Object(a["createBlock"])(P,{key:1,"alert-msg":G.alertMsg},null,8,["alert-msg"])):Object(a["createCommentVNode"])("",!0)],64)}c("ac1f"),c("5319"),c("159b"),c("b64b"),c("99af");var G=c("a02d"),q=c("7b17"),H={data:function(){return{checkSuccess:!1,accountBsModal:"",accountData:{hexLoginName:"",hexToken:"",hexTokenStart:"",hexTokenExpired:""},showAlert:!1,alertMsg:""}},components:{Alert:G["a"]},methods:{checkLogin:function(){var e=this,t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),c=document.cookie.replace(/(?:(?:^|.*;\s*)hexLoginName\s*=\s*([^;]*).*$)|^.*$/,"$1"),a=document.cookie.replace(/(?:(?:^|.*;\s*)hexTokenStart\s*=\s*([^;]*).*$)|^.*$/,"$1"),o=document.cookie.replace(/(?:(?:^|.*;\s*)hexTokenExpired\s*=\s*([^;]*).*$)|^.*$/,"$1");if(this.accountData.hexLoginName=c,this.accountData.hexToken=t,this.accountData.hexTokenStart=a,this.accountData.hexTokenExpired=o,t){this.$http.defaults.headers.common.Authorization="".concat(t);var s={api_token:this.token};this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/user/check"),s).then((function(t){t.data.success?e.checkSuccess=!0:(e.customAlert("您尚未登入"),window.setTimeout(e.closeCustomAlert,5e3),e.$router.push("/login"))}))}else this.customAlert("您尚未登入"),window.setTimeout(this.closeCustomAlert,5e3),this.$router.push("/login")},customAlert:function(e){this.alertMsg=e,this.showAlert=!0},closeCustomAlert:function(){this.showAlert=!1},openModal:function(e){e.show()},logout:function(){var e=this,t=this.$refs.logoutBtn;t.classList.add("disabled"),t.children[0].classList.remove("d-none"),Object.keys(this.accountData).forEach((function(t){document.cookie="".concat(t,"=").concat(e.accountData.item,";expires=Thu, 01-Jan-70 00:00:01 GMT;path=/")})),t.classList.remove("disabled"),t.children[0].classList.add("d-none"),this.customAlert("已成功登出"),window.setTimeout(this.closeCustomAlert,5e3),this.accountBsModal.hide(),this.$router.push("/")}},mounted:function(){this.accountBsModal=new q["a"](this.$refs.accountModal),this.checkLogin()}};H.render=F;t["default"]=H},a02d:function(e,t,c){"use strict";var a=c("7a23"),o={class:"alert alert-primary fade show",role:"alert"},s=Object(a["createVNode"])("i",{class:"bi bi-exclamation-triangle-fill me-2 text-primary"},null,-1);function n(e,t,c,n,r,i){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[s,Object(a["createTextVNode"])(Object(a["toDisplayString"])(c.alertMsg),1)])}var r={props:["alertMsg"]};r.render=n;t["a"]=r}}]);
//# sourceMappingURL=chunk-4b2f141b.7b237034.js.map